(()=>{var e={940:()=>{if(!globalThis.trans){globalThis.translations=ko.observable({});const e=phpGWLink("bookingfrontend/lang.php",null,!0);fetch(e).then((e=>e.json())).then((e=>globalThis.translations(e))),globalThis.trans=(e,t,...a)=>{const i=globalThis.translations(),s=e=>i[e]&&i[e][t]?i[e][t].replace(/%\d+/g,(e=>{const t=parseInt(e.substring(1))-1;return void 0!==a[t]?a[t]:e})):null;if(Array.isArray(e))for(let a=0;a<e.length;a++){const i=s(e[a]);if(i&&console.log("found translation",e[a],t,i),null!==i)return i}else{const a=s(e);if(a&&console.log("found translation",e,t,a),null!==a)return a}if(!Array.isArray(e)||!e.includes("common")){const e=s("common");if(e&&console.log("found translation","common",t,translation),null!==e)return e}return`Missing translation for [${Array.isArray(e)?e.join(", "):e}][${t}]`};class t{constructor(e,t){let a=t.templateNodes.map((e=>e.textContent));1===a.length&&a[0].includes(":")&&(a=a[0].split(":")),a=a.map((e=>e.trim())),a.length>0?(this.tag=ko.observable(a[1]),this.group=ko.observable(a[0])):(this.tag="function"==typeof e.tag?e.tag:ko.observable(e.tag),this.group="function"==typeof e.group?e.group:ko.observable(e.group)),this.args=ko.observable(e.args),this.translations=globalThis.translations}translated=ko.computed((()=>{if(self.translations&&self.translations()&&Object.keys(self.translations()).length>0)return globalThis.trans(this.group(),this.tag(),this.args())}))}ko.components.register("trans",{viewModel:{createViewModel:function(e,a){return new t(e,a)}},template:"\x3c!--ko text: translated()--\x3e\x3c!--/ko--\x3e"})}}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var n=t[i]={exports:{}};return e[i](n,n.exports,a),n.exports}(()=>{"use strict";a(940),$(document).ready((function(){$("input[type=radio][name=select_template]").change((function(){var e=$(this).val(),t=phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.preferences.set"},!0);$.ajax({type:"POST",dataType:"json",data:{template_set:e},url:t,success:function(e){location.reload(!0)}})})),$("input[type=radio][name=select_language]").change((function(){var e=$(this).val(),t=phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.preferences.set"},!0);$.ajax({type:"POST",dataType:"json",data:{lang:e},url:t,success:function(e){location.reload(!0)}})}))})),ko.subscribable.fn.subscribeChanged=function(e){let t;this.subscribe((function(e){t=e}),void 0,"beforeChange"),this.subscribe((function(a){e(a,t)}))};class e{data={activities:ko.observableArray([]),selected_activities:ko.observableArray([]),organizations:ko.observableArray([]),selected_organizations:ko.observableArray([]),text:ko.observable("")};constructor(){const e=document.getElementById("search-organization");ko.cleanNode(e),ko.applyBindings(this.data,e),this.data.text.subscribe((e=>{this.search()})),this.data.selected_activities.subscribe((e=>{this.search()}))}reset(){$("#search-organization-activities").val([]).trigger("change"),this.data.text("")}search(){let e=[];const t=c();if(""!==this.data.text()||this.data.selected_organizations().length>0||this.data.selected_activities().length>0){const a=new RegExp(this.data.text(),"i");if(e=this.data.organizations().filter((e=>e.name.match(a))),this.data.selected_organizations().length>0&&(e=e.filter((e=>this.data.selected_organizations().some((t=>t.id===e.id))))),this.data.selected_activities().length>0){let t=[];for(const e of this.data.selected_activities())t.push(...l(this.data.activities(),e.id));t=[...new Set(t)],e=e.filter((e=>t.some((t=>t===e.activity_id))))}this.addInfoCards(t,e.slice(0,10),e.length)}else d(null);createJsSlidedowns()}addInfoCards=(e,t,a)=>{const i=[];for(const e of t)i.push(`\n    <div class="col-12 mb-4">\n      <div class="js-slidedown slidedown">\n        <button class="js-slidedown-toggler slidedown__toggler" type="button" aria-expanded="false">\n          <span>${e.name}</span>\n          <span class="slidedown__toggler__info">\n          ${u([e.email,e.street])}\n          </span>\n        </button>\n        <div class="js-slidedown-content slidedown__content">\n          <p>\n            ${e.description}\n            <ul>\n                <li>Hjemmeside: ${e.homepage}</li>\n                <li>Tlf: ${e.phone}</li>\n                <li>E-post: ${e.email}</li>\n                <li>Adresse: ${e.street}</li>\n                <li>Postnr: ${e.zip_code}</li>\n                <li>Poststed: ${e.city}</li>\n                <li>Distrikt: ${e.district}</li>\n                <li><a href="${phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.uiorganization.show",id:e.id},!1)}">Mer info</a></li>\n            </ul>\n          </p> \n        </div>\n      </div>\n    </div>\n`);e.append(i.join("")),d(t,a)}}class t{data={towns_data:ko.observableArray([]),towns:ko.observableArray([]),selected_town:ko.observable(),buildings:ko.observableArray([]),selected_buildings:ko.observableArray([]),building_resources:ko.observableArray([]),activities:ko.observableArray([]),selected_activities:ko.observableArray([]),resource_activities:ko.observableArray([]),resource_categories:ko.observableArray([]),selected_resource_categories:ko.observableArray([]),resource_category_activity:ko.observableArray([]),resources:ko.observableArray([]),selected_resources:ko.observableArray([]),facilities:ko.observableArray([]),selected_facilities:ko.observableArray([]),resource_facilities:ko.observableArray([]),text:ko.observable(""),date:ko.observable(s(new Date)),show_only_available:ko.observable(!1),result:ko.observableArray([]),result_all:ko.observableArray([]),available_resources:ko.observableArray([]),taken_allocations:ko.observableArray([]),seasons:ko.observableArray([]),resources_with_available_time:ko.observableArray([]),easy_booking_available_ids:ko.observableArray([])};activity_cache={};allocation_cache={};easy_booking_available_cache={};easy_booking_not_available_cache={};constructor(){const e=document.getElementById("search-booking");ko.cleanNode(e),ko.applyBindings(this.data,e),this.updateBuildings(null),this.data.text.subscribe((e=>this.searchFetch())),this.data.selected_buildings.subscribe((e=>this.searchFetch())),this.data.selected_resource_categories.subscribe((e=>this.searchFetch())),this.data.selected_facilities.subscribe((e=>this.searchFetch())),this.data.selected_activities.subscribe((e=>this.searchFetch())),this.data.show_only_available.subscribe((e=>{e||this.data.resources_with_available_time([]),this.searchFetch()})),this.data.towns.subscribe((e=>this.updateBuildings(null))),this.data.date.subscribe((e=>{""!==e?this.searchFetch():this.data.date(s(new Date))})),this.data.selected_town.subscribe((e=>{this.updateBuildings(e),this.searchFetch()})),this.data.towns_data.subscribe((e=>{this.data.towns([...new Set(e.map((e=>e.name)))].sort(((e,t)=>e.localeCompare(t,"no"))).map((t=>({name:h(t),id:e.find((e=>e.name===t)).id}))))})),this.data.activities.subscribe((e=>{for(const t of e)this.activity_cache[t.id]=l(e,t.id)})),this.data.result_all.subscribeChanged(((e,t)=>{(function(e,t){if(e.length!==t.length)return!1;for(let a=0;a<e.length;a++)if(e[a]!==t[a])return!1;return!0})(e.map((e=>e.id)).sort(),t.map((e=>e.id)).sort())||this.data.show_only_available()&&this.fetchAvailableResources()}))}fetchEasyBooking(e){const t=`${this.data.date()}`,a=`${this.data.date()}`;t in this.easy_booking_available_cache||(this.easy_booking_available_cache[t]=[],this.easy_booking_not_available_cache[t]=[]);const i=[...new Set(this.data.result_all().filter((e=>!this.easy_booking_not_available_cache[t].includes(e.id)&&!this.easy_booking_available_cache[t].includes(e.id))).map((e=>e.id)))];if(0===i.length)return void e();const s=phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.uibooking.get_freetime_limit",start_date:t,end_date:a,resource_ids:i.join(","),length:-1},!0);$.ajax({url:s,success:a=>{this.populate_easy_booking_available_cache(a,t,i),e()},error:t=>{console.log(t),e()}})}fetchAvailableResources(){let e=!1,t=!1;const a=`${this.data.date()} 00:00:00`,i=`${this.data.date()} 23:59:59`,s=()=>{e&&t&&(this.data.available_resources([]),this.data.taken_allocations(this.data.result_all().filter((e=>1!==e.simple_booking)).map((e=>this.allocation_cache[a].allocations[e.id])).flat()),this.data.seasons(this.data.result_all().filter((e=>1!==e.simple_booking)).map((e=>this.allocation_cache[a].seasons[e.id])).flat()),this.calculateAvailableResources(),this.search())};this.fetchEasyBooking((()=>{e=!0,s()})),a in this.allocation_cache||(this.allocation_cache[a]={},this.allocation_cache[a].allocations={},this.allocation_cache[a].seasons={});const n=[...new Set(this.data.result_all().filter((e=>1!==e.simple_booking)).filter((e=>!(e.id in this.allocation_cache[a].allocations))).map((e=>e.id)))];if(0===n.length)return t=!0,void s();const o=phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.uisearch.search_available_resources",from_date:a,to_date:i,resource_ids:n.join(","),length:-1},!0);$.ajax({url:o,success:e=>{this.populate_allocation_cache(e,a,n),t=!0,s()},error:e=>{console.log(e)}})}populate_allocation_cache=(e,t,a)=>{const i=this.allocation_cache[t];a.map((e=>{e in i.allocations||(i.allocations[e]=[]),e in i.seasons||(i.seasons[e]=[])})),e.allocations.map((e=>{i.allocations[e.resource_id].push(e)})),e.seasons.map((e=>{i.seasons[e.resource_id].push(e)}))};populate_easy_booking_available_cache=(e,t,a)=>{const i=this.easy_booking_available_cache[t];Object.keys(e).map((t=>{e[t].map((e=>{e.overlap||i.push(e.applicationLink.resource_id)}))})),this.easy_booking_available_cache[t]=[...new Set(i)],this.easy_booking_not_available_cache[t]=[...new Set(a.filter((e=>!this.easy_booking_available_cache[t].includes(e))))]};reset(){this.data.selected_town(null),$("#search-booking-activities").val([]).trigger("change"),$("#search-booking-building").val([]).trigger("change"),$("#search-booking-resource_categories").val([]).trigger("change"),$("#search-booking-facilities").val([]).trigger("change"),this.data.text(""),this.data.date(s(new Date))}searchFetch(){this.data.show_only_available()?this.fetchAvailableResources():this.search()}search(){let e=[],t=!1;if((void 0!==this.data.selected_town()||this.data.selected_buildings().length>0||this.data.selected_facilities().length>0||this.data.selected_activities().length>0||this.data.selected_resource_categories().length>0)&&(e=this.data.resources(),void 0!==this.data.selected_town()&&(e=e.filter((e=>this.data.building_resources().some((t=>this.data.buildings().some((a=>a.id===t.building_id&&e.id===t.resource_id))))))),this.data.selected_buildings().length>0&&(e=e.filter((e=>this.data.building_resources().some((t=>this.data.selected_buildings().some((a=>a.id===t.building_id&&e.id===t.resource_id))))))),this.data.selected_facilities().length>0&&(e=e.filter((e=>this.data.selected_facilities().map((e=>e.id)).every((t=>this.data.resource_facilities().some((a=>a.resource_id===e.id&&a.facility_id===t))))))),this.data.selected_activities().length>0&&(e=e.filter((e=>this.data.selected_activities().map((e=>e.id)).every((t=>this.data.resource_activities().some((a=>this.activity_cache[t].includes(a.activity_id)&&e.id===a.resource_id))))))),this.data.selected_resource_categories().length>0&&(e=e.filter((e=>this.data.selected_resource_categories().some((t=>t.id===e.rescategory_id))))),t=!0),""!==this.data.text()){t||(e=this.data.resources());const a=new RegExp(this.data.text(),"i");let i=[],s=[];if(0===this.data.selected_buildings().length){const e=this.data.buildings().filter((e=>e.name.match(a)));i=this.getResourcesFromBuildings(e)}if(0===this.data.selected_activities().length){const e=this.data.activities().filter((e=>e.name.match(a))).map((e=>this.activity_cache[e.id])),t=this.data.resource_activities(),i=new Set(e.flatMap((e=>e.flatMap((e=>t.filter((t=>t.activity_id===e)))))).map((e=>e.resource_id)));s=this.data.resources().filter((e=>i.has(e.id)))}e=[...e.filter((e=>e.name.match(a)||i.some((t=>t.id===e.id)))),...s],t=!0}const a=c();t?(e=e.reduce(((e,t)=>(-1===e.findIndex((e=>e.id===t.id))&&e.push(t),e)),[]),this.data.result_all(e),this.data.show_only_available()&&(e=e.filter((e=>this.data.resources_with_available_time().includes(e.id)))),this.addInfoCards(a,e.sort(((e,t)=>e.name.localeCompare(t.name))))):(d(null),this.addInfoCards(a,[])),createJsSlidedowns()}calculateAvailableResources=()=>{const e=e=>{const[t,a,i]=e.split(":");return+i+60*+a+3600*+t},t=(e,t)=>{const a=new Date(e.split(" ")[0]),i=new Date(t.split(" ")[0]);return a.getDate()===i.getDate()&&a.getMonth()===i.getMonth()&&a.getFullYear()===i.getFullYear()},a=(e=>{const[t,a,i]=this.data.date().split(".");return new Date(`${i}-${a}-${t}`)})(this.data.date()).getDay(),i=this.data.taken_allocations().reduce(((a,i)=>(a[i.resource_id]=a[i.resource_id]||[],a[i.resource_id].push([e(i.from_.split(" ")[1]),t(i.from_,i.to_)?e(i.to_.split(" ")[1]):86400]),a)),{}),s=this.data.seasons().reduce(((t,i)=>(i.wday===a&&(i.resource_id in t||(t[i.resource_id]=[]),t[i.resource_id].push([e(i.from_time),e(i.to_time)])),t)),{}),n=Object.keys(s).filter((e=>!(e in i)||!((e,t)=>{e.sort(((e,t)=>e[0]-t[0]));const a=[e[0]];for(let t=1;t<e.length;t++){const i=a[a.length-1];e[t][0]<=i[1]?i[1]=Math.max(i[1],e[t][1]):a.push(e[t])}return a.reduce(((e,t)=>e+(t[1]-t[0])),0)>=t.reduce(((e,t)=>e+(t[1]-t[0])),0)})(i[e],s[e]))).map((e=>+e));this.data.resources_with_available_time([...new Set([...n,...this.easy_booking_available_cache[this.data.date()]])])};updateBuildings=(e=null)=>{this.data.buildings(this.data.towns_data().filter((t=>!e||e.id===t.id)).map((e=>({id:e.b_id,name:h(e.b_name)}))).sort(((e,t)=>e.name?.localeCompare(t.name,"no"))))};getResourcesFromBuildings=e=>{const t=e.map((e=>e.id));return this.data.building_resources().filter((e=>t.includes(e.building_id))).map((e=>this.data.resources().find((t=>t.id===e.resource_id)))).filter((e=>!!e))};getBuildingsFromResource=e=>{const t=this.data.building_resources().filter((t=>t.resource_id===e)).map((e=>e.building_id));return this.data.buildings().filter((e=>t.includes(e.id)))};getTownFromBuilding=e=>{const t=e.map((e=>+e.id));return this.data.towns_data().filter((e=>t.includes(+e.b_id)))};cleanTownName=e=>e.split("\n").map((e=>(e.toLowerCase().includes("bydel")&&(e=e.replace(/bydel/gi,"").trim()),e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()))).join("\n");addInfoCards(e,t){const a=[],i=[];for(const e of t){const t=this.getBuildingsFromResource(e.id),s=this.getTownFromBuilding(t);if(s.length>0){const n=`calendar-${e.id}`;i.push(e);let o="";o=1===e.simple_booking?phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.uiresource.show",building_id:t[0].id,id:e.id},!1):phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.uiapplication.add",building_id:t[0].id,resource_id:e.id},!1);const l=phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.uibuilding.show",id:t[0].id});a.push(`\n                            <div class="col-12 mb-4">\n                                <div class="js-slidedown slidedown">\n                                    <button class="js-slidedown-toggler slidedown__toggler" type="button" aria-expanded="false">\n                                        <span><div class="fa-solid fa-layer-group"></div> ${e.name}</span>\n                                        <span class="slidedown__toggler__info">\n                ${u([`<span class="text-overline">${u(s.map((e=>this.cleanTownName(e.name))))}</span>`,...t.map((e=>`<a href="${phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.uibuilding.show",id:e.id})}" class="link-text link-text-primary"><i class="fa-solid fa-location-dot"></i>${e.name}</a>`))])}\n            </span>\n                                    </button>\n                                    <div class="js-slidedown-content slidedown__content">\n                                        <div>\n                                            \x3c!--                                            <div class="d-flex">--\x3e\n                                                \x3c!--<button class="pe-btn pe-btn-primary" style="margin-right: 8px;" onclick="location.href='${o}\n                                                    '">SÃ¸knad</button>--\x3e\n                                                \x3c!--<button class="pe-btn pe-btn-secondary"\n                                                        onclick="location.href='${l}'">${t[0].name}\n                                                </button>--\x3e\n                                            \x3c!--                                            </div>--\x3e\n                                            <p>\n                                                ${e.description}\n                                            </p>\n                                        </div>\n                                        <div id="${n}" class="calendar" data-building-id="${t[0].id}"\n                                             data-resource-id="${e.id}"\n                                             data-date="${r(this.data.date())}"></div>\n                                    </div>\n                                </div>\n                            </div>\n                    `)}}this.data.result(i.slice(0,50)),e.append(a.join("")),e.find("a.link-text").on("click",(function(e){e.stopPropagation()})),d(i.slice(0,50),i.length)}adjustMobilePositionOnSearch(){let e=document.getElementById("search-booking");setTimeout((function(){window.scrollTo(0,e.getBoundingClientRect().top)}),200)}}class i{data={text:ko.observable(""),from_date:ko.observable(s(new Date)),to_date:ko.observable(s(new Date((new Date).getTime()+6048e5))),events:ko.observableArray([])};constructor(){const e=document.getElementById("search-event");ko.cleanNode(e),ko.applyBindings(this.data,e),this.data.text.subscribe((e=>{this.search()})),this.data.from_date.subscribe((e=>{this.fetchEventOnDates()})),this.data.to_date.subscribe((e=>{this.fetchEventOnDates()}))}fetchEventOnDates(){const e=this.data.from_date()?.split("."),t=this.data.to_date()?.split("."),a=e&&e.length>1?`${e[2]}-${e[1]}-${e[0]}T00:00:00`:`${(i=new Date).getFullYear()}-${i.getMonth()+1}-${i.getDate()}`;var i;const s=t&&t.length>1?`${t[2]}-${t[1]}-${t[0]}T23:59:59`:`${e[2]}-${e[1]}-${e[0]}T23:59:59`,n=phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.uieventsearch.upcoming_events",fromDate:a,toDate:s,buildingID:"",facilityTypeID:"",loggedInOrgs:"",start:0,end:1e3,length:-1},!0);$.ajax({url:n,success:e=>{this.data.events=e,this.search()},error:e=>{console.log(e)}})}reset(){this.data.text(""),this.data.from_date(s(new Date)),this.data.to_date("")}search(){let e=this.data.events.slice(0,5),t=this.data.events.length;const a=c();if(""!==this.data.text()){const a=new RegExp(this.data.text(),"i");e=this.data.events.filter((e=>e.event_name.match(a)||e.location_name.match(a))),t=e.length}this.addInfoCards(a,e,t),createJsSlidedowns()}addInfoCards(e,t,a){const i=[];for(const e of t)i.push(`\n    <div class="col-12 mb-4">\n      <div class="js-slidedown slidedown">\n        <button class="js-slidedown-toggler slidedown__toggler" type="button" aria-expanded="false">\n          <span>${e.event_name}</span>\n          <span class="slidedown__toggler__info">\n          ${u([e.location_name,o(new Date(e.from))+" - "+(new Date(e.from).getDate()===new Date(e.to).getDate()?n(new Date(e.to)):o(new Date(e.to)))])}\n          </span>\n        </button>\n        <div class="js-slidedown-content slidedown__content">\n          <p>\n            ${e.location_name}\n            <ul>\n                <li>Fra: ${e.from}</li>\n                <li>Til: ${e.to}</li>\n            </ul>\n          </p> \n        </div>\n      </div>\n    </div>\n`);e.append(i.join("")),d(t,a)}}function s(e){return`${e.getDate()}.${e.getMonth()+1}.${e.getFullYear()}`}function n(e){return`${("0"+e.getHours()).slice(-2)}:${("0"+e.getMinutes()).slice(-2)}`}function o(e){return`${s(e)} ${n(e)}`}function r(e){const t=e.replace(/[.\/]/g,"-"),[a,i,s]=t.split("-").map((e=>parseInt(e,10)));return luxon.DateTime.local(s,i,a).toJSDate()}function l(e,t){let a=[t];return e.filter((e=>e.parent_id===t)).map((t=>{a.push(...l(e,t.id))})),a}function c(){const e=$("#search-result");return e.empty(),e}function d(e,t=0){const a=$("#search-count");a.empty(),e&&a.append(`Antall treff: ${e.length}${t>0?" av "+t:""}`)}function h(e){const t=(new DOMParser).parseFromString(e,"text/html").documentElement.textContent;return(new DOMParser).parseFromString(t,"text/html").documentElement.textContent}function u(e){return e.map((e=>e&&e.length>0?`<span class="d-flex align-items-center">${e}</span>`:null)).filter((e=>e)).join('<span class="slidedown__toggler__info__separator"><i class="fa-solid fa-circle"></i></span>')}function g(e){return function(e,t){return e.sort(((e,a)=>e[t]?.localeCompare(a[t],"no")))}(e,"name")}new class{data={location:[],activities:[],resource_categories:[],resources:[],facilities:[],buildings:[],building_resources:[],organizations:[],events:[]};booking=new t;event=new i;organization=new e;ko_search={type_group:ko.observable(null),header_text_kword:ko.observable({}),header_sub_kword:ko.observable({})};constructor(){const e=document.getElementById("search-header");ko.cleanNode(e),ko.applyBindings(this.ko_search,e),this.ko_search.type_group.subscribe((e=>{this.updateHeaderTexts(e)})),this.fetchData();const t=this;$(document).ready((function(){t.ko_search.type_group(location.hash.substring(1))})),$("#id-reset-filter").click((()=>{switch(t.ko_search.type_group()){case"booking":t.booking.reset();break;case"event":t.event.reset();break;case"organization":t.organization.reset()}}))}fetchData=()=>{const e=this,t=phpGWLink("bookingfrontend/",{menuaction:"bookingfrontend.uisearch.get_search_data_all",length:-1},!0);$.ajax({url:t,success:t=>{e.data={...e.data,...t},e.booking.data.building_resources(t.building_resources),e.booking.data.towns_data(g(t.towns)),e.booking.data.activities(g(e.data.activities)),e.booking.data.resources(g(e.data.resources.map((e=>({...e,name:h(e.name)}))))),e.booking.data.facilities(g(e.data.facilities.map((e=>({...e,name:h(e.name)}))))),e.booking.data.resource_categories(g(e.data.resource_categories)),e.booking.data.resource_facilities(e.data.resource_facilities),e.booking.data.resource_activities(e.data.resource_activities),e.booking.data.resource_category_activity(e.data.resource_category_activity),e.event.data.events(e.data.events),e.organization.data.activities(g(e.data.activities.map((e=>({...e,name:h(e.name)}))))),e.organization.data.organizations(e.data.organizations.map((e=>({...e,name:h(e.name)}))))},error:e=>{console.log(e)}})};updateHeaderTexts=e=>{switch(e){case"booking":if(!landing_sections.booking){this.updateHeaderTexts();break}this.ko_search.header_text_kword({tag:"rent_premises_facilities_equipment",group:"bookingfrontend"}),this.ko_search.header_sub_kword({tag:"use_filters_to_find_rental_objects",group:"bookingfrontend"}),$("#search-booking").show(),$("#search-event").hide(),$("#search-organization").hide(),this.booking.search(),window.location.hash="#booking";break;case"event":if(!landing_sections.event){this.updateHeaderTexts();break}this.ko_search.header_text_kword({tag:"find_event_or_activity",group:"bookingfrontend"}),this.ko_search.header_sub_kword({tag:"use_filters_to_find_todays_events",group:"bookingfrontend"}),$("#search-event").show(),$("#search-booking").hide(),$("#search-organization").hide(),0===this.data.events.length&&this.event.fetchEventOnDates(),this.event.search(),window.location.hash="#event";break;case"organization":if(!landing_sections.organization){this.updateHeaderTexts();break}this.ko_search.header_text_kword({tag:"find_team_or_organization",group:"bookingfrontend"}),this.ko_search.header_sub_kword({tag:"search_for_like_minded_people",group:"bookingfrontend"}),$("#search-organization").show(),$("#search-booking").hide(),$("#search-event").hide(),this.organization.search(),window.location.hash="#organization";break;default:if(landing_sections.booking){this.ko_search.type_group("booking");break}if(landing_sections.event){this.ko_search.type_group("event");break}this.ko_search.type_group("organization")}}}})()})();