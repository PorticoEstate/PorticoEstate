if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/aui-diagram-node/aui-diagram-node.js']) {
   __coverage__['build/aui-diagram-node/aui-diagram-node.js'] = {"path":"build/aui-diagram-node/aui-diagram-node.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0,"94":0,"95":0,"96":0,"97":0,"98":0,"99":0,"100":0,"101":0,"102":0,"103":0,"104":0,"105":0,"106":0,"107":0,"108":0,"109":0,"110":0,"111":0,"112":0,"113":0,"114":0,"115":0,"116":0,"117":0,"118":0,"119":0,"120":0,"121":0,"122":0,"123":0,"124":0,"125":0,"126":0,"127":0,"128":0,"129":0,"130":0,"131":0,"132":0,"133":0,"134":0,"135":0,"136":0,"137":0,"138":0,"139":0,"140":0,"141":0,"142":0,"143":0,"144":0,"145":0,"146":0,"147":0,"148":0,"149":0,"150":0,"151":0,"152":0,"153":0,"154":0,"155":0,"156":0,"157":0,"158":0,"159":0,"160":0,"161":0,"162":0,"163":0,"164":0,"165":0,"166":0,"167":0,"168":0,"169":0,"170":0,"171":0,"172":0,"173":0,"174":0,"175":0,"176":0,"177":0,"178":0,"179":0,"180":0,"181":0,"182":0,"183":0,"184":0,"185":0,"186":0,"187":0,"188":0,"189":0,"190":0,"191":0,"192":0,"193":0,"194":0,"195":0,"196":0,"197":0,"198":0,"199":0,"200":0,"201":0,"202":0,"203":0,"204":0,"205":0,"206":0,"207":0,"208":0,"209":0,"210":0,"211":0,"212":0,"213":0,"214":0,"215":0,"216":0,"217":0,"218":0,"219":0,"220":0,"221":0,"222":0,"223":0,"224":0,"225":0,"226":0,"227":0,"228":0,"229":0,"230":0,"231":0,"232":0,"233":0,"234":0,"235":0,"236":0,"237":0,"238":0,"239":0,"240":0,"241":0,"242":0,"243":0,"244":0,"245":0,"246":0,"247":0,"248":0,"249":0,"250":0,"251":0,"252":0,"253":0,"254":0,"255":0,"256":0,"257":0,"258":0,"259":0,"260":0,"261":0,"262":0,"263":0,"264":0,"265":0,"266":0,"267":0,"268":0,"269":0,"270":0,"271":0,"272":0,"273":0,"274":0,"275":0,"276":0,"277":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0],"22":[0,0],"23":[0,0],"24":[0,0],"25":[0,0],"26":[0,0],"27":[0,0],"28":[0,0],"29":[0,0],"30":[0,0],"31":[0,0],"32":[0,0],"33":[0,0],"34":[0,0],"35":[0,0],"36":[0,0],"37":[0,0],"38":[0,0],"39":[0,0],"40":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":28},"end":{"line":1,"column":47}}},"2":{"name":"(anonymous_2)","line":5,"loc":{"start":{"line":5,"column":30},"end":{"line":5,"column":62}}},"3":{"name":"(anonymous_3)","line":11,"loc":{"start":{"line":11,"column":26},"end":{"line":11,"column":43}}},"4":{"name":"(anonymous_4)","line":18,"loc":{"start":{"line":18,"column":28},"end":{"line":18,"column":65}}},"5":{"name":"(anonymous_5)","line":46,"loc":{"start":{"line":46,"column":23},"end":{"line":46,"column":37}}},"6":{"name":"(anonymous_6)","line":50,"loc":{"start":{"line":50,"column":12},"end":{"line":50,"column":26}}},"7":{"name":"(anonymous_7)","line":185,"loc":{"start":{"line":185,"column":21},"end":{"line":185,"column":32}}},"8":{"name":"(anonymous_8)","line":397,"loc":{"start":{"line":397,"column":19},"end":{"line":397,"column":34}}},"9":{"name":"(anonymous_9)","line":409,"loc":{"start":{"line":409,"column":24},"end":{"line":409,"column":50}}},"10":{"name":"(anonymous_10)","line":413,"loc":{"start":{"line":413,"column":40},"end":{"line":413,"column":57}}},"11":{"name":"(anonymous_11)","line":425,"loc":{"start":{"line":425,"column":17},"end":{"line":425,"column":30}}},"12":{"name":"(anonymous_12)","line":447,"loc":{"start":{"line":447,"column":21},"end":{"line":447,"column":32}}},"13":{"name":"(anonymous_13)","line":496,"loc":{"start":{"line":496,"column":20},"end":{"line":496,"column":31}}},"14":{"name":"(anonymous_14)","line":499,"loc":{"start":{"line":499,"column":35},"end":{"line":499,"column":74}}},"15":{"name":"(anonymous_15)","line":514,"loc":{"start":{"line":514,"column":23},"end":{"line":514,"column":44}}},"16":{"name":"(anonymous_16)","line":534,"loc":{"start":{"line":534,"column":25},"end":{"line":534,"column":46}}},"17":{"name":"(anonymous_17)","line":558,"loc":{"start":{"line":558,"column":26},"end":{"line":558,"column":37}}},"18":{"name":"(anonymous_18)","line":570,"loc":{"start":{"line":570,"column":15},"end":{"line":570,"column":26}}},"19":{"name":"(anonymous_19)","line":584,"loc":{"start":{"line":584,"column":17},"end":{"line":584,"column":52}}},"20":{"name":"(anonymous_20)","line":605,"loc":{"start":{"line":605,"column":48},"end":{"line":605,"column":59}}},"21":{"name":"(anonymous_21)","line":630,"loc":{"start":{"line":630,"column":21},"end":{"line":630,"column":37}}},"22":{"name":"(anonymous_22)","line":642,"loc":{"start":{"line":642,"column":20},"end":{"line":642,"column":31}}},"23":{"name":"(anonymous_23)","line":659,"loc":{"start":{"line":659,"column":43},"end":{"line":659,"column":65}}},"24":{"name":"(anonymous_24)","line":671,"loc":{"start":{"line":671,"column":21},"end":{"line":671,"column":37}}},"25":{"name":"(anonymous_25)","line":696,"loc":{"start":{"line":696,"column":21},"end":{"line":696,"column":43}}},"26":{"name":"(anonymous_26)","line":716,"loc":{"start":{"line":716,"column":26},"end":{"line":716,"column":37}}},"27":{"name":"(anonymous_27)","line":731,"loc":{"start":{"line":731,"column":27},"end":{"line":731,"column":38}}},"28":{"name":"(anonymous_28)","line":746,"loc":{"start":{"line":746,"column":22},"end":{"line":746,"column":38}}},"29":{"name":"(anonymous_29)","line":753,"loc":{"start":{"line":753,"column":43},"end":{"line":753,"column":65}}},"30":{"name":"(anonymous_30)","line":769,"loc":{"start":{"line":769,"column":20},"end":{"line":769,"column":41}}},"31":{"name":"(anonymous_31)","line":783,"loc":{"start":{"line":783,"column":23},"end":{"line":783,"column":36}}},"32":{"name":"(anonymous_32)","line":789,"loc":{"start":{"line":789,"column":75},"end":{"line":789,"column":96}}},"33":{"name":"(anonymous_33)","line":792,"loc":{"start":{"line":792,"column":56},"end":{"line":792,"column":76}}},"34":{"name":"(anonymous_34)","line":800,"loc":{"start":{"line":800,"column":37},"end":{"line":800,"column":64}}},"35":{"name":"(anonymous_35)","line":815,"loc":{"start":{"line":815,"column":22},"end":{"line":815,"column":43}}},"36":{"name":"(anonymous_36)","line":826,"loc":{"start":{"line":826,"column":22},"end":{"line":826,"column":33}}},"37":{"name":"(anonymous_37)","line":837,"loc":{"start":{"line":837,"column":28},"end":{"line":837,"column":39}}},"38":{"name":"(anonymous_38)","line":849,"loc":{"start":{"line":849,"column":23},"end":{"line":849,"column":34}}},"39":{"name":"(anonymous_39)","line":853,"loc":{"start":{"line":853,"column":40},"end":{"line":853,"column":59}}},"40":{"name":"(anonymous_40)","line":873,"loc":{"start":{"line":873,"column":26},"end":{"line":873,"column":37}}},"41":{"name":"(anonymous_41)","line":907,"loc":{"start":{"line":907,"column":24},"end":{"line":907,"column":39}}},"42":{"name":"(anonymous_42)","line":919,"loc":{"start":{"line":919,"column":31},"end":{"line":919,"column":52}}},"43":{"name":"(anonymous_43)","line":931,"loc":{"start":{"line":931,"column":27},"end":{"line":931,"column":41}}},"44":{"name":"(anonymous_44)","line":942,"loc":{"start":{"line":942,"column":16},"end":{"line":942,"column":28}}},"45":{"name":"(anonymous_45)","line":973,"loc":{"start":{"line":973,"column":26},"end":{"line":973,"column":47}}},"46":{"name":"(anonymous_46)","line":984,"loc":{"start":{"line":984,"column":29},"end":{"line":984,"column":40}}},"47":{"name":"(anonymous_47)","line":998,"loc":{"start":{"line":998,"column":27},"end":{"line":998,"column":38}}},"48":{"name":"(anonymous_48)","line":1014,"loc":{"start":{"line":1014,"column":27},"end":{"line":1014,"column":38}}},"49":{"name":"(anonymous_49)","line":1018,"loc":{"start":{"line":1018,"column":47},"end":{"line":1018,"column":68}}},"50":{"name":"(anonymous_50)","line":1030,"loc":{"start":{"line":1030,"column":31},"end":{"line":1030,"column":47}}},"51":{"name":"(anonymous_51)","line":1041,"loc":{"start":{"line":1041,"column":22},"end":{"line":1041,"column":33}}},"52":{"name":"(anonymous_52)","line":1058,"loc":{"start":{"line":1058,"column":33},"end":{"line":1058,"column":49}}},"53":{"name":"(anonymous_53)","line":1070,"loc":{"start":{"line":1070,"column":29},"end":{"line":1070,"column":40}}},"54":{"name":"(anonymous_54)","line":1087,"loc":{"start":{"line":1087,"column":28},"end":{"line":1087,"column":39}}},"55":{"name":"(anonymous_55)","line":1104,"loc":{"start":{"line":1104,"column":33},"end":{"line":1104,"column":44}}},"56":{"name":"(anonymous_56)","line":1126,"loc":{"start":{"line":1126,"column":27},"end":{"line":1126,"column":38}}},"57":{"name":"(anonymous_57)","line":1139,"loc":{"start":{"line":1139,"column":29},"end":{"line":1139,"column":47}}},"58":{"name":"(anonymous_58)","line":1155,"loc":{"start":{"line":1155,"column":28},"end":{"line":1155,"column":46}}},"59":{"name":"(anonymous_59)","line":1173,"loc":{"start":{"line":1173,"column":27},"end":{"line":1173,"column":38}}},"60":{"name":"(anonymous_60)","line":1198,"loc":{"start":{"line":1198,"column":33},"end":{"line":1198,"column":44}}},"61":{"name":"(anonymous_61)","line":1217,"loc":{"start":{"line":1217,"column":34},"end":{"line":1217,"column":45}}},"62":{"name":"(anonymous_62)","line":1236,"loc":{"start":{"line":1236,"column":25},"end":{"line":1236,"column":36}}},"63":{"name":"(anonymous_63)","line":1250,"loc":{"start":{"line":1250,"column":28},"end":{"line":1250,"column":44}}},"64":{"name":"(anonymous_64)","line":1264,"loc":{"start":{"line":1264,"column":30},"end":{"line":1264,"column":46}}},"65":{"name":"(anonymous_65)","line":1278,"loc":{"start":{"line":1278,"column":31},"end":{"line":1278,"column":47}}},"66":{"name":"(anonymous_66)","line":1295,"loc":{"start":{"line":1295,"column":31},"end":{"line":1295,"column":47}}},"67":{"name":"(anonymous_67)","line":1312,"loc":{"start":{"line":1312,"column":23},"end":{"line":1312,"column":39}}},"68":{"name":"(anonymous_68)","line":1315,"loc":{"start":{"line":1315,"column":35},"end":{"line":1315,"column":74}}},"69":{"name":"(anonymous_69)","line":1329,"loc":{"start":{"line":1329,"column":25},"end":{"line":1329,"column":36}}},"70":{"name":"(anonymous_70)","line":1344,"loc":{"start":{"line":1344,"column":32},"end":{"line":1344,"column":43}}},"71":{"name":"(anonymous_71)","line":1360,"loc":{"start":{"line":1360,"column":24},"end":{"line":1360,"column":35}}},"72":{"name":"(anonymous_72)","line":1385,"loc":{"start":{"line":1385,"column":22},"end":{"line":1385,"column":33}}},"73":{"name":"(anonymous_73)","line":1405,"loc":{"start":{"line":1405,"column":25},"end":{"line":1405,"column":39}}},"74":{"name":"(anonymous_74)","line":1415,"loc":{"start":{"line":1415,"column":34},"end":{"line":1415,"column":55}}},"75":{"name":"(anonymous_75)","line":1441,"loc":{"start":{"line":1441,"column":28},"end":{"line":1441,"column":39}}},"76":{"name":"(anonymous_76)","line":1494,"loc":{"start":{"line":1494,"column":27},"end":{"line":1494,"column":41}}},"77":{"name":"(anonymous_77)","line":1514,"loc":{"start":{"line":1514,"column":20},"end":{"line":1514,"column":34}}},"78":{"name":"(anonymous_78)","line":1532,"loc":{"start":{"line":1532,"column":24},"end":{"line":1532,"column":35}}},"79":{"name":"(anonymous_79)","line":1541,"loc":{"start":{"line":1541,"column":24},"end":{"line":1541,"column":38}}},"80":{"name":"(anonymous_80)","line":1558,"loc":{"start":{"line":1558,"column":18},"end":{"line":1558,"column":32}}},"81":{"name":"(anonymous_81)","line":1571,"loc":{"start":{"line":1571,"column":29},"end":{"line":1571,"column":40}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":1589,"column":108}},"2":{"start":{"line":3,"column":0},"end":{"line":58,"column":93}},"3":{"start":{"line":6,"column":8},"end":{"line":6,"column":102}},"4":{"start":{"line":8,"column":8},"end":{"line":8,"column":62}},"5":{"start":{"line":12,"column":8},"end":{"line":13,"column":31}},"6":{"start":{"line":15,"column":8},"end":{"line":15,"column":44}},"7":{"start":{"line":19,"column":8},"end":{"line":24,"column":37}},"8":{"start":{"line":26,"column":8},"end":{"line":41,"column":9}},"9":{"start":{"line":27,"column":12},"end":{"line":28,"column":70}},"10":{"start":{"line":30,"column":12},"end":{"line":40,"column":13}},"11":{"start":{"line":31,"column":16},"end":{"line":33,"column":83}},"12":{"start":{"line":35,"column":16},"end":{"line":39,"column":17}},"13":{"start":{"line":36,"column":20},"end":{"line":36,"column":38}},"14":{"start":{"line":37,"column":20},"end":{"line":37,"column":38}},"15":{"start":{"line":38,"column":20},"end":{"line":38,"column":43}},"16":{"start":{"line":43,"column":8},"end":{"line":43,"column":21}},"17":{"start":{"line":47,"column":8},"end":{"line":47,"column":52}},"18":{"start":{"line":51,"column":8},"end":{"line":51,"column":40}},"19":{"start":{"line":69,"column":0},"end":{"line":1584,"column":3}},"20":{"start":{"line":186,"column":16},"end":{"line":186,"column":36}},"21":{"start":{"line":188,"column":16},"end":{"line":188,"column":62}},"22":{"start":{"line":398,"column":8},"end":{"line":398,"column":91}},"23":{"start":{"line":410,"column":8},"end":{"line":410,"column":64}},"24":{"start":{"line":411,"column":8},"end":{"line":411,"column":84}},"25":{"start":{"line":413,"column":8},"end":{"line":415,"column":11}},"26":{"start":{"line":414,"column":12},"end":{"line":414,"column":48}},"27":{"start":{"line":426,"column":8},"end":{"line":426,"column":89}},"28":{"start":{"line":448,"column":12},"end":{"line":448,"column":32}},"29":{"start":{"line":450,"column":12},"end":{"line":453,"column":15}},"30":{"start":{"line":455,"column":12},"end":{"line":457,"column":15}},"31":{"start":{"line":459,"column":12},"end":{"line":480,"column":15}},"32":{"start":{"line":482,"column":12},"end":{"line":482,"column":63}},"33":{"start":{"line":483,"column":12},"end":{"line":483,"column":73}},"34":{"start":{"line":485,"column":12},"end":{"line":485,"column":89}},"35":{"start":{"line":486,"column":12},"end":{"line":486,"column":65}},"36":{"start":{"line":497,"column":12},"end":{"line":497,"column":32}},"37":{"start":{"line":499,"column":12},"end":{"line":501,"column":15}},"38":{"start":{"line":500,"column":16},"end":{"line":500,"column":73}},"39":{"start":{"line":503,"column":12},"end":{"line":503,"column":38}},"40":{"start":{"line":504,"column":12},"end":{"line":504,"column":46}},"41":{"start":{"line":505,"column":12},"end":{"line":505,"column":58}},"42":{"start":{"line":515,"column":12},"end":{"line":516,"column":58}},"43":{"start":{"line":518,"column":12},"end":{"line":518,"column":64}},"44":{"start":{"line":520,"column":12},"end":{"line":523,"column":13}},"45":{"start":{"line":521,"column":16},"end":{"line":521,"column":42}},"46":{"start":{"line":522,"column":16},"end":{"line":522,"column":60}},"47":{"start":{"line":525,"column":12},"end":{"line":525,"column":30}},"48":{"start":{"line":535,"column":12},"end":{"line":535,"column":32}},"49":{"start":{"line":536,"column":12},"end":{"line":536,"column":77}},"50":{"start":{"line":538,"column":12},"end":{"line":550,"column":13}},"51":{"start":{"line":539,"column":16},"end":{"line":539,"column":77}},"52":{"start":{"line":541,"column":16},"end":{"line":544,"column":19}},"53":{"start":{"line":546,"column":16},"end":{"line":549,"column":19}},"54":{"start":{"line":559,"column":12},"end":{"line":560,"column":58}},"55":{"start":{"line":562,"column":12},"end":{"line":562,"column":91}},"56":{"start":{"line":571,"column":12},"end":{"line":571,"column":32}},"57":{"start":{"line":573,"column":12},"end":{"line":573,"column":38}},"58":{"start":{"line":585,"column":12},"end":{"line":585,"column":32}},"59":{"start":{"line":587,"column":12},"end":{"line":587,"column":60}},"60":{"start":{"line":589,"column":12},"end":{"line":589,"column":33}},"61":{"start":{"line":590,"column":12},"end":{"line":590,"column":77}},"62":{"start":{"line":592,"column":12},"end":{"line":617,"column":13}},"63":{"start":{"line":593,"column":16},"end":{"line":616,"column":17}},"64":{"start":{"line":594,"column":20},"end":{"line":594,"column":58}},"65":{"start":{"line":595,"column":20},"end":{"line":595,"column":81}},"66":{"start":{"line":597,"column":20},"end":{"line":600,"column":23}},"67":{"start":{"line":602,"column":20},"end":{"line":613,"column":22}},"68":{"start":{"line":606,"column":36},"end":{"line":606,"column":73}},"69":{"start":{"line":615,"column":20},"end":{"line":615,"column":78}},"70":{"start":{"line":619,"column":12},"end":{"line":619,"column":49}},"71":{"start":{"line":621,"column":12},"end":{"line":621,"column":29}},"72":{"start":{"line":631,"column":12},"end":{"line":631,"column":32}},"73":{"start":{"line":633,"column":12},"end":{"line":633,"column":56}},"74":{"start":{"line":643,"column":12},"end":{"line":643,"column":32}},"75":{"start":{"line":644,"column":12},"end":{"line":644,"column":50}},"76":{"start":{"line":645,"column":12},"end":{"line":645,"column":58}},"77":{"start":{"line":647,"column":12},"end":{"line":656,"column":13}},"78":{"start":{"line":651,"column":16},"end":{"line":651,"column":54}},"79":{"start":{"line":654,"column":16},"end":{"line":654,"column":41}},"80":{"start":{"line":655,"column":16},"end":{"line":655,"column":61}},"81":{"start":{"line":658,"column":12},"end":{"line":662,"column":13}},"82":{"start":{"line":659,"column":16},"end":{"line":661,"column":19}},"83":{"start":{"line":660,"column":20},"end":{"line":660,"column":58}},"84":{"start":{"line":672,"column":12},"end":{"line":672,"column":32}},"85":{"start":{"line":673,"column":12},"end":{"line":673,"column":50}},"86":{"start":{"line":674,"column":12},"end":{"line":674,"column":40}},"87":{"start":{"line":676,"column":12},"end":{"line":676,"column":49}},"88":{"start":{"line":678,"column":12},"end":{"line":687,"column":13}},"89":{"start":{"line":679,"column":16},"end":{"line":679,"column":45}},"90":{"start":{"line":680,"column":16},"end":{"line":680,"column":55}},"91":{"start":{"line":682,"column":16},"end":{"line":684,"column":17}},"92":{"start":{"line":683,"column":20},"end":{"line":683,"column":48}},"93":{"start":{"line":686,"column":16},"end":{"line":686,"column":73}},"94":{"start":{"line":697,"column":12},"end":{"line":697,"column":32}},"95":{"start":{"line":698,"column":12},"end":{"line":698,"column":54}},"96":{"start":{"line":700,"column":12},"end":{"line":706,"column":14}},"97":{"start":{"line":717,"column":12},"end":{"line":717,"column":32}},"98":{"start":{"line":718,"column":12},"end":{"line":718,"column":50}},"99":{"start":{"line":720,"column":12},"end":{"line":720,"column":43}},"100":{"start":{"line":721,"column":12},"end":{"line":721,"column":65}},"101":{"start":{"line":732,"column":12},"end":{"line":732,"column":32}},"102":{"start":{"line":733,"column":12},"end":{"line":733,"column":50}},"103":{"start":{"line":735,"column":12},"end":{"line":737,"column":13}},"104":{"start":{"line":736,"column":16},"end":{"line":736,"column":51}},"105":{"start":{"line":747,"column":12},"end":{"line":747,"column":32}},"106":{"start":{"line":748,"column":12},"end":{"line":748,"column":50}},"107":{"start":{"line":750,"column":12},"end":{"line":750,"column":62}},"108":{"start":{"line":752,"column":12},"end":{"line":756,"column":13}},"109":{"start":{"line":753,"column":16},"end":{"line":755,"column":19}},"110":{"start":{"line":754,"column":20},"end":{"line":754,"column":57}},"111":{"start":{"line":758,"column":12},"end":{"line":760,"column":15}},"112":{"start":{"line":770,"column":12},"end":{"line":770,"column":32}},"113":{"start":{"line":772,"column":12},"end":{"line":774,"column":13}},"114":{"start":{"line":773,"column":16},"end":{"line":773,"column":54}},"115":{"start":{"line":784,"column":12},"end":{"line":787,"column":43}},"116":{"start":{"line":789,"column":12},"end":{"line":798,"column":15}},"117":{"start":{"line":790,"column":16},"end":{"line":790,"column":68}},"118":{"start":{"line":792,"column":16},"end":{"line":797,"column":19}},"119":{"start":{"line":793,"column":20},"end":{"line":796,"column":21}},"120":{"start":{"line":794,"column":24},"end":{"line":794,"column":53}},"121":{"start":{"line":795,"column":24},"end":{"line":795,"column":51}},"122":{"start":{"line":800,"column":12},"end":{"line":802,"column":15}},"123":{"start":{"line":801,"column":16},"end":{"line":801,"column":111}},"124":{"start":{"line":804,"column":12},"end":{"line":804,"column":44}},"125":{"start":{"line":806,"column":12},"end":{"line":806,"column":30}},"126":{"start":{"line":816,"column":12},"end":{"line":816,"column":32}},"127":{"start":{"line":818,"column":12},"end":{"line":818,"column":71}},"128":{"start":{"line":827,"column":12},"end":{"line":827,"column":32}},"129":{"start":{"line":829,"column":12},"end":{"line":829,"column":108}},"130":{"start":{"line":838,"column":12},"end":{"line":838,"column":32}},"131":{"start":{"line":840,"column":12},"end":{"line":840,"column":106}},"132":{"start":{"line":850,"column":12},"end":{"line":850,"column":32}},"133":{"start":{"line":851,"column":12},"end":{"line":851,"column":60}},"134":{"start":{"line":853,"column":12},"end":{"line":862,"column":15}},"135":{"start":{"line":854,"column":16},"end":{"line":855,"column":46}},"136":{"start":{"line":857,"column":16},"end":{"line":859,"column":17}},"137":{"start":{"line":858,"column":20},"end":{"line":858,"column":42}},"138":{"start":{"line":861,"column":16},"end":{"line":861,"column":39}},"139":{"start":{"line":864,"column":12},"end":{"line":864,"column":33}},"140":{"start":{"line":874,"column":12},"end":{"line":874,"column":32}},"141":{"start":{"line":875,"column":12},"end":{"line":875,"column":48}},"142":{"start":{"line":877,"column":12},"end":{"line":897,"column":15}},"143":{"start":{"line":908,"column":12},"end":{"line":908,"column":32}},"144":{"start":{"line":910,"column":12},"end":{"line":910,"column":63}},"145":{"start":{"line":920,"column":12},"end":{"line":920,"column":32}},"146":{"start":{"line":922,"column":12},"end":{"line":922,"column":66}},"147":{"start":{"line":932,"column":12},"end":{"line":934,"column":27}},"148":{"start":{"line":936,"column":12},"end":{"line":938,"column":13}},"149":{"start":{"line":937,"column":16},"end":{"line":937,"column":36}},"150":{"start":{"line":940,"column":12},"end":{"line":947,"column":14}},"151":{"start":{"line":943,"column":20},"end":{"line":943,"column":66}},"152":{"start":{"line":945,"column":20},"end":{"line":945,"column":38}},"153":{"start":{"line":949,"column":12},"end":{"line":962,"column":13}},"154":{"start":{"line":950,"column":16},"end":{"line":954,"column":18}},"155":{"start":{"line":956,"column":16},"end":{"line":961,"column":17}},"156":{"start":{"line":957,"column":20},"end":{"line":957,"column":44}},"157":{"start":{"line":959,"column":21},"end":{"line":961,"column":17}},"158":{"start":{"line":960,"column":20},"end":{"line":960,"column":58}},"159":{"start":{"line":964,"column":12},"end":{"line":964,"column":30}},"160":{"start":{"line":974,"column":12},"end":{"line":974,"column":32}},"161":{"start":{"line":976,"column":12},"end":{"line":976,"column":70}},"162":{"start":{"line":985,"column":12},"end":{"line":985,"column":32}},"163":{"start":{"line":987,"column":12},"end":{"line":988,"column":80}},"164":{"start":{"line":990,"column":12},"end":{"line":990,"column":28}},"165":{"start":{"line":999,"column":12},"end":{"line":999,"column":32}},"166":{"start":{"line":1001,"column":12},"end":{"line":1002,"column":93}},"167":{"start":{"line":1004,"column":12},"end":{"line":1004,"column":41}},"168":{"start":{"line":1006,"column":12},"end":{"line":1006,"column":26}},"169":{"start":{"line":1015,"column":12},"end":{"line":1016,"column":58}},"170":{"start":{"line":1018,"column":12},"end":{"line":1020,"column":15}},"171":{"start":{"line":1019,"column":16},"end":{"line":1019,"column":67}},"172":{"start":{"line":1031,"column":12},"end":{"line":1031,"column":34}},"173":{"start":{"line":1042,"column":12},"end":{"line":1042,"column":32}},"174":{"start":{"line":1044,"column":12},"end":{"line":1044,"column":85}},"175":{"start":{"line":1045,"column":12},"end":{"line":1045,"column":38}},"176":{"start":{"line":1046,"column":12},"end":{"line":1046,"column":39}},"177":{"start":{"line":1047,"column":12},"end":{"line":1047,"column":36}},"178":{"start":{"line":1048,"column":12},"end":{"line":1048,"column":68}},"179":{"start":{"line":1059,"column":12},"end":{"line":1059,"column":32}},"180":{"start":{"line":1061,"column":12},"end":{"line":1061,"column":63}},"181":{"start":{"line":1071,"column":12},"end":{"line":1071,"column":32}},"182":{"start":{"line":1073,"column":12},"end":{"line":1076,"column":15}},"183":{"start":{"line":1088,"column":12},"end":{"line":1088,"column":32}},"184":{"start":{"line":1090,"column":12},"end":{"line":1094,"column":15}},"185":{"start":{"line":1105,"column":12},"end":{"line":1105,"column":32}},"186":{"start":{"line":1107,"column":12},"end":{"line":1116,"column":14}},"187":{"start":{"line":1127,"column":12},"end":{"line":1127,"column":32}},"188":{"start":{"line":1129,"column":12},"end":{"line":1129,"column":57}},"189":{"start":{"line":1140,"column":12},"end":{"line":1140,"column":32}},"190":{"start":{"line":1142,"column":12},"end":{"line":1144,"column":15}},"191":{"start":{"line":1156,"column":12},"end":{"line":1156,"column":32}},"192":{"start":{"line":1157,"column":12},"end":{"line":1157,"column":50}},"193":{"start":{"line":1159,"column":12},"end":{"line":1162,"column":15}},"194":{"start":{"line":1174,"column":12},"end":{"line":1174,"column":32}},"195":{"start":{"line":1175,"column":12},"end":{"line":1175,"column":50}},"196":{"start":{"line":1176,"column":12},"end":{"line":1176,"column":58}},"197":{"start":{"line":1177,"column":12},"end":{"line":1177,"column":58}},"198":{"start":{"line":1179,"column":12},"end":{"line":1184,"column":13}},"199":{"start":{"line":1180,"column":16},"end":{"line":1183,"column":19}},"200":{"start":{"line":1186,"column":12},"end":{"line":1188,"column":15}},"201":{"start":{"line":1199,"column":12},"end":{"line":1199,"column":32}},"202":{"start":{"line":1200,"column":12},"end":{"line":1200,"column":50}},"203":{"start":{"line":1201,"column":12},"end":{"line":1201,"column":58}},"204":{"start":{"line":1203,"column":12},"end":{"line":1207,"column":13}},"205":{"start":{"line":1204,"column":16},"end":{"line":1206,"column":19}},"206":{"start":{"line":1218,"column":12},"end":{"line":1218,"column":32}},"207":{"start":{"line":1219,"column":12},"end":{"line":1219,"column":50}},"208":{"start":{"line":1220,"column":12},"end":{"line":1220,"column":58}},"209":{"start":{"line":1222,"column":12},"end":{"line":1226,"column":13}},"210":{"start":{"line":1223,"column":16},"end":{"line":1225,"column":19}},"211":{"start":{"line":1237,"column":12},"end":{"line":1237,"column":32}},"212":{"start":{"line":1238,"column":12},"end":{"line":1238,"column":54}},"213":{"start":{"line":1240,"column":12},"end":{"line":1240,"column":73}},"214":{"start":{"line":1251,"column":12},"end":{"line":1251,"column":32}},"215":{"start":{"line":1253,"column":12},"end":{"line":1253,"column":41}},"216":{"start":{"line":1254,"column":12},"end":{"line":1254,"column":48}},"217":{"start":{"line":1265,"column":12},"end":{"line":1265,"column":32}},"218":{"start":{"line":1267,"column":12},"end":{"line":1267,"column":83}},"219":{"start":{"line":1268,"column":12},"end":{"line":1268,"column":48}},"220":{"start":{"line":1279,"column":12},"end":{"line":1279,"column":32}},"221":{"start":{"line":1281,"column":12},"end":{"line":1283,"column":15}},"222":{"start":{"line":1285,"column":12},"end":{"line":1285,"column":48}},"223":{"start":{"line":1296,"column":12},"end":{"line":1296,"column":32}},"224":{"start":{"line":1298,"column":12},"end":{"line":1300,"column":15}},"225":{"start":{"line":1302,"column":12},"end":{"line":1302,"column":47}},"226":{"start":{"line":1313,"column":12},"end":{"line":1313,"column":32}},"227":{"start":{"line":1315,"column":12},"end":{"line":1320,"column":15}},"228":{"start":{"line":1316,"column":16},"end":{"line":1316,"column":61}},"229":{"start":{"line":1318,"column":16},"end":{"line":1318,"column":91}},"230":{"start":{"line":1319,"column":16},"end":{"line":1319,"column":56}},"231":{"start":{"line":1330,"column":12},"end":{"line":1330,"column":32}},"232":{"start":{"line":1331,"column":12},"end":{"line":1331,"column":58}},"233":{"start":{"line":1333,"column":12},"end":{"line":1333,"column":100}},"234":{"start":{"line":1345,"column":12},"end":{"line":1345,"column":32}},"235":{"start":{"line":1347,"column":12},"end":{"line":1349,"column":44}},"236":{"start":{"line":1351,"column":12},"end":{"line":1351,"column":62}},"237":{"start":{"line":1361,"column":12},"end":{"line":1361,"column":32}},"238":{"start":{"line":1363,"column":12},"end":{"line":1370,"column":14}},"239":{"start":{"line":1372,"column":12},"end":{"line":1372,"column":41}},"240":{"start":{"line":1373,"column":12},"end":{"line":1373,"column":85}},"241":{"start":{"line":1375,"column":12},"end":{"line":1375,"column":43}},"242":{"start":{"line":1376,"column":12},"end":{"line":1376,"column":42}},"243":{"start":{"line":1386,"column":12},"end":{"line":1386,"column":32}},"244":{"start":{"line":1388,"column":12},"end":{"line":1392,"column":14}},"245":{"start":{"line":1394,"column":12},"end":{"line":1394,"column":70}},"246":{"start":{"line":1406,"column":12},"end":{"line":1406,"column":32}},"247":{"start":{"line":1408,"column":12},"end":{"line":1429,"column":13}},"248":{"start":{"line":1409,"column":16},"end":{"line":1413,"column":19}},"249":{"start":{"line":1415,"column":16},"end":{"line":1426,"column":19}},"250":{"start":{"line":1416,"column":20},"end":{"line":1416,"column":39}},"251":{"start":{"line":1418,"column":20},"end":{"line":1423,"column":22}},"252":{"start":{"line":1425,"column":20},"end":{"line":1425,"column":73}},"253":{"start":{"line":1428,"column":16},"end":{"line":1428,"column":26}},"254":{"start":{"line":1431,"column":12},"end":{"line":1431,"column":23}},"255":{"start":{"line":1442,"column":12},"end":{"line":1442,"column":32}},"256":{"start":{"line":1444,"column":12},"end":{"line":1444,"column":50}},"257":{"start":{"line":1446,"column":12},"end":{"line":1480,"column":15}},"258":{"start":{"line":1484,"column":12},"end":{"line":1484,"column":108}},"259":{"start":{"line":1495,"column":12},"end":{"line":1495,"column":32}},"260":{"start":{"line":1497,"column":12},"end":{"line":1504,"column":13}},"261":{"start":{"line":1498,"column":16},"end":{"line":1499,"column":30}},"262":{"start":{"line":1501,"column":16},"end":{"line":1503,"column":17}},"263":{"start":{"line":1502,"column":20},"end":{"line":1502,"column":60}},"264":{"start":{"line":1515,"column":12},"end":{"line":1515,"column":32}},"265":{"start":{"line":1516,"column":12},"end":{"line":1516,"column":58}},"266":{"start":{"line":1518,"column":12},"end":{"line":1518,"column":99}},"267":{"start":{"line":1520,"column":12},"end":{"line":1522,"column":13}},"268":{"start":{"line":1521,"column":16},"end":{"line":1521,"column":66}},"269":{"start":{"line":1542,"column":12},"end":{"line":1542,"column":32}},"270":{"start":{"line":1544,"column":12},"end":{"line":1544,"column":84}},"271":{"start":{"line":1546,"column":12},"end":{"line":1548,"column":13}},"272":{"start":{"line":1547,"column":16},"end":{"line":1547,"column":50}},"273":{"start":{"line":1559,"column":12},"end":{"line":1559,"column":32}},"274":{"start":{"line":1560,"column":12},"end":{"line":1560,"column":62}},"275":{"start":{"line":1562,"column":12},"end":{"line":1562,"column":84}},"276":{"start":{"line":1572,"column":12},"end":{"line":1581,"column":14}},"277":{"start":{"line":1586,"column":0},"end":{"line":1586,"column":28}}},"branchMap":{"1":{"line":6,"type":"cond-expr","locations":[{"start":{"line":6,"column":49},"end":{"line":6,"column":60}},{"start":{"line":6,"column":63},"end":{"line":6,"column":101}}]},"2":{"line":35,"type":"if","locations":[{"start":{"line":35,"column":16},"end":{"line":35,"column":16}},{"start":{"line":35,"column":16},"end":{"line":35,"column":16}}]},"3":{"line":410,"type":"cond-expr","locations":[{"start":{"line":410,"column":44},"end":{"line":410,"column":48}},{"start":{"line":410,"column":51},"end":{"line":410,"column":63}}]},"4":{"line":411,"type":"cond-expr","locations":[{"start":{"line":411,"column":54},"end":{"line":411,"column":63}},{"start":{"line":411,"column":66},"end":{"line":411,"column":83}}]},"5":{"line":520,"type":"if","locations":[{"start":{"line":520,"column":12},"end":{"line":520,"column":12}},{"start":{"line":520,"column":12},"end":{"line":520,"column":12}}]},"6":{"line":538,"type":"if","locations":[{"start":{"line":538,"column":12},"end":{"line":538,"column":12}},{"start":{"line":538,"column":12},"end":{"line":538,"column":12}}]},"7":{"line":592,"type":"if","locations":[{"start":{"line":592,"column":12},"end":{"line":592,"column":12}},{"start":{"line":592,"column":12},"end":{"line":592,"column":12}}]},"8":{"line":593,"type":"if","locations":[{"start":{"line":593,"column":16},"end":{"line":593,"column":16}},{"start":{"line":593,"column":16},"end":{"line":593,"column":16}}]},"9":{"line":647,"type":"if","locations":[{"start":{"line":647,"column":12},"end":{"line":647,"column":12}},{"start":{"line":647,"column":12},"end":{"line":647,"column":12}}]},"10":{"line":647,"type":"binary-expr","locations":[{"start":{"line":647,"column":16},"end":{"line":647,"column":42}},{"start":{"line":648,"column":16},"end":{"line":648,"column":51}},{"start":{"line":649,"column":16},"end":{"line":649,"column":48}}]},"11":{"line":658,"type":"if","locations":[{"start":{"line":658,"column":12},"end":{"line":658,"column":12}},{"start":{"line":658,"column":12},"end":{"line":658,"column":12}}]},"12":{"line":678,"type":"if","locations":[{"start":{"line":678,"column":12},"end":{"line":678,"column":12}},{"start":{"line":678,"column":12},"end":{"line":678,"column":12}}]},"13":{"line":680,"type":"binary-expr","locations":[{"start":{"line":680,"column":29},"end":{"line":680,"column":49}},{"start":{"line":680,"column":53},"end":{"line":680,"column":54}}]},"14":{"line":682,"type":"if","locations":[{"start":{"line":682,"column":16},"end":{"line":682,"column":16}},{"start":{"line":682,"column":16},"end":{"line":682,"column":16}}]},"15":{"line":735,"type":"if","locations":[{"start":{"line":735,"column":12},"end":{"line":735,"column":12}},{"start":{"line":735,"column":12},"end":{"line":735,"column":12}}]},"16":{"line":752,"type":"if","locations":[{"start":{"line":752,"column":12},"end":{"line":752,"column":12}},{"start":{"line":752,"column":12},"end":{"line":752,"column":12}}]},"17":{"line":772,"type":"if","locations":[{"start":{"line":772,"column":12},"end":{"line":772,"column":12}},{"start":{"line":772,"column":12},"end":{"line":772,"column":12}}]},"18":{"line":793,"type":"if","locations":[{"start":{"line":793,"column":20},"end":{"line":793,"column":20}},{"start":{"line":793,"column":20},"end":{"line":793,"column":20}}]},"19":{"line":801,"type":"cond-expr","locations":[{"start":{"line":801,"column":71},"end":{"line":801,"column":79}},{"start":{"line":801,"column":82},"end":{"line":801,"column":109}}]},"20":{"line":829,"type":"binary-expr","locations":[{"start":{"line":829,"column":20},"end":{"line":829,"column":57}},{"start":{"line":829,"column":61},"end":{"line":829,"column":106}}]},"21":{"line":857,"type":"if","locations":[{"start":{"line":857,"column":16},"end":{"line":857,"column":16}},{"start":{"line":857,"column":16},"end":{"line":857,"column":16}}]},"22":{"line":936,"type":"if","locations":[{"start":{"line":936,"column":12},"end":{"line":936,"column":12}},{"start":{"line":936,"column":12},"end":{"line":936,"column":12}}]},"23":{"line":943,"type":"cond-expr","locations":[{"start":{"line":943,"column":57},"end":{"line":943,"column":58}},{"start":{"line":943,"column":61},"end":{"line":943,"column":65}}]},"24":{"line":949,"type":"if","locations":[{"start":{"line":949,"column":12},"end":{"line":949,"column":12}},{"start":{"line":949,"column":12},"end":{"line":949,"column":12}}]},"25":{"line":956,"type":"if","locations":[{"start":{"line":956,"column":16},"end":{"line":956,"column":16}},{"start":{"line":956,"column":16},"end":{"line":956,"column":16}}]},"26":{"line":959,"type":"if","locations":[{"start":{"line":959,"column":21},"end":{"line":959,"column":21}},{"start":{"line":959,"column":21},"end":{"line":959,"column":21}}]},"27":{"line":1179,"type":"if","locations":[{"start":{"line":1179,"column":12},"end":{"line":1179,"column":12}},{"start":{"line":1179,"column":12},"end":{"line":1179,"column":12}}]},"28":{"line":1179,"type":"binary-expr","locations":[{"start":{"line":1179,"column":16},"end":{"line":1179,"column":31}},{"start":{"line":1179,"column":35},"end":{"line":1179,"column":50}}]},"29":{"line":1203,"type":"if","locations":[{"start":{"line":1203,"column":12},"end":{"line":1203,"column":12}},{"start":{"line":1203,"column":12},"end":{"line":1203,"column":12}}]},"30":{"line":1222,"type":"if","locations":[{"start":{"line":1222,"column":12},"end":{"line":1222,"column":12}},{"start":{"line":1222,"column":12},"end":{"line":1222,"column":12}}]},"31":{"line":1318,"type":"cond-expr","locations":[{"start":{"line":1318,"column":55},"end":{"line":1318,"column":63}},{"start":{"line":1318,"column":66},"end":{"line":1318,"column":74}}]},"32":{"line":1408,"type":"if","locations":[{"start":{"line":1408,"column":12},"end":{"line":1408,"column":12}},{"start":{"line":1408,"column":12},"end":{"line":1408,"column":12}}]},"33":{"line":1418,"type":"cond-expr","locations":[{"start":{"line":1418,"column":63},"end":{"line":1420,"column":22}},{"start":{"line":1420,"column":25},"end":{"line":1423,"column":21}}]},"34":{"line":1455,"type":"cond-expr","locations":[{"start":{"line":1455,"column":54},"end":{"line":1455,"column":75}},{"start":{"line":1455,"column":78},"end":{"line":1455,"column":82}}]},"35":{"line":1497,"type":"if","locations":[{"start":{"line":1497,"column":12},"end":{"line":1497,"column":12}},{"start":{"line":1497,"column":12},"end":{"line":1497,"column":12}}]},"36":{"line":1498,"type":"cond-expr","locations":[{"start":{"line":1498,"column":35},"end":{"line":1498,"column":74}},{"start":{"line":1498,"column":77},"end":{"line":1499,"column":29}}]},"37":{"line":1501,"type":"if","locations":[{"start":{"line":1501,"column":16},"end":{"line":1501,"column":16}},{"start":{"line":1501,"column":16},"end":{"line":1501,"column":16}}]},"38":{"line":1520,"type":"if","locations":[{"start":{"line":1520,"column":12},"end":{"line":1520,"column":12}},{"start":{"line":1520,"column":12},"end":{"line":1520,"column":12}}]},"39":{"line":1546,"type":"if","locations":[{"start":{"line":1546,"column":12},"end":{"line":1546,"column":12}},{"start":{"line":1546,"column":12},"end":{"line":1546,"column":12}}]},"40":{"line":1546,"type":"binary-expr","locations":[{"start":{"line":1546,"column":16},"end":{"line":1546,"column":19}},{"start":{"line":1546,"column":23},"end":{"line":1546,"column":48}}]}},"code":["(function () { YUI.add('aui-diagram-node', function (A, NAME) {","","var DiagramNode,","","    adjustDiagramNodeOffset = function(diagramNode, offsetXY) {","        var dnXY = A.Lang.isArray(diagramNode) ? diagramNode : diagramNode.get('boundingBox').getXY();","","        return [dnXY[0] + offsetXY[0], dnXY[1] + offsetXY[1]];","    },","","    pythagoreanDistance = function(p1, p2) {","        var dx = p2[0] - p1[0],","            dy = p2[1] - p1[1];","","        return Math.sqrt(dx * dx + dy * dy);","    },","","    findHotPointBestMatch = function(diagramNode1, diagramNode2) {","        var hp1 = diagramNode1.hotPoints,","            hp2 = diagramNode2.hotPoints,","            xy1 = diagramNode1.get('boundingBox').getXY(),","            xy2 = diagramNode2.get('boundingBox').getXY(),","            len1, len2, i, j, minDistance = Infinity,","            match = [[0, 0], [0, 0]];","","        for (i = 0, len1 = hp1.length; i < len1; i++) {","            var value1 = hp1[i],","                adjustedValue1 = adjustDiagramNodeOffset(xy1, value1);","","            for (j = 0, len2 = hp2.length; j < len2; j++) {","                var value2 = hp2[j],","                    adjustedValue2 = adjustDiagramNodeOffset(xy2, value2),","                    distance = pythagoreanDistance(adjustedValue2, adjustedValue1);","","                if (distance < minDistance) {","                    match[0] = value1;","                    match[1] = value2;","                    minDistance = distance;","                }","            }","        }","","        return match;","    },","","    isDiagramBuilder = function(val) {","        return A.instanceOf(val, A.PropertyBuilder);","    },","","    isMap = function(val) {","        return A.instanceOf(val, A.Map);","    },","","    CSS_DB_CONTROLS = A.getClassName('diagram', 'builder', 'controls'),","    CSS_DIAGRAM_NODE = A.getClassName('diagram', 'node'),","    CSS_DIAGRAM_NODE_LABEL = A.getClassName('diagram', 'node', 'label'),","    CSS_DIAGRAM_NODE_SELECTED = A.getClassName('diagram', 'node', 'selected'),","    CSS_DIAGRAM_NODE_SHAPE_BOUNDARY = A.getClassName('diagram', 'node', 'shape', 'boundary');","","/**"," * A base class for DiagramNode."," *"," * @class A.DiagramNode"," * @extends Overlay"," * @param {Object} config Object literal specifying widget configuration"," *     properties."," * @constructor"," */","DiagramNode = A.Component.create({","","    /**","     * Static property provides a string to identify the class.","     *","     * @property NAME","     * @type String","     * @static","     */","    NAME: 'diagram-node',","","    /**","     * Static property used to define the UI attributes.","     *","     * @property UI_ATTRS","     * @type Array","     * @static","     */","    UI_ATTRS: ['highlighted', 'name', 'required', 'selected'],","","    /**","     * Static property used to define the default attribute","     * configuration for the `A.DiagramNode`.","     *","     * @property ATTRS","     * @type Object","     * @static","     */","    ATTRS: {","","        /**","         * Stores an instance of `A.PropertyBuilder`.","         *","         * @attribute builder","         * @type DiagramBuilder","         */","        builder: {","            validator: isDiagramBuilder","        },","","        /**","         * A map of connectors.","         *","         * @attribute connectors","         * @writeOnce","         */","        connectors: {","            valueFn: '_connectorsValueFn',","            writeOnce: true","        },","","        /**","         * A toolbar to represent controls.","         *","         * @attribute controlsToolbar","         * @type Object","         */","        controlsToolbar: {","            validator: A.Lang.isObject,","            valueFn: '_controlsToolbarValueFn'","        },","","        /**","         * The description of the node.","         *","         * @attribute description","         * @default ''","         * @type String","         */","        description: {","            value: '',","            validator: A.Lang.isString","        },","","        /**","         * Stores an instance of `A.Graphic`.","         *","         * @attribute graphic","         * @type Object","         * @writeOnce","         */","        graphic: {","            writeOnce: true,","            validator: A.Lang.isObject","        },","","        /**","         * The height of the node.","         *","         * @attribute height","         * @default 60","         * @type Number","         */","        height: {","            value: 60","        },","","        /**","         * Checks if a node is highlighted or not.","         *","         * @attribute highlighted","         * @default false","         * @type Boolean","         */","        highlighted: {","            validator: A.Lang.isBoolean,","            value: false","        },","","        /**","         * The name of the node.","         *","         * @attribute name","         * @type String","         */","        name: {","            valueFn: function() {","                var instance = this;","","                return instance.get('type') + (++A.Env._uidx);","            },","            validator: A.Lang.isString","        },","","        /**","         * Checks if a node is required or not.","         *","         * @attribute required","         * @default false","         * @type Boolean","         */","        required: {","            value: false,","            validator: A.Lang.isBoolean","        },","","        /**","         * Checks if a node is selected or not.","         *","         * @attribute selected","         * @default false","         * @type Boolean","         */","        selected: {","            value: false,","            validator: A.Lang.isBoolean","        },","","        /**","         * A graphic shape to represent a boundary.","         *","         * @attribute shapeBoundary","         * @type Object","         */","        shapeBoundary: {","            validator: A.Lang.isObject,","            valueFn: '_valueShapeBoundary'","        },","","        /**","         * Represents a stroke to highlight a boundary.","         *","         * @attribute highlightBoundaryStroke","         * @type Object","         */","        highlightBoundaryStroke: {","            validator: A.Lang.isObject,","            value: {","                weight: 7,","                color: '#484B4C',","                opacity: 0.25","            }","        },","","        /**","         * Configuration object to generate the shape invite graphic.","         *","         * @attribute shapeInvite","         * @type Object","         */","        shapeInvite: {","            validator: A.Lang.isObject,","            value: {","                radius: 12,","                type: 'circle',","                stroke: {","                    weight: 6,","                    color: '#ff6600',","                    opacity: 0.8","                },","                fill: {","                    color: '#ffd700',","                    opacity: 0.8","                }","            }","        },","","        /**","         * Collection of strings used to label elements of the UI.","         *","         * @attribute strings","         * @type Object","         */","        strings: {","            value: {","                closeMessage: 'Close',","                connectMessage: 'Connect',","                description: 'Description',","                editMessage: 'Edit',","                name: 'Name',","                type: 'Type'","            }","        },","","        /**","         * Specify the tab order of elements.","         *","         * @attribute tabIndex","         * @default 1","         * @type Number","         */","        tabIndex: {","            value: 1","        },","","        /**","         * Map of transitions that stores the uid, source and target data from","         * connectors.","         *","         * @attribute transitions","         * @default null","         * @writeOnce","         */","        transitions: {","            value: null,","            writeOnce: true,","            setter: '_setTransitions'","        },","","        /**","         * The type of the node.","         *","         * @attribute type","         * @default 'node'","         * @type String","         */","        type: {","            value: 'node',","            validator: A.Lang.isString","        },","","        /**","         * The width of the node.","         *","         * @attribute width","         * @default 60","         * @type Number","         */","        width: {","            value: 60","        },","","        /**","         * Specify the stack order of elements.","         *","         * @attribute zIndex","         * @default 100","         * @type Number","         */","        zIndex: {","            value: 100","        }","    },","","    /**","     * Static property used to define which component it extends.","     *","     * @property EXTENDS","     * @type String","     * @static","     */","    EXTENDS: A.Overlay,","","    /**","     * Coordinates to generate a circle graphic.","     *","     * @property CIRCLE_POINTS","     * @type Array","     * @static","     */","    CIRCLE_POINTS: [[35, 20], [28, 33], [14, 34], [5, 22], [10, 9], [24, 6], [34, 16], [31, 30], [18, 35], [6, 26], [","        7, 12], [20, 5], [33, 12], [34, 26], [22, 35], [9, 30], [6, 16], [16, 6], [30, 9], [35, 22], [26, 34], [","        12, 33], [5, 20], [12, 7], [26, 6], [35, 18], [30, 31], [16, 34], [6, 24], [9, 10], [22, 5], [34, 14], [","        33, 28], [20, 35], [7, 28], [6, 14], [18, 5], [31, 10], [34, 24], [24, 34], [10, 31], [5, 18], [14, 6], [","        28, 8], [35, 20], [28, 33], [14, 34], [5, 22], [10, 8], [25, 6], [34, 16], [31, 30], [18, 35], [6, 26], [","        8, 12], [20, 5], [33, 12], [33, 27], [22, 35], [8, 30], [6, 15], [16, 6], [30, 9], [35, 23], [26, 34], [","        12, 32], [5, 20], [12, 7], [27, 7], [35, 18], [29, 32], [15, 34]],","","    /**","     * Coordinates to generate a diamond graphic.","     *","     * @property DIAMOND_POINTS","     * @type Array","     * @static","     */","    DIAMOND_POINTS: [[30, 5], [35, 10], [40, 15], [45, 20], [50, 25], [55, 30], [50, 35], [45, 40], [40, 45], [35,","        50], [30, 55], [25, 50], [20, 45], [15, 40], [10, 35], [5, 30], [10, 25], [15, 20], [20, 15], [25, 10]],","","    /**","     * Coordinates to generate a square graphic.","     *","     * @property SQUARE_POINTS","     * @type Array","     * @static","     */","    SQUARE_POINTS: [[5, 5], [10, 5], [15, 5], [20, 5], [25, 5], [30, 5], [35, 5], [40, 5], [50, 5], [55, 5], [60, 5], [","        65, 5], [65, 10], [65, 15], [65, 20], [65, 25], [65, 30], [65, 35], [65, 40], [65, 45], [65, 50], [65,","        55], [65, 60], [65, 65], [60, 65], [55, 65], [50, 65], [45, 65], [40, 65], [35, 65], [30, 65], [25, 65], [","        20, 65], [15, 65], [10, 65], [5, 65], [5, 60], [5, 55], [5, 50], [5, 45], [5, 40], [5, 35], [5, 30], [5,","        25], [5, 20], [5, 15], [5, 10]],","","    /**","     * Gets a node by its name.","     *","     * @method getNodeByName","     * @param name","     * @private","     */","    getNodeByName: function(name) {","        return A.Widget.getByNode('[data-nodeId=' + A.DiagramNode.buildNodeId(name) + ']');","    },","","    /**","     * Gets the node top and left coordinates based on the container.","     *","     * @method getNodeCoordinates","     * @param container","     * @param node","     * @private","     */","    getNodeCoordinates: function(container, node) {","        var nodeXY = A.Lang.isArray(node) ? node : node.getXY();","        var containerXY = A.Lang.isArray(container) ? container : container.getXY();","","        return A.Array.map(containerXY, function(val, i) {","            return Math.max(0, val - nodeXY[i]);","        });","    },","","    /**","     * Constructs the node id string.","     *","     * @method buildNodeId","     * @param id","     * @private","     */","    buildNodeId: function(id) {","        return 'diagramNode' + '_' + 'field' + '_' + id.replace(/[^a-z0-9.:_\\-]/ig, '_');","    },","","    prototype: {","        LABEL_TEMPLATE: '<div class=\"' + CSS_DIAGRAM_NODE_LABEL + '\">{label}</div>',","","        boundary: null,","","        hotPoints: [[0, 0]],","","        CONTROLS_TEMPLATE: '<div class=\"' + CSS_DB_CONTROLS + '\"></div>',","","        SERIALIZABLE_ATTRS: ['description', 'name', 'required', 'type', 'width', 'height', 'zIndex', 'xy'],","","        /**","         * Construction logic executed during DiagramNode instantiation.","         * Lifecycle.","         *","         * @method initializer","         * @protected","         */","        initializer: function() {","            var instance = this;","","            instance.after({","                'map:remove': A.bind(instance._afterMapRemove, instance),","                render: instance._afterRender","            });","","            instance.on({","                nameChange: instance._onNameChange","            });","","            instance.publish({","                connectDrop: {","                    defaultFn: instance.connectDrop","                },","                connectEnd: {","                    defaultFn: instance.connectEnd","                },","                connectMove: {","                    defaultFn: instance.connectMove","                },","                connectOutTarget: {","                    defaultFn: instance.connectOutTarget","                },","                connectOverTarget: {","                    defaultFn: instance.connectOverTarget","                },","                connectStart: {","                    defaultFn: instance.connectStart","                },","                boundaryMouseEnter: {},","                boundaryMouseLeave: {}","            });","","            instance.boundingBox = instance.get('boundingBox');","            instance.toolbarContainer = instance.get('toolbarContainer');","","            instance.boundingBox.addClass(CSS_DIAGRAM_NODE + '-' + instance.get('type'));","            instance.boundingBox.setAttribute('draggable', true);","        },","","        /**","         * Destructor lifecycle implementation for the `DiagramNode` class.","         * Lifecycle.","         *","         * @method destructor","         * @protected","         */","        destructor: function() {","            var instance = this;","","            instance.eachConnector(function(connector, index, sourceNode) {","                sourceNode.removeTransition(connector.get('transition'));","            });","","            instance.invite.destroy();","            instance.get('graphic').destroy();","            instance.get('builder').removeField(instance);","        },","","        /**","         * Adds a transition into the node.","         *","         * @method addTransition","         * @param transition","         */","        addTransition: function(transition) {","            var instance = this,","                transitions = instance.get('transitions');","","            transition = instance.prepareTransition(transition);","","            if (!transitions.has(transition.uid)) {","                transition.uid = A.guid();","                transitions.put(transition.uid, transition);","            }","","            return transition;","        },","","        /**","         * Aligns a single transition.","         *","         * @method alignTransition","         * @param transition","         */","        alignTransition: function(transition) {","            var instance = this;","            var diagramNode = A.DiagramNode.getNodeByName(transition.target);","","            if (diagramNode) {","                var bestMatch = findHotPointBestMatch(instance, diagramNode);","","                transition = A.merge(transition, {","                    sourceXY: bestMatch[0],","                    targetXY: bestMatch[1]","                });","","                instance.getConnector(transition).setAttrs({","                    p1: adjustDiagramNodeOffset(instance, transition.sourceXY),","                    p2: adjustDiagramNodeOffset(diagramNode, transition.targetXY)","                });","            }","        },","","        /**","         * Aligns a collection of transitions.","         *","         * @method alignTransitions","         */","        alignTransitions: function() {","            var instance = this,","                transitions = instance.get('transitions');","","            A.Array.each(transitions.values(), A.bind(instance.alignTransition, instance));","        },","","        /**","         * Destroys this instance.","         *","         * @method close","         */","        close: function() {","            var instance = this;","","            return instance.destroy();","        },","","        /**","         * Checks if a transition is connected, if not creates a new","         * `A.Connector` instance.","         *","         * @method connect","         * @param transition","         * @param optConnector","         */","        connect: function(transition, optConnector) {","            var instance = this;","","            transition = instance.addTransition(transition);","","            var connector = null;","            var diagramNode = A.DiagramNode.getNodeByName(transition.target);","","            if (diagramNode) {","                if (!instance.isTransitionConnected(transition)) {","                    var builder = instance.get('builder');","                    var bestMatch = findHotPointBestMatch(instance, diagramNode);","","                    A.mix(transition, {","                        sourceXY: bestMatch[0],","                        targetXY: bestMatch[1]","                    });","","                    connector = new A.Connector(","                        A.merge({","                            after: {","                                selectedChange: function() {","                                    instance.alignTransition(transition);","                                }","                            },","                            builder: builder,","                            graphic: builder.get('graphic'),","                            transition: transition","                        }, optConnector)","                    );","","                    instance.get('connectors').put(transition.uid, connector);","                }","            }","","            instance.alignTransition(transition);","","            return connector;","        },","","        /**","         * Calls the `connectNode` method with `publishedTarget` parameter.","         *","         * @method connectDrop","         * @param event","         */","        connectDrop: function(event) {","            var instance = this;","","            instance.connectNode(event.publishedTarget);","        },","","        /**","         * Handles the `connectEnd` event.","         *","         * @method connectEnd","         * @param event","         */","        connectEnd: function() {","            var instance = this;","            var builder = instance.get('builder');","            var publishedSource = builder.publishedSource;","","            if (!builder.isAbleToConnect() &&","                builder.get('showSuggestConnector') &&","                builder.connector.get('visible')) {","","                builder.showSuggestConnectorOverlay();","            }","            else {","                builder.connector.hide();","                publishedSource.invite.set('visible', false);","            }","","            if (builder.get('highlightDropZones')) {","                builder.get('fields').each(function(diagramNode) {","                    diagramNode.set('highlighted', false);","                });","            }","        },","","        /**","         * Sets the connector position based on the mouse X and Y positions.","         *","         * @method connectMove","         * @param event","         */","        connectMove: function(event) {","            var instance = this;","            var builder = instance.get('builder');","            var mouseXY = event.mouseXY;","","            builder.connector.set('p2', mouseXY);","","            if (builder.publishedTarget) {","                var invite = instance.invite;","                var offset = invite.get('radius') || 0;","","                if (!invite.get('visible')) {","                    invite.set('visible', true);","                }","","                invite.setXY([mouseXY[0] - offset, mouseXY[1] - offset]);","            }","        },","","        /**","         * Prepares the transition and connects a node.","         *","         * @method connectNode","         * @param diagramNode","         */","        connectNode: function(diagramNode) {","            var instance = this;","            var dd = instance.boundaryDragDelegate.dd;","","            instance.connect(","                instance.prepareTransition({","                    sourceXY: A.DiagramNode.getNodeCoordinates(dd.startXY, instance.get('boundingBox')),","                    target: diagramNode.get('name'),","                    targetXY: A.DiagramNode.getNodeCoordinates(dd.mouseXY, diagramNode.get('boundingBox'))","                })","            );","        },","","        /**","         * Sets the `publishedTarget` attribute to null and hiddes the","         * `publishedSource`'s invite.","         *","         * @method connectOutTarget","         * @param event","         */","        connectOutTarget: function() {","            var instance = this;","            var builder = instance.get('builder');","","            builder.publishedTarget = null;","            builder.publishedSource.invite.set('visible', false);","        },","","        /**","         * If `publishedSource` is different from the current instance, sets the","         * `publishedTarget` to the current instance.","         *","         * @method connectOverTarget","         * @param event","         */","        connectOverTarget: function() {","            var instance = this;","            var builder = instance.get('builder');","","            if (builder.publishedSource !== instance) {","                builder.publishedTarget = instance;","            }","        },","","        /**","         * Highlights each diagram node and fires a `publishedSource` event.","         *","         * @method connectStart","         * @param event","         */","        connectStart: function(event) {","            var instance = this;","            var builder = instance.get('builder');","","            builder.connector.show().set('p1', event.startXY);","","            if (builder.get('highlightDropZones')) {","                builder.get('fields').each(function(diagramNode) {","                    diagramNode.set('highlighted', true);","                });","            }","","            A.DiagramNodeManager.fire('publishedSource', {","                publishedSource: instance","            });","        },","","        /**","         * Checks if a transition is connected, if yes removes the transition.","         *","         * @method disconnect","         * @param transition","         */","        disconnect: function(transition) {","            var instance = this;","","            if (instance.isTransitionConnected(transition)) {","                instance.removeTransition(transition);","            }","        },","","        /**","         * An utility function to loop through all connectors.","         *","         * @method eachConnector","         * @param fn","         */","        eachConnector: function(fn) {","            var instance = this,","                sourceNodes = [],","                connectors = [].concat(instance.get('connectors').values()),","                tIndex = connectors.length;","","            A.Array.each(instance.get('builder').getSourceNodes(instance), function(sourceNode) {","                var sourceConnectors = sourceNode.get('connectors');","","                A.Array.each(sourceConnectors.values(), function(connector) {","                    if (instance.get('name') === connector.get('transition').target) {","                        sourceNodes.push(sourceNode);","                        connectors.push(connector);","                    }","                });","            });","","            A.Array.each(connectors, function(connector, index) {","                fn.call(instance, connector, index, (index < tIndex) ? instance : sourceNodes[index - tIndex]);","            });","","            connectors = sourceNodes = null;","","            return connectors;","        },","","        /**","         * Returns a connector based on the transition uid.","         *","         * @method getConnector","         * @param transition","         */","        getConnector: function(transition) {","            var instance = this;","","            return instance.get('connectors').getValue(transition.uid);","        },","","        /**","         * Returns the `dropContainer` or bounding box's parent node.","         *","         * @method getContainer","         */","        getContainer: function() {","            var instance = this;","","            return (instance.get('builder').dropContainer || instance.get('boundingBox').get('parentNode'));","        },","","        /**","         * Returns the left and top positions of a node based in its container.","         *","         * @method getNodeCoordinates","         */","        getNodeCoordinates: function() {","            var instance = this;","","            return A.DiagramNode.getNodeCoordinates(instance.get('boundingBox'), instance.getContainer());","        },","","        /**","         * Gets the list of properties from the property model.","         *","         * @method getProperties","         * @return {Array}","         */","        getProperties: function() {","            var instance = this;","            var propertyModel = instance.getPropertyModel();","","            A.Array.each(propertyModel, function(property) {","                var value = instance.get(property.attributeName),","                    type = A.Lang.type(value);","","                if (type === 'boolean') {","                    value = String(value);","                }","","                property.value = value;","            });","","            return propertyModel;","        },","","        /**","         * Gets the model defition of a property.","         *","         * @method getPropertyModel","         * @return {Array}","         */","        getPropertyModel: function() {","            var instance = this;","            var strings = instance.getStrings();","","            return [{","                attributeName: 'description',","                editor: new A.TextAreaCellEditor(),","                name: strings.description","            }, {","                attributeName: 'name',","                editor: new A.TextCellEditor({","                    validator: {","                        rules: {","                            value: {","                                required: true","                            }","                        }","                    }","                }),","                name: strings.name","            }, {","                attributeName: 'type',","                editor: false,","                name: strings.type","            }];","        },","","        /**","         * Checks if boundary is draggable.","         *","         * @method isBoundaryDrag","         * @param drag","         * @return {Boolean}","         */","        isBoundaryDrag: function(drag) {","            var instance = this;","","            return (drag === instance.boundaryDragDelegate.dd);","        },","","        /**","         * Checks if a connector has an transition uid property.","         *","         * @method isTransitionConnected","         * @param transition","         */","        isTransitionConnected: function(transition) {","            var instance = this;","","            return instance.get('connectors').has(transition.uid);","        },","","        /**","         * Builds the transition configuration object.","         *","         * @method prepareTransition","         * @param val","         */","        prepareTransition: function(val) {","            var instance = this,","                target = val,","                transition;","","            if (A.Lang.isObject(val)) {","                target = val.target;","            }","","            A.Array.some(","                instance.get('transitions').values(),","                function(t) {","                    transition = (target === t.target) ? t : null;","","                    return transition;","                }","            );","","            if (!transition) {","                transition = {","                    source: instance.get('name'),","                    target: null,","                    uid: A.guid()","                };","","                if (A.Lang.isString(val)) {","                    transition.target = val;","                }","                else if (A.Lang.isObject(val)) {","                    transition = A.merge(transition, val);","                }","            }","","            return transition;","        },","","        /**","         * Removes the transition uid from a transition.","         *","         * @method removeTransition","         * @param transition","         */","        removeTransition: function(transition) {","            var instance = this;","","            return instance.get('transitions').remove(transition.uid);","        },","","        /**","         * Renders the `shapeBoundary` attribute.","         *","         * @method renderShapeBoundary","         */","        renderShapeBoundary: function() {","            var instance = this;","","            var boundary = instance.boundary =","                instance.get('graphic').addShape(instance.get('shapeBoundary'));","","            return boundary;","        },","","        /**","         * Renders the `shapeInvite` attribute.","         *","         * @method renderShapeInvite","         */","        renderShapeInvite: function() {","            var instance = this;","","            var invite = instance.invite =","                instance.get('builder').get('graphic').addShape(instance.get('shapeInvite'));","","            invite.set('visible', false);","","            return invite;","        },","","        /**","         * Syncs the connections in the UI.","         *","         * @method syncConnectionsUI","         */","        syncConnectionsUI: function() {","            var instance = this,","                transitions = instance.get('transitions');","","            A.Array.each(transitions.values(), function(transition) {","                instance.connect(transition, transition.connector);","            });","        },","","        /**","         * Fires after a connector has been removed.","         *","         * @method _afterConnectorRemove","         * @param event","         * @protected","         */","        _afterConnectorRemove: function(event) {","            event.value.destroy();","        },","","        /**","         * Fires after render is executed.","         *","         * @method _afterRender","         * @param event","         * @protected","         */","        _afterRender: function() {","            var instance = this;","","            instance.setStdModContent(A.WidgetStdMod.BODY, '', A.WidgetStdMod.AFTER);","            instance._renderGraphic();","            instance._renderControls();","            instance._renderLabel();","            instance._uiSetHighlighted(instance.get('highlighted'));","        },","","        /**","         * Fires after a transition has been removed.","         *","         * @method _afterTransitionsRemove","         * @param event","         * @protected","         */","        _afterTransitionsRemove: function(event) {","            var instance = this;","","            instance.get('connectors').remove(event.value.uid);","        },","","        /**","         * Binds mouse enter and mouse leave events in boundary.","         *","         * @method _bindBoundaryEvents","         * @protected","         */","        _bindBoundaryEvents: function() {","            var instance = this;","","            instance.boundary.detachAll().on({","                mouseenter: A.bind(instance._onBoundaryMouseEnter, instance),","                mouseleave: A.bind(instance._onBoundaryMouseLeave, instance)","            });","        },","","        /**","         * Returns a new instance of `A.Map` and bind the after connector remove","         * event.","         *","         * @method _connectorsValueFn","         * @param val","         * @protected","         */","        _connectorsValueFn: function() {","            var instance = this;","","            return new A.Map({","                after: {","                    remove: A.bind(instance._afterConnectorRemove, instance)","                }","            });","        },","","        /**","         * Returns a configuration object for the toolbar.","         *","         * @method _controlsToolbarValueFn","         * @param val","         * @protected","         */","        _controlsToolbarValueFn: function() {","            var instance = this;","","            return {","                children: [","                    {","                        icon: 'glyphicon glyphicon-remove',","                        on: {","                            click: A.bind(instance._handleCloseEvent, instance)","                        }","                    }","                ]","            };","        },","","        /**","         * Fires when a close event is dispatched.","         *","         * @method _handleCloseEvent","         * @param event","         * @protected","         */","        _handleCloseEvent: function() {","            var instance = this;","","            instance.get('builder').deleteSelectedNode();","        },","","        /**","         * Fires a `connectStart` event with `startXY` parameter.","         *","         * @method _handleConnectStart","         * @param startXY","         * @protected","         */","        _handleConnectStart: function(startXY) {","            var instance = this;","","            instance.fire('connectStart', {","                startXY: startXY","            });","        },","","        /**","         * Fires a `connectMove` event with `startXY` and `publishedSource`","         * parameters.","         *","         * @method _handleConnectMove","         * @param mouseXY","         * @protected","         */","        _handleConnectMove: function(mouseXY) {","            var instance = this;","            var builder = instance.get('builder');","","            instance.fire('connectMove', {","                mouseXY: mouseXY,","                publishedSource: builder.publishedSource","            });","        },","","        /**","         * Checks if source and target are published, if yes a `connectDrop`","         * event is fired with `publishedSource` and `publishedTarget`","         * parameters. Also fires a `connectEnd` event.","         *","         * @method _handleConnectEnd","         * @protected","         */","        _handleConnectEnd: function() {","            var instance = this;","            var builder = instance.get('builder');","            var publishedSource = builder.publishedSource;","            var publishedTarget = builder.publishedTarget;","","            if (publishedSource && publishedTarget) {","                instance.fire('connectDrop', {","                    publishedSource: publishedSource,","                    publishedTarget: publishedTarget","                });","            }","","            instance.fire('connectEnd', {","                publishedSource: publishedSource","            });","        },","","        /**","         * Checks if source is published, if yes a `connectOutTarget` event is","         * fired with `publishedSource` parameter.","         *","         * @method _handleConnectOutTarget","         * @protected","         */","        _handleConnectOutTarget: function() {","            var instance = this;","            var builder = instance.get('builder');","            var publishedSource = builder.publishedSource;","","            if (publishedSource) {","                instance.fire('connectOutTarget', {","                    publishedSource: publishedSource","                });","            }","        },","","        /**","         * Checks if source is published, if yes a `connectOverTarget` event is","         * fired with `publishedSource` parameter.","         *","         * @method _handleConnectOverTarget","         * @protected","         */","        _handleConnectOverTarget: function() {","            var instance = this;","            var builder = instance.get('builder');","            var publishedSource = builder.publishedSource;","","            if (publishedSource) {","                instance.fire('connectOverTarget', {","                    publishedSource: publishedSource","                });","            }","        },","","        /**","         * Fires when there's drag event happening in the boundary.","         *","         * @method _onBoundaryDrag","         * @param event","         * @protected","         */","        _onBoundaryDrag: function() {","            var instance = this;","            var dd = instance.boundaryDragDelegate.dd;","","            instance._handleConnectMove(dd.con._checkRegion(dd.mouseXY));","        },","","        /**","         * Fires when a drag event ends in the boundary.","         *","         * @method _onBoundaryDragEnd","         * @param event","         * @protected","         */","        _onBoundaryDragEnd: function(event) {","            var instance = this;","","            instance._handleConnectEnd();","            event.target.get('dragNode').show();","        },","","        /**","         * Fires when a drag event starts in the boundary.","         *","         * @method _onBoundaryDragStart","         * @param event","         * @protected","         */","        _onBoundaryDragStart: function(event) {","            var instance = this;","","            instance._handleConnectStart(instance.boundaryDragDelegate.dd.startXY);","            event.target.get('dragNode').hide();","        },","","        /**","         * Fires when mouse enters boundary.","         *","         * @method _onBoundaryMouseEnter","         * @param event","         * @protected","         */","        _onBoundaryMouseEnter: function(event) {","            var instance = this;","","            instance.fire('boundaryMouseEnter', {","                domEvent: event","            });","","            instance._handleConnectOverTarget();","        },","","        /**","         * Fires when mouse leaves boundary.","         *","         * @method _onBoundaryMouseLeave","         * @param event","         * @protected","         */","        _onBoundaryMouseLeave: function(event) {","            var instance = this;","","            instance.fire('boundaryMouseLeave', {","                domEvent: event","            });","","            instance._handleConnectOutTarget();","        },","","        /**","         * Fires when the name is changed.","         *","         * @method _onNameChange","         * @param event","         * @protected","         */","        _onNameChange: function(event) {","            var instance = this;","","            instance.eachConnector(function(connector, index, sourceNode) {","                var transition = connector.get('transition');","","                transition[(instance === sourceNode) ? 'source' : 'target'] = event.newVal;","                connector.set('transition', transition);","            });","        },","","        /**","         * Creates a node for the controls and append it to the bounding box.","         *","         * @method _renderControls","         * @protected","         */","        _renderControls: function() {","            var instance = this;","            var boundingBox = instance.get('boundingBox');","","            instance.controlsNode = A.Node.create(instance.CONTROLS_TEMPLATE).appendTo(boundingBox);","        },","","        /**","         * Creates an instance of `A.Toolbar` in `controlsToolbar` attribute and","         * renders it.","         *","         * @method _renderControlsToolbar","         * @param event","         * @protected","         */","        _renderControlsToolbar: function() {","            var instance = this;","","            instance.controlsToolbar = new A.Toolbar(","                instance.get('controlsToolbar')","            ).render(instance.controlsNode);","","            instance._uiSetRequired(instance.get('required'));","        },","","        /**","         * Renders the `graphic` attribute.","         *","         * @method _renderGraphic","         * @protected","         */","        _renderGraphic: function() {","            var instance = this;","","            instance.set(","                'graphic',","                new A.Graphic({","                    height: instance.get('height'),","                    render: instance.bodyNode,","                    width: instance.get('width')","                })","            );","","            instance.renderShapeInvite();","            instance.renderShapeBoundary().addClass(CSS_DIAGRAM_NODE_SHAPE_BOUNDARY);","","            instance._bindBoundaryEvents();","            instance._setupBoundaryDrag();","        },","","        /**","         * Creates a node for the label and place it after the content box.","         *","         * @method _renderLabel","         * @protected","         */","        _renderLabel: function() {","            var instance = this;","","            instance.labelNode = A.Node.create(","                A.Lang.sub(instance.LABEL_TEMPLATE, {","                    label: A.Escape.html(instance.get('name'))","                })","            );","","            instance.get('contentBox').placeAfter(instance.labelNode);","        },","","        /**","         * Set the `transition` attribute.","         *","         * @method _setTransitions","         * @param val","         * @protected","         * @return {Array}","         */","        _setTransitions: function(val) {","            var instance = this;","","            if (!isMap(val)) {","                var map = new A.Map({","                    after: {","                        remove: A.bind(instance._afterTransitionsRemove, instance)","                    }","                });","","                A.Array.each(val, function(transition) {","                    var uid = A.guid();","","                    transition = A.Lang.isObject(transition) ? A.mix(transition, {","                        uid: uid","                    }) : {","                        uid: uid,","                        target: transition","                    };","","                    map.put(uid, instance.prepareTransition(transition));","                });","","                val = map;","            }","","            return val;","        },","","        /**","         * Creates a new instance of `A.DD.Delegate` in `boundaryDragDelegate`","         * attribute.","         *","         * @method _setupBoundaryDrag","         * @protected","         */","        _setupBoundaryDrag: function() {","            var instance = this;","","            var builder = instance.get('builder');","","            instance.boundaryDragDelegate = new A.DD.Delegate({","                bubbleTargets: instance,","                container: instance.bodyNode,","                nodes: '.' + CSS_DIAGRAM_NODE_SHAPE_BOUNDARY,","                dragConfig: {","                    useShim: false,","                    plugins: [","                        {","                            cfg: {","                                constrain: (builder ? builder.get('canvas') : null)","                            },","                            fn: A.Plugin.DDConstrained","                        },","                        {","                            cfg: {","                                scrollDelay: 150","                            },","                            fn: A.Plugin.DDWinScroll","                        },","                        {","                            cfg: {","                                borderStyle: '0px',","                                moveOnEnd: false,","                                resizeFrame: false","                            },","                            fn: A.Plugin.DDProxy","                        }","                    ]","                },","                on: {","                    'drag:drag': A.bind(instance._onBoundaryDrag, instance),","                    'drag:end': A.bind(instance._onBoundaryDragEnd, instance),","                    'drag:start': A.bind(instance._onBoundaryDragStart, instance)","                }","            });","","            // Drag _unprep method invoke .detachAll() on the node, so we need","            // to rebind the events.","            A.Do.after(instance._bindBoundaryEvents, instance.boundaryDragDelegate.dd, '_unprep', instance);","        },","","        /**","         * Set the `highlighted` attribute in the UI.","         *","         * @method _uiSetHighlighted","         * @param val","         * @protected","         */","        _uiSetHighlighted: function(val) {","            var instance = this;","","            if (instance.get('rendered')) {","                var stroke = val ? instance.get('highlightBoundaryStroke') : instance.get('shapeBoundary' + '.' +","                    'stroke');","","                if (stroke) {","                    instance.boundary.set('stroke', stroke);","                }","            }","        },","","        /**","         * Set the `name` attribute in the UI.","         *","         * @method _uiSetName","         * @param val","         * @protected","         */","        _uiSetName: function(val) {","            var instance = this;","            var boundingBox = instance.get('boundingBox');","","            boundingBox.setAttribute('data-nodeId', A.Escape.html(A.DiagramNode.buildNodeId(val)));","","            if (instance.get('rendered')) {","                instance.labelNode.setContent(A.Escape.html(val));","            }","        },","","        /**","         * Set the `required` attribute in the UI.","         *","         * @method _uiSetRequired","         * @param val","         * @protected","         */","        _uiSetRequired: function() {},","","        /**","         * Set the `selected` attribute in the UI.","         *","         * @method _uiSetSelected","         * @param val","         * @protected","         */","        _uiSetSelected: function(val) {","            var instance = this;","","            instance.get('boundingBox').toggleClass(CSS_DIAGRAM_NODE_SELECTED, val);","","            if (val && !instance.controlsToolbar) {","                instance._renderControlsToolbar();","            }","        },","","        /**","         * Sets the X and Y position in the UI.","         *","         * @method _uiSetXY","         * @param val","         * @protected","         */","        _uiSetXY: function(val) {","            var instance = this;","            var containerXY = instance.getContainer().getXY();","","            this._posNode.setXY([val[0] + containerXY[0], val[1] + containerXY[1]]);","        },","","        /**","         * Gets the shape boundary definitions.","         *","         * @method _valueShapeBoundary","         * @protected","         */","        _valueShapeBoundary: function() {","            return {","                height: 41,","                type: 'rect',","                stroke: {","                    weight: 7,","                    color: 'transparent',","                    opacity: 0","                },","                width: 41","            };","        }","    }","});","","A.DiagramNode = DiagramNode;","","","}, '3.1.0-deprecated.62', {\"requires\": [\"aui-aria\", \"aui-diagram-node-manager-base\", \"escape\", \"overlay\"]});","","}());"]};
}
var __cov_ENHluQz_jcSDTfG819obCQ = __coverage__['build/aui-diagram-node/aui-diagram-node.js'];
__cov_ENHluQz_jcSDTfG819obCQ.s['1']++;YUI.add('aui-diagram-node',function(A,NAME){__cov_ENHluQz_jcSDTfG819obCQ.f['1']++;__cov_ENHluQz_jcSDTfG819obCQ.s['2']++;var DiagramNode,adjustDiagramNodeOffset=function(diagramNode,offsetXY){__cov_ENHluQz_jcSDTfG819obCQ.f['2']++;__cov_ENHluQz_jcSDTfG819obCQ.s['3']++;var dnXY=A.Lang.isArray(diagramNode)?(__cov_ENHluQz_jcSDTfG819obCQ.b['1'][0]++,diagramNode):(__cov_ENHluQz_jcSDTfG819obCQ.b['1'][1]++,diagramNode.get('boundingBox').getXY());__cov_ENHluQz_jcSDTfG819obCQ.s['4']++;return[dnXY[0]+offsetXY[0],dnXY[1]+offsetXY[1]];},pythagoreanDistance=function(p1,p2){__cov_ENHluQz_jcSDTfG819obCQ.f['3']++;__cov_ENHluQz_jcSDTfG819obCQ.s['5']++;var dx=p2[0]-p1[0],dy=p2[1]-p1[1];__cov_ENHluQz_jcSDTfG819obCQ.s['6']++;return Math.sqrt(dx*dx+dy*dy);},findHotPointBestMatch=function(diagramNode1,diagramNode2){__cov_ENHluQz_jcSDTfG819obCQ.f['4']++;__cov_ENHluQz_jcSDTfG819obCQ.s['7']++;var hp1=diagramNode1.hotPoints,hp2=diagramNode2.hotPoints,xy1=diagramNode1.get('boundingBox').getXY(),xy2=diagramNode2.get('boundingBox').getXY(),len1,len2,i,j,minDistance=Infinity,match=[[0,0],[0,0]];__cov_ENHluQz_jcSDTfG819obCQ.s['8']++;for(i=0,len1=hp1.length;i<len1;i++){__cov_ENHluQz_jcSDTfG819obCQ.s['9']++;var value1=hp1[i],adjustedValue1=adjustDiagramNodeOffset(xy1,value1);__cov_ENHluQz_jcSDTfG819obCQ.s['10']++;for(j=0,len2=hp2.length;j<len2;j++){__cov_ENHluQz_jcSDTfG819obCQ.s['11']++;var value2=hp2[j],adjustedValue2=adjustDiagramNodeOffset(xy2,value2),distance=pythagoreanDistance(adjustedValue2,adjustedValue1);__cov_ENHluQz_jcSDTfG819obCQ.s['12']++;if(distance<minDistance){__cov_ENHluQz_jcSDTfG819obCQ.b['2'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['13']++;match[0]=value1;__cov_ENHluQz_jcSDTfG819obCQ.s['14']++;match[1]=value2;__cov_ENHluQz_jcSDTfG819obCQ.s['15']++;minDistance=distance;}else{__cov_ENHluQz_jcSDTfG819obCQ.b['2'][1]++;}}}__cov_ENHluQz_jcSDTfG819obCQ.s['16']++;return match;},isDiagramBuilder=function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['5']++;__cov_ENHluQz_jcSDTfG819obCQ.s['17']++;return A.instanceOf(val,A.PropertyBuilder);},isMap=function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['6']++;__cov_ENHluQz_jcSDTfG819obCQ.s['18']++;return A.instanceOf(val,A.Map);},CSS_DB_CONTROLS=A.getClassName('diagram','builder','controls'),CSS_DIAGRAM_NODE=A.getClassName('diagram','node'),CSS_DIAGRAM_NODE_LABEL=A.getClassName('diagram','node','label'),CSS_DIAGRAM_NODE_SELECTED=A.getClassName('diagram','node','selected'),CSS_DIAGRAM_NODE_SHAPE_BOUNDARY=A.getClassName('diagram','node','shape','boundary');__cov_ENHluQz_jcSDTfG819obCQ.s['19']++;DiagramNode=A.Component.create({NAME:'diagram-node',UI_ATTRS:['highlighted','name','required','selected'],ATTRS:{builder:{validator:isDiagramBuilder},connectors:{valueFn:'_connectorsValueFn',writeOnce:true},controlsToolbar:{validator:A.Lang.isObject,valueFn:'_controlsToolbarValueFn'},description:{value:'',validator:A.Lang.isString},graphic:{writeOnce:true,validator:A.Lang.isObject},height:{value:60},highlighted:{validator:A.Lang.isBoolean,value:false},name:{valueFn:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['7']++;__cov_ENHluQz_jcSDTfG819obCQ.s['20']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['21']++;return instance.get('type')+ ++A.Env._uidx;},validator:A.Lang.isString},required:{value:false,validator:A.Lang.isBoolean},selected:{value:false,validator:A.Lang.isBoolean},shapeBoundary:{validator:A.Lang.isObject,valueFn:'_valueShapeBoundary'},highlightBoundaryStroke:{validator:A.Lang.isObject,value:{weight:7,color:'#484B4C',opacity:0.25}},shapeInvite:{validator:A.Lang.isObject,value:{radius:12,type:'circle',stroke:{weight:6,color:'#ff6600',opacity:0.8},fill:{color:'#ffd700',opacity:0.8}}},strings:{value:{closeMessage:'Close',connectMessage:'Connect',description:'Description',editMessage:'Edit',name:'Name',type:'Type'}},tabIndex:{value:1},transitions:{value:null,writeOnce:true,setter:'_setTransitions'},type:{value:'node',validator:A.Lang.isString},width:{value:60},zIndex:{value:100}},EXTENDS:A.Overlay,CIRCLE_POINTS:[[35,20],[28,33],[14,34],[5,22],[10,9],[24,6],[34,16],[31,30],[18,35],[6,26],[7,12],[20,5],[33,12],[34,26],[22,35],[9,30],[6,16],[16,6],[30,9],[35,22],[26,34],[12,33],[5,20],[12,7],[26,6],[35,18],[30,31],[16,34],[6,24],[9,10],[22,5],[34,14],[33,28],[20,35],[7,28],[6,14],[18,5],[31,10],[34,24],[24,34],[10,31],[5,18],[14,6],[28,8],[35,20],[28,33],[14,34],[5,22],[10,8],[25,6],[34,16],[31,30],[18,35],[6,26],[8,12],[20,5],[33,12],[33,27],[22,35],[8,30],[6,15],[16,6],[30,9],[35,23],[26,34],[12,32],[5,20],[12,7],[27,7],[35,18],[29,32],[15,34]],DIAMOND_POINTS:[[30,5],[35,10],[40,15],[45,20],[50,25],[55,30],[50,35],[45,40],[40,45],[35,50],[30,55],[25,50],[20,45],[15,40],[10,35],[5,30],[10,25],[15,20],[20,15],[25,10]],SQUARE_POINTS:[[5,5],[10,5],[15,5],[20,5],[25,5],[30,5],[35,5],[40,5],[50,5],[55,5],[60,5],[65,5],[65,10],[65,15],[65,20],[65,25],[65,30],[65,35],[65,40],[65,45],[65,50],[65,55],[65,60],[65,65],[60,65],[55,65],[50,65],[45,65],[40,65],[35,65],[30,65],[25,65],[20,65],[15,65],[10,65],[5,65],[5,60],[5,55],[5,50],[5,45],[5,40],[5,35],[5,30],[5,25],[5,20],[5,15],[5,10]],getNodeByName:function(name){__cov_ENHluQz_jcSDTfG819obCQ.f['8']++;__cov_ENHluQz_jcSDTfG819obCQ.s['22']++;return A.Widget.getByNode('[data-nodeId='+A.DiagramNode.buildNodeId(name)+']');},getNodeCoordinates:function(container,node){__cov_ENHluQz_jcSDTfG819obCQ.f['9']++;__cov_ENHluQz_jcSDTfG819obCQ.s['23']++;var nodeXY=A.Lang.isArray(node)?(__cov_ENHluQz_jcSDTfG819obCQ.b['3'][0]++,node):(__cov_ENHluQz_jcSDTfG819obCQ.b['3'][1]++,node.getXY());__cov_ENHluQz_jcSDTfG819obCQ.s['24']++;var containerXY=A.Lang.isArray(container)?(__cov_ENHluQz_jcSDTfG819obCQ.b['4'][0]++,container):(__cov_ENHluQz_jcSDTfG819obCQ.b['4'][1]++,container.getXY());__cov_ENHluQz_jcSDTfG819obCQ.s['25']++;return A.Array.map(containerXY,function(val,i){__cov_ENHluQz_jcSDTfG819obCQ.f['10']++;__cov_ENHluQz_jcSDTfG819obCQ.s['26']++;return Math.max(0,val-nodeXY[i]);});},buildNodeId:function(id){__cov_ENHluQz_jcSDTfG819obCQ.f['11']++;__cov_ENHluQz_jcSDTfG819obCQ.s['27']++;return'diagramNode'+'_'+'field'+'_'+id.replace(/[^a-z0-9.:_\-]/gi,'_');},prototype:{LABEL_TEMPLATE:'<div class="'+CSS_DIAGRAM_NODE_LABEL+'">{label}</div>',boundary:null,hotPoints:[[0,0]],CONTROLS_TEMPLATE:'<div class="'+CSS_DB_CONTROLS+'"></div>',SERIALIZABLE_ATTRS:['description','name','required','type','width','height','zIndex','xy'],initializer:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['12']++;__cov_ENHluQz_jcSDTfG819obCQ.s['28']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['29']++;instance.after({'map:remove':A.bind(instance._afterMapRemove,instance),render:instance._afterRender});__cov_ENHluQz_jcSDTfG819obCQ.s['30']++;instance.on({nameChange:instance._onNameChange});__cov_ENHluQz_jcSDTfG819obCQ.s['31']++;instance.publish({connectDrop:{defaultFn:instance.connectDrop},connectEnd:{defaultFn:instance.connectEnd},connectMove:{defaultFn:instance.connectMove},connectOutTarget:{defaultFn:instance.connectOutTarget},connectOverTarget:{defaultFn:instance.connectOverTarget},connectStart:{defaultFn:instance.connectStart},boundaryMouseEnter:{},boundaryMouseLeave:{}});__cov_ENHluQz_jcSDTfG819obCQ.s['32']++;instance.boundingBox=instance.get('boundingBox');__cov_ENHluQz_jcSDTfG819obCQ.s['33']++;instance.toolbarContainer=instance.get('toolbarContainer');__cov_ENHluQz_jcSDTfG819obCQ.s['34']++;instance.boundingBox.addClass(CSS_DIAGRAM_NODE+'-'+instance.get('type'));__cov_ENHluQz_jcSDTfG819obCQ.s['35']++;instance.boundingBox.setAttribute('draggable',true);},destructor:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['13']++;__cov_ENHluQz_jcSDTfG819obCQ.s['36']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['37']++;instance.eachConnector(function(connector,index,sourceNode){__cov_ENHluQz_jcSDTfG819obCQ.f['14']++;__cov_ENHluQz_jcSDTfG819obCQ.s['38']++;sourceNode.removeTransition(connector.get('transition'));});__cov_ENHluQz_jcSDTfG819obCQ.s['39']++;instance.invite.destroy();__cov_ENHluQz_jcSDTfG819obCQ.s['40']++;instance.get('graphic').destroy();__cov_ENHluQz_jcSDTfG819obCQ.s['41']++;instance.get('builder').removeField(instance);},addTransition:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['15']++;__cov_ENHluQz_jcSDTfG819obCQ.s['42']++;var instance=this,transitions=instance.get('transitions');__cov_ENHluQz_jcSDTfG819obCQ.s['43']++;transition=instance.prepareTransition(transition);__cov_ENHluQz_jcSDTfG819obCQ.s['44']++;if(!transitions.has(transition.uid)){__cov_ENHluQz_jcSDTfG819obCQ.b['5'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['45']++;transition.uid=A.guid();__cov_ENHluQz_jcSDTfG819obCQ.s['46']++;transitions.put(transition.uid,transition);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['5'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['47']++;return transition;},alignTransition:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['16']++;__cov_ENHluQz_jcSDTfG819obCQ.s['48']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['49']++;var diagramNode=A.DiagramNode.getNodeByName(transition.target);__cov_ENHluQz_jcSDTfG819obCQ.s['50']++;if(diagramNode){__cov_ENHluQz_jcSDTfG819obCQ.b['6'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['51']++;var bestMatch=findHotPointBestMatch(instance,diagramNode);__cov_ENHluQz_jcSDTfG819obCQ.s['52']++;transition=A.merge(transition,{sourceXY:bestMatch[0],targetXY:bestMatch[1]});__cov_ENHluQz_jcSDTfG819obCQ.s['53']++;instance.getConnector(transition).setAttrs({p1:adjustDiagramNodeOffset(instance,transition.sourceXY),p2:adjustDiagramNodeOffset(diagramNode,transition.targetXY)});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['6'][1]++;}},alignTransitions:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['17']++;__cov_ENHluQz_jcSDTfG819obCQ.s['54']++;var instance=this,transitions=instance.get('transitions');__cov_ENHluQz_jcSDTfG819obCQ.s['55']++;A.Array.each(transitions.values(),A.bind(instance.alignTransition,instance));},close:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['18']++;__cov_ENHluQz_jcSDTfG819obCQ.s['56']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['57']++;return instance.destroy();},connect:function(transition,optConnector){__cov_ENHluQz_jcSDTfG819obCQ.f['19']++;__cov_ENHluQz_jcSDTfG819obCQ.s['58']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['59']++;transition=instance.addTransition(transition);__cov_ENHluQz_jcSDTfG819obCQ.s['60']++;var connector=null;__cov_ENHluQz_jcSDTfG819obCQ.s['61']++;var diagramNode=A.DiagramNode.getNodeByName(transition.target);__cov_ENHluQz_jcSDTfG819obCQ.s['62']++;if(diagramNode){__cov_ENHluQz_jcSDTfG819obCQ.b['7'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['63']++;if(!instance.isTransitionConnected(transition)){__cov_ENHluQz_jcSDTfG819obCQ.b['8'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['64']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['65']++;var bestMatch=findHotPointBestMatch(instance,diagramNode);__cov_ENHluQz_jcSDTfG819obCQ.s['66']++;A.mix(transition,{sourceXY:bestMatch[0],targetXY:bestMatch[1]});__cov_ENHluQz_jcSDTfG819obCQ.s['67']++;connector=new A.Connector(A.merge({after:{selectedChange:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['20']++;__cov_ENHluQz_jcSDTfG819obCQ.s['68']++;instance.alignTransition(transition);}},builder:builder,graphic:builder.get('graphic'),transition:transition},optConnector));__cov_ENHluQz_jcSDTfG819obCQ.s['69']++;instance.get('connectors').put(transition.uid,connector);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['8'][1]++;}}else{__cov_ENHluQz_jcSDTfG819obCQ.b['7'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['70']++;instance.alignTransition(transition);__cov_ENHluQz_jcSDTfG819obCQ.s['71']++;return connector;},connectDrop:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['21']++;__cov_ENHluQz_jcSDTfG819obCQ.s['72']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['73']++;instance.connectNode(event.publishedTarget);},connectEnd:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['22']++;__cov_ENHluQz_jcSDTfG819obCQ.s['74']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['75']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['76']++;var publishedSource=builder.publishedSource;__cov_ENHluQz_jcSDTfG819obCQ.s['77']++;if((__cov_ENHluQz_jcSDTfG819obCQ.b['10'][0]++,!builder.isAbleToConnect())&&(__cov_ENHluQz_jcSDTfG819obCQ.b['10'][1]++,builder.get('showSuggestConnector'))&&(__cov_ENHluQz_jcSDTfG819obCQ.b['10'][2]++,builder.connector.get('visible'))){__cov_ENHluQz_jcSDTfG819obCQ.b['9'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['78']++;builder.showSuggestConnectorOverlay();}else{__cov_ENHluQz_jcSDTfG819obCQ.b['9'][1]++;__cov_ENHluQz_jcSDTfG819obCQ.s['79']++;builder.connector.hide();__cov_ENHluQz_jcSDTfG819obCQ.s['80']++;publishedSource.invite.set('visible',false);}__cov_ENHluQz_jcSDTfG819obCQ.s['81']++;if(builder.get('highlightDropZones')){__cov_ENHluQz_jcSDTfG819obCQ.b['11'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['82']++;builder.get('fields').each(function(diagramNode){__cov_ENHluQz_jcSDTfG819obCQ.f['23']++;__cov_ENHluQz_jcSDTfG819obCQ.s['83']++;diagramNode.set('highlighted',false);});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['11'][1]++;}},connectMove:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['24']++;__cov_ENHluQz_jcSDTfG819obCQ.s['84']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['85']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['86']++;var mouseXY=event.mouseXY;__cov_ENHluQz_jcSDTfG819obCQ.s['87']++;builder.connector.set('p2',mouseXY);__cov_ENHluQz_jcSDTfG819obCQ.s['88']++;if(builder.publishedTarget){__cov_ENHluQz_jcSDTfG819obCQ.b['12'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['89']++;var invite=instance.invite;__cov_ENHluQz_jcSDTfG819obCQ.s['90']++;var offset=(__cov_ENHluQz_jcSDTfG819obCQ.b['13'][0]++,invite.get('radius'))||(__cov_ENHluQz_jcSDTfG819obCQ.b['13'][1]++,0);__cov_ENHluQz_jcSDTfG819obCQ.s['91']++;if(!invite.get('visible')){__cov_ENHluQz_jcSDTfG819obCQ.b['14'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['92']++;invite.set('visible',true);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['14'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['93']++;invite.setXY([mouseXY[0]-offset,mouseXY[1]-offset]);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['12'][1]++;}},connectNode:function(diagramNode){__cov_ENHluQz_jcSDTfG819obCQ.f['25']++;__cov_ENHluQz_jcSDTfG819obCQ.s['94']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['95']++;var dd=instance.boundaryDragDelegate.dd;__cov_ENHluQz_jcSDTfG819obCQ.s['96']++;instance.connect(instance.prepareTransition({sourceXY:A.DiagramNode.getNodeCoordinates(dd.startXY,instance.get('boundingBox')),target:diagramNode.get('name'),targetXY:A.DiagramNode.getNodeCoordinates(dd.mouseXY,diagramNode.get('boundingBox'))}));},connectOutTarget:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['26']++;__cov_ENHluQz_jcSDTfG819obCQ.s['97']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['98']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['99']++;builder.publishedTarget=null;__cov_ENHluQz_jcSDTfG819obCQ.s['100']++;builder.publishedSource.invite.set('visible',false);},connectOverTarget:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['27']++;__cov_ENHluQz_jcSDTfG819obCQ.s['101']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['102']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['103']++;if(builder.publishedSource!==instance){__cov_ENHluQz_jcSDTfG819obCQ.b['15'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['104']++;builder.publishedTarget=instance;}else{__cov_ENHluQz_jcSDTfG819obCQ.b['15'][1]++;}},connectStart:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['28']++;__cov_ENHluQz_jcSDTfG819obCQ.s['105']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['106']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['107']++;builder.connector.show().set('p1',event.startXY);__cov_ENHluQz_jcSDTfG819obCQ.s['108']++;if(builder.get('highlightDropZones')){__cov_ENHluQz_jcSDTfG819obCQ.b['16'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['109']++;builder.get('fields').each(function(diagramNode){__cov_ENHluQz_jcSDTfG819obCQ.f['29']++;__cov_ENHluQz_jcSDTfG819obCQ.s['110']++;diagramNode.set('highlighted',true);});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['16'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['111']++;A.DiagramNodeManager.fire('publishedSource',{publishedSource:instance});},disconnect:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['30']++;__cov_ENHluQz_jcSDTfG819obCQ.s['112']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['113']++;if(instance.isTransitionConnected(transition)){__cov_ENHluQz_jcSDTfG819obCQ.b['17'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['114']++;instance.removeTransition(transition);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['17'][1]++;}},eachConnector:function(fn){__cov_ENHluQz_jcSDTfG819obCQ.f['31']++;__cov_ENHluQz_jcSDTfG819obCQ.s['115']++;var instance=this,sourceNodes=[],connectors=[].concat(instance.get('connectors').values()),tIndex=connectors.length;__cov_ENHluQz_jcSDTfG819obCQ.s['116']++;A.Array.each(instance.get('builder').getSourceNodes(instance),function(sourceNode){__cov_ENHluQz_jcSDTfG819obCQ.f['32']++;__cov_ENHluQz_jcSDTfG819obCQ.s['117']++;var sourceConnectors=sourceNode.get('connectors');__cov_ENHluQz_jcSDTfG819obCQ.s['118']++;A.Array.each(sourceConnectors.values(),function(connector){__cov_ENHluQz_jcSDTfG819obCQ.f['33']++;__cov_ENHluQz_jcSDTfG819obCQ.s['119']++;if(instance.get('name')===connector.get('transition').target){__cov_ENHluQz_jcSDTfG819obCQ.b['18'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['120']++;sourceNodes.push(sourceNode);__cov_ENHluQz_jcSDTfG819obCQ.s['121']++;connectors.push(connector);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['18'][1]++;}});});__cov_ENHluQz_jcSDTfG819obCQ.s['122']++;A.Array.each(connectors,function(connector,index){__cov_ENHluQz_jcSDTfG819obCQ.f['34']++;__cov_ENHluQz_jcSDTfG819obCQ.s['123']++;fn.call(instance,connector,index,index<tIndex?(__cov_ENHluQz_jcSDTfG819obCQ.b['19'][0]++,instance):(__cov_ENHluQz_jcSDTfG819obCQ.b['19'][1]++,sourceNodes[index-tIndex]));});__cov_ENHluQz_jcSDTfG819obCQ.s['124']++;connectors=sourceNodes=null;__cov_ENHluQz_jcSDTfG819obCQ.s['125']++;return connectors;},getConnector:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['35']++;__cov_ENHluQz_jcSDTfG819obCQ.s['126']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['127']++;return instance.get('connectors').getValue(transition.uid);},getContainer:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['36']++;__cov_ENHluQz_jcSDTfG819obCQ.s['128']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['129']++;return(__cov_ENHluQz_jcSDTfG819obCQ.b['20'][0]++,instance.get('builder').dropContainer)||(__cov_ENHluQz_jcSDTfG819obCQ.b['20'][1]++,instance.get('boundingBox').get('parentNode'));},getNodeCoordinates:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['37']++;__cov_ENHluQz_jcSDTfG819obCQ.s['130']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['131']++;return A.DiagramNode.getNodeCoordinates(instance.get('boundingBox'),instance.getContainer());},getProperties:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['38']++;__cov_ENHluQz_jcSDTfG819obCQ.s['132']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['133']++;var propertyModel=instance.getPropertyModel();__cov_ENHluQz_jcSDTfG819obCQ.s['134']++;A.Array.each(propertyModel,function(property){__cov_ENHluQz_jcSDTfG819obCQ.f['39']++;__cov_ENHluQz_jcSDTfG819obCQ.s['135']++;var value=instance.get(property.attributeName),type=A.Lang.type(value);__cov_ENHluQz_jcSDTfG819obCQ.s['136']++;if(type==='boolean'){__cov_ENHluQz_jcSDTfG819obCQ.b['21'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['137']++;value=String(value);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['21'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['138']++;property.value=value;});__cov_ENHluQz_jcSDTfG819obCQ.s['139']++;return propertyModel;},getPropertyModel:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['40']++;__cov_ENHluQz_jcSDTfG819obCQ.s['140']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['141']++;var strings=instance.getStrings();__cov_ENHluQz_jcSDTfG819obCQ.s['142']++;return[{attributeName:'description',editor:new A.TextAreaCellEditor(),name:strings.description},{attributeName:'name',editor:new A.TextCellEditor({validator:{rules:{value:{required:true}}}}),name:strings.name},{attributeName:'type',editor:false,name:strings.type}];},isBoundaryDrag:function(drag){__cov_ENHluQz_jcSDTfG819obCQ.f['41']++;__cov_ENHluQz_jcSDTfG819obCQ.s['143']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['144']++;return drag===instance.boundaryDragDelegate.dd;},isTransitionConnected:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['42']++;__cov_ENHluQz_jcSDTfG819obCQ.s['145']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['146']++;return instance.get('connectors').has(transition.uid);},prepareTransition:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['43']++;__cov_ENHluQz_jcSDTfG819obCQ.s['147']++;var instance=this,target=val,transition;__cov_ENHluQz_jcSDTfG819obCQ.s['148']++;if(A.Lang.isObject(val)){__cov_ENHluQz_jcSDTfG819obCQ.b['22'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['149']++;target=val.target;}else{__cov_ENHluQz_jcSDTfG819obCQ.b['22'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['150']++;A.Array.some(instance.get('transitions').values(),function(t){__cov_ENHluQz_jcSDTfG819obCQ.f['44']++;__cov_ENHluQz_jcSDTfG819obCQ.s['151']++;transition=target===t.target?(__cov_ENHluQz_jcSDTfG819obCQ.b['23'][0]++,t):(__cov_ENHluQz_jcSDTfG819obCQ.b['23'][1]++,null);__cov_ENHluQz_jcSDTfG819obCQ.s['152']++;return transition;});__cov_ENHluQz_jcSDTfG819obCQ.s['153']++;if(!transition){__cov_ENHluQz_jcSDTfG819obCQ.b['24'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['154']++;transition={source:instance.get('name'),target:null,uid:A.guid()};__cov_ENHluQz_jcSDTfG819obCQ.s['155']++;if(A.Lang.isString(val)){__cov_ENHluQz_jcSDTfG819obCQ.b['25'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['156']++;transition.target=val;}else{__cov_ENHluQz_jcSDTfG819obCQ.b['25'][1]++;__cov_ENHluQz_jcSDTfG819obCQ.s['157']++;if(A.Lang.isObject(val)){__cov_ENHluQz_jcSDTfG819obCQ.b['26'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['158']++;transition=A.merge(transition,val);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['26'][1]++;}}}else{__cov_ENHluQz_jcSDTfG819obCQ.b['24'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['159']++;return transition;},removeTransition:function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['45']++;__cov_ENHluQz_jcSDTfG819obCQ.s['160']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['161']++;return instance.get('transitions').remove(transition.uid);},renderShapeBoundary:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['46']++;__cov_ENHluQz_jcSDTfG819obCQ.s['162']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['163']++;var boundary=instance.boundary=instance.get('graphic').addShape(instance.get('shapeBoundary'));__cov_ENHluQz_jcSDTfG819obCQ.s['164']++;return boundary;},renderShapeInvite:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['47']++;__cov_ENHluQz_jcSDTfG819obCQ.s['165']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['166']++;var invite=instance.invite=instance.get('builder').get('graphic').addShape(instance.get('shapeInvite'));__cov_ENHluQz_jcSDTfG819obCQ.s['167']++;invite.set('visible',false);__cov_ENHluQz_jcSDTfG819obCQ.s['168']++;return invite;},syncConnectionsUI:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['48']++;__cov_ENHluQz_jcSDTfG819obCQ.s['169']++;var instance=this,transitions=instance.get('transitions');__cov_ENHluQz_jcSDTfG819obCQ.s['170']++;A.Array.each(transitions.values(),function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['49']++;__cov_ENHluQz_jcSDTfG819obCQ.s['171']++;instance.connect(transition,transition.connector);});},_afterConnectorRemove:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['50']++;__cov_ENHluQz_jcSDTfG819obCQ.s['172']++;event.value.destroy();},_afterRender:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['51']++;__cov_ENHluQz_jcSDTfG819obCQ.s['173']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['174']++;instance.setStdModContent(A.WidgetStdMod.BODY,'',A.WidgetStdMod.AFTER);__cov_ENHluQz_jcSDTfG819obCQ.s['175']++;instance._renderGraphic();__cov_ENHluQz_jcSDTfG819obCQ.s['176']++;instance._renderControls();__cov_ENHluQz_jcSDTfG819obCQ.s['177']++;instance._renderLabel();__cov_ENHluQz_jcSDTfG819obCQ.s['178']++;instance._uiSetHighlighted(instance.get('highlighted'));},_afterTransitionsRemove:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['52']++;__cov_ENHluQz_jcSDTfG819obCQ.s['179']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['180']++;instance.get('connectors').remove(event.value.uid);},_bindBoundaryEvents:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['53']++;__cov_ENHluQz_jcSDTfG819obCQ.s['181']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['182']++;instance.boundary.detachAll().on({mouseenter:A.bind(instance._onBoundaryMouseEnter,instance),mouseleave:A.bind(instance._onBoundaryMouseLeave,instance)});},_connectorsValueFn:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['54']++;__cov_ENHluQz_jcSDTfG819obCQ.s['183']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['184']++;return new A.Map({after:{remove:A.bind(instance._afterConnectorRemove,instance)}});},_controlsToolbarValueFn:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['55']++;__cov_ENHluQz_jcSDTfG819obCQ.s['185']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['186']++;return{children:[{icon:'glyphicon glyphicon-remove',on:{click:A.bind(instance._handleCloseEvent,instance)}}]};},_handleCloseEvent:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['56']++;__cov_ENHluQz_jcSDTfG819obCQ.s['187']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['188']++;instance.get('builder').deleteSelectedNode();},_handleConnectStart:function(startXY){__cov_ENHluQz_jcSDTfG819obCQ.f['57']++;__cov_ENHluQz_jcSDTfG819obCQ.s['189']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['190']++;instance.fire('connectStart',{startXY:startXY});},_handleConnectMove:function(mouseXY){__cov_ENHluQz_jcSDTfG819obCQ.f['58']++;__cov_ENHluQz_jcSDTfG819obCQ.s['191']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['192']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['193']++;instance.fire('connectMove',{mouseXY:mouseXY,publishedSource:builder.publishedSource});},_handleConnectEnd:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['59']++;__cov_ENHluQz_jcSDTfG819obCQ.s['194']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['195']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['196']++;var publishedSource=builder.publishedSource;__cov_ENHluQz_jcSDTfG819obCQ.s['197']++;var publishedTarget=builder.publishedTarget;__cov_ENHluQz_jcSDTfG819obCQ.s['198']++;if((__cov_ENHluQz_jcSDTfG819obCQ.b['28'][0]++,publishedSource)&&(__cov_ENHluQz_jcSDTfG819obCQ.b['28'][1]++,publishedTarget)){__cov_ENHluQz_jcSDTfG819obCQ.b['27'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['199']++;instance.fire('connectDrop',{publishedSource:publishedSource,publishedTarget:publishedTarget});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['27'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['200']++;instance.fire('connectEnd',{publishedSource:publishedSource});},_handleConnectOutTarget:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['60']++;__cov_ENHluQz_jcSDTfG819obCQ.s['201']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['202']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['203']++;var publishedSource=builder.publishedSource;__cov_ENHluQz_jcSDTfG819obCQ.s['204']++;if(publishedSource){__cov_ENHluQz_jcSDTfG819obCQ.b['29'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['205']++;instance.fire('connectOutTarget',{publishedSource:publishedSource});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['29'][1]++;}},_handleConnectOverTarget:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['61']++;__cov_ENHluQz_jcSDTfG819obCQ.s['206']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['207']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['208']++;var publishedSource=builder.publishedSource;__cov_ENHluQz_jcSDTfG819obCQ.s['209']++;if(publishedSource){__cov_ENHluQz_jcSDTfG819obCQ.b['30'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['210']++;instance.fire('connectOverTarget',{publishedSource:publishedSource});}else{__cov_ENHluQz_jcSDTfG819obCQ.b['30'][1]++;}},_onBoundaryDrag:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['62']++;__cov_ENHluQz_jcSDTfG819obCQ.s['211']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['212']++;var dd=instance.boundaryDragDelegate.dd;__cov_ENHluQz_jcSDTfG819obCQ.s['213']++;instance._handleConnectMove(dd.con._checkRegion(dd.mouseXY));},_onBoundaryDragEnd:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['63']++;__cov_ENHluQz_jcSDTfG819obCQ.s['214']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['215']++;instance._handleConnectEnd();__cov_ENHluQz_jcSDTfG819obCQ.s['216']++;event.target.get('dragNode').show();},_onBoundaryDragStart:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['64']++;__cov_ENHluQz_jcSDTfG819obCQ.s['217']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['218']++;instance._handleConnectStart(instance.boundaryDragDelegate.dd.startXY);__cov_ENHluQz_jcSDTfG819obCQ.s['219']++;event.target.get('dragNode').hide();},_onBoundaryMouseEnter:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['65']++;__cov_ENHluQz_jcSDTfG819obCQ.s['220']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['221']++;instance.fire('boundaryMouseEnter',{domEvent:event});__cov_ENHluQz_jcSDTfG819obCQ.s['222']++;instance._handleConnectOverTarget();},_onBoundaryMouseLeave:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['66']++;__cov_ENHluQz_jcSDTfG819obCQ.s['223']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['224']++;instance.fire('boundaryMouseLeave',{domEvent:event});__cov_ENHluQz_jcSDTfG819obCQ.s['225']++;instance._handleConnectOutTarget();},_onNameChange:function(event){__cov_ENHluQz_jcSDTfG819obCQ.f['67']++;__cov_ENHluQz_jcSDTfG819obCQ.s['226']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['227']++;instance.eachConnector(function(connector,index,sourceNode){__cov_ENHluQz_jcSDTfG819obCQ.f['68']++;__cov_ENHluQz_jcSDTfG819obCQ.s['228']++;var transition=connector.get('transition');__cov_ENHluQz_jcSDTfG819obCQ.s['229']++;transition[instance===sourceNode?(__cov_ENHluQz_jcSDTfG819obCQ.b['31'][0]++,'source'):(__cov_ENHluQz_jcSDTfG819obCQ.b['31'][1]++,'target')]=event.newVal;__cov_ENHluQz_jcSDTfG819obCQ.s['230']++;connector.set('transition',transition);});},_renderControls:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['69']++;__cov_ENHluQz_jcSDTfG819obCQ.s['231']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['232']++;var boundingBox=instance.get('boundingBox');__cov_ENHluQz_jcSDTfG819obCQ.s['233']++;instance.controlsNode=A.Node.create(instance.CONTROLS_TEMPLATE).appendTo(boundingBox);},_renderControlsToolbar:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['70']++;__cov_ENHluQz_jcSDTfG819obCQ.s['234']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['235']++;instance.controlsToolbar=new A.Toolbar(instance.get('controlsToolbar')).render(instance.controlsNode);__cov_ENHluQz_jcSDTfG819obCQ.s['236']++;instance._uiSetRequired(instance.get('required'));},_renderGraphic:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['71']++;__cov_ENHluQz_jcSDTfG819obCQ.s['237']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['238']++;instance.set('graphic',new A.Graphic({height:instance.get('height'),render:instance.bodyNode,width:instance.get('width')}));__cov_ENHluQz_jcSDTfG819obCQ.s['239']++;instance.renderShapeInvite();__cov_ENHluQz_jcSDTfG819obCQ.s['240']++;instance.renderShapeBoundary().addClass(CSS_DIAGRAM_NODE_SHAPE_BOUNDARY);__cov_ENHluQz_jcSDTfG819obCQ.s['241']++;instance._bindBoundaryEvents();__cov_ENHluQz_jcSDTfG819obCQ.s['242']++;instance._setupBoundaryDrag();},_renderLabel:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['72']++;__cov_ENHluQz_jcSDTfG819obCQ.s['243']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['244']++;instance.labelNode=A.Node.create(A.Lang.sub(instance.LABEL_TEMPLATE,{label:A.Escape.html(instance.get('name'))}));__cov_ENHluQz_jcSDTfG819obCQ.s['245']++;instance.get('contentBox').placeAfter(instance.labelNode);},_setTransitions:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['73']++;__cov_ENHluQz_jcSDTfG819obCQ.s['246']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['247']++;if(!isMap(val)){__cov_ENHluQz_jcSDTfG819obCQ.b['32'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['248']++;var map=new A.Map({after:{remove:A.bind(instance._afterTransitionsRemove,instance)}});__cov_ENHluQz_jcSDTfG819obCQ.s['249']++;A.Array.each(val,function(transition){__cov_ENHluQz_jcSDTfG819obCQ.f['74']++;__cov_ENHluQz_jcSDTfG819obCQ.s['250']++;var uid=A.guid();__cov_ENHluQz_jcSDTfG819obCQ.s['251']++;transition=A.Lang.isObject(transition)?(__cov_ENHluQz_jcSDTfG819obCQ.b['33'][0]++,A.mix(transition,{uid:uid})):(__cov_ENHluQz_jcSDTfG819obCQ.b['33'][1]++,{uid:uid,target:transition});__cov_ENHluQz_jcSDTfG819obCQ.s['252']++;map.put(uid,instance.prepareTransition(transition));});__cov_ENHluQz_jcSDTfG819obCQ.s['253']++;val=map;}else{__cov_ENHluQz_jcSDTfG819obCQ.b['32'][1]++;}__cov_ENHluQz_jcSDTfG819obCQ.s['254']++;return val;},_setupBoundaryDrag:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['75']++;__cov_ENHluQz_jcSDTfG819obCQ.s['255']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['256']++;var builder=instance.get('builder');__cov_ENHluQz_jcSDTfG819obCQ.s['257']++;instance.boundaryDragDelegate=new A.DD.Delegate({bubbleTargets:instance,container:instance.bodyNode,nodes:'.'+CSS_DIAGRAM_NODE_SHAPE_BOUNDARY,dragConfig:{useShim:false,plugins:[{cfg:{constrain:builder?(__cov_ENHluQz_jcSDTfG819obCQ.b['34'][0]++,builder.get('canvas')):(__cov_ENHluQz_jcSDTfG819obCQ.b['34'][1]++,null)},fn:A.Plugin.DDConstrained},{cfg:{scrollDelay:150},fn:A.Plugin.DDWinScroll},{cfg:{borderStyle:'0px',moveOnEnd:false,resizeFrame:false},fn:A.Plugin.DDProxy}]},on:{'drag:drag':A.bind(instance._onBoundaryDrag,instance),'drag:end':A.bind(instance._onBoundaryDragEnd,instance),'drag:start':A.bind(instance._onBoundaryDragStart,instance)}});__cov_ENHluQz_jcSDTfG819obCQ.s['258']++;A.Do.after(instance._bindBoundaryEvents,instance.boundaryDragDelegate.dd,'_unprep',instance);},_uiSetHighlighted:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['76']++;__cov_ENHluQz_jcSDTfG819obCQ.s['259']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['260']++;if(instance.get('rendered')){__cov_ENHluQz_jcSDTfG819obCQ.b['35'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['261']++;var stroke=val?(__cov_ENHluQz_jcSDTfG819obCQ.b['36'][0]++,instance.get('highlightBoundaryStroke')):(__cov_ENHluQz_jcSDTfG819obCQ.b['36'][1]++,instance.get('shapeBoundary'+'.'+'stroke'));__cov_ENHluQz_jcSDTfG819obCQ.s['262']++;if(stroke){__cov_ENHluQz_jcSDTfG819obCQ.b['37'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['263']++;instance.boundary.set('stroke',stroke);}else{__cov_ENHluQz_jcSDTfG819obCQ.b['37'][1]++;}}else{__cov_ENHluQz_jcSDTfG819obCQ.b['35'][1]++;}},_uiSetName:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['77']++;__cov_ENHluQz_jcSDTfG819obCQ.s['264']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['265']++;var boundingBox=instance.get('boundingBox');__cov_ENHluQz_jcSDTfG819obCQ.s['266']++;boundingBox.setAttribute('data-nodeId',A.Escape.html(A.DiagramNode.buildNodeId(val)));__cov_ENHluQz_jcSDTfG819obCQ.s['267']++;if(instance.get('rendered')){__cov_ENHluQz_jcSDTfG819obCQ.b['38'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['268']++;instance.labelNode.setContent(A.Escape.html(val));}else{__cov_ENHluQz_jcSDTfG819obCQ.b['38'][1]++;}},_uiSetRequired:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['78']++;},_uiSetSelected:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['79']++;__cov_ENHluQz_jcSDTfG819obCQ.s['269']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['270']++;instance.get('boundingBox').toggleClass(CSS_DIAGRAM_NODE_SELECTED,val);__cov_ENHluQz_jcSDTfG819obCQ.s['271']++;if((__cov_ENHluQz_jcSDTfG819obCQ.b['40'][0]++,val)&&(__cov_ENHluQz_jcSDTfG819obCQ.b['40'][1]++,!instance.controlsToolbar)){__cov_ENHluQz_jcSDTfG819obCQ.b['39'][0]++;__cov_ENHluQz_jcSDTfG819obCQ.s['272']++;instance._renderControlsToolbar();}else{__cov_ENHluQz_jcSDTfG819obCQ.b['39'][1]++;}},_uiSetXY:function(val){__cov_ENHluQz_jcSDTfG819obCQ.f['80']++;__cov_ENHluQz_jcSDTfG819obCQ.s['273']++;var instance=this;__cov_ENHluQz_jcSDTfG819obCQ.s['274']++;var containerXY=instance.getContainer().getXY();__cov_ENHluQz_jcSDTfG819obCQ.s['275']++;this._posNode.setXY([val[0]+containerXY[0],val[1]+containerXY[1]]);},_valueShapeBoundary:function(){__cov_ENHluQz_jcSDTfG819obCQ.f['81']++;__cov_ENHluQz_jcSDTfG819obCQ.s['276']++;return{height:41,type:'rect',stroke:{weight:7,color:'transparent',opacity:0},width:41};}}});__cov_ENHluQz_jcSDTfG819obCQ.s['277']++;A.DiagramNode=DiagramNode;},'3.1.0-deprecated.62',{'requires':['aui-aria','aui-diagram-node-manager-base','escape','overlay']});
