YUI.add("axis",function(t,e){var i,a,s,n,l=t.config.doc,o=t.Lang,h=o.isString,r=t.DOM;(i=function(){}).prototype={_getDefaultMargins:function(){return{top:0,left:0,right:4,bottom:0}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,s=e.display;switch(t.set("topTickOffset",0),t.set("bottomTickOffset",0),s){case"inside":t.set("rightTickOffset",i),t.set("leftTickOffset",0);break;case"outside":t.set("rightTickOffset",0),t.set("leftTickOffset",i);break;case"cross":t.set("rightTickOffset",a),t.set("leftTickOffset",a);break;default:t.set("rightTickOffset",0),t.set("leftTickOffset",0)}},drawTick:function(t,e,i){var a=this.get("styles").padding,s=i.length,n={x:a.left,y:e.y},l={x:s+a.left,y:e.y};this.drawLine(t,n,l)},getLineStart:function(){var t=this.get("styles"),e=t.padding,i=t.majorTicks,a=i.length,s=i.display,n={x:e.left,y:0};return"outside"===s?n.x+=a:"cross"===s&&(n.x+=a/2),n},getLabelPoint:function(t){return{x:t.x-this.get("leftTickOffset"),y:t.y}},updateMaxLabelSize:function(t,e){var i,a=this._labelRotationProps,s=a.rot,n=a.absRot,l=a.sinRadians,o=a.cosRadians;i=0===s?t:90===n?e:o*t+l*e,this._maxLabelSize=Math.max(this._maxLabelSize,i)},getExplicitlySized:function(t){if(this._explicitWidth){var e=this,i=e._explicitWidth,a=e._totalTitleSize,s=e.get("leftTickOffset"),n=t.label.margin.right;return e._maxLabelSize=i-(s+n+a),!0}return!1},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,n=i.right-i.left,l=t.offsetWidth,o=t.offsetHeight,h=-.5*l+.5*n,r=.5*e.get("height")-.5*o;s.labelWidth=l,s.labelHeight=o,a&&a.left&&(h+=a.left),s.x=h,s.y=r,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var s=parseFloat(i.label.offset),n=this.get("leftTickOffset"),l=this._totalTitleSize,o=e.x+l-n,h=e.y,r=this._labelRotationProps,f=r.rot,g=r.absRot,c=this._maxLabelSize,d=this._labelWidths[a],u=this._labelHeights[a];0===f?(o-=d,h-=u*s):90===f?(o-=.5*d,h=h+d/2-d*s):-90===f?(o-=.5*d,h=h-u+d/2-d*s):(o-=d+u*g/360,h-=u*s),r.labelWidth=d,r.labelHeight=u,r.x=Math.round(c+o),r.y=Math.round(h),this._rotate(t,r)},_setRotationCoords:function(t){var e,i,a=t.rot,s=t.absRot,n=t.labelWidth,l=t.labelHeight;0===a?(e=n,i=.5*l):90===a?(i=0,e=.5*n):-90===a?(e=.5*n,i=l):(e=n+l*s/360,i=.5*l),t.x-=e,t.y-=i},_getTransformOrigin:function(t){return 0===t?[0,0]:90===t?[.5,0]:-90===t?[.5,1]:[1,.5]},offsetNodeForTick:function(){},setCalculatedSize:function(){var t=this.get("graphic"),e=this.get("styles").label,i=this.get("leftTickOffset"),a=this._maxLabelSize,s=this._totalTitleSize,n=Math.round(s+i+a+e.margin.right);this._explicitWidth&&(n=this._explicitWidth),this.set("calculatedWidth",n),t.set("x",n-i)}},t.LeftAxisLayout=i,(a=function(){}).prototype={_getDefaultMargins:function(){return{top:0,left:4,right:0,bottom:0}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,s=e.display;switch(t.set("topTickOffset",0),t.set("bottomTickOffset",0),s){case"inside":t.set("leftTickOffset",i),t.set("rightTickOffset",0);break;case"outside":t.set("leftTickOffset",0),t.set("rightTickOffset",i);break;case"cross":t.set("rightTickOffset",a),t.set("leftTickOffset",a);break;default:t.set("leftTickOffset",0),t.set("rightTickOffset",0)}},drawTick:function(t,e,i){var a=this.get("styles").padding,s=i.length,n={x:a.left,y:e.y},l={x:a.left+s,y:e.y};this.drawLine(t,n,l)},getLineStart:function(){var t=this.get("styles"),e=t.padding,i=t.majorTicks,a=i.length,s=i.display,n={x:e.left,y:e.top};return"inside"===s?n.x+=a:"cross"===s&&(n.x+=a/2),n},getLabelPoint:function(t){return{x:t.x+this.get("rightTickOffset"),y:t.y}},updateMaxLabelSize:function(t,e){var i,a=this._labelRotationProps,s=a.rot,n=a.absRot,l=a.sinRadians,o=a.cosRadians;i=0===s?t:90===n?e:o*t+l*e,this._maxLabelSize=Math.max(this._maxLabelSize,i)},getExplicitlySized:function(t){if(this._explicitWidth){var e=this._explicitWidth,i=this._totalTitleSize,a=this.get("rightTickOffset"),s=t.label.margin.right;return this._maxLabelSize=e-(a+s+i),!0}return!1},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,n=t.offsetWidth,l=t.offsetHeight,o=i.right-i.left,h=this.get("width")-.5*n-.5*o,r=.5*e.get("height")-.5*l;s.labelWidth=n,s.labelHeight=l,a&&a.right&&(h-=a.left),s.x=h,s.y=r,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var s=parseFloat(i.label.offset),n=this.get("rightTickOffset"),l=i.label,o=0,h=e.x,r=e.y,f=this._labelRotationProps,g=f.rot,c=f.absRot,d=this._labelWidths[a],u=this._labelHeights[a];l.margin&&l.margin.left&&(o=l.margin.left),0===g?r-=u*s:90===g?(h-=.5*d,r=r-u+d/2-d*s):-90===g?(r=r+d/2-d*s,h-=.5*d):(r-=u*s,h+=u/2*c/90),h+=o,h+=n,f.labelWidth=d,f.labelHeight=u,f.x=Math.round(h),f.y=Math.round(r),this._rotate(t,f)},_setRotationCoords:function(t){var e=t.rot,i=t.absRot,a=0,s=0,n=t.labelWidth,l=t.labelHeight;0===e?s=.5*l:90===e?(a=.5*n,s=l):-90===e?a=.5*n:(s=.5*l,a=l/2*i/90),t.x-=a,t.y-=s},_getTransformOrigin:function(t){return 0===t?[0,0]:90===t?[.5,1]:-90===t?[.5,0]:[0,.5]},offsetNodeForTick:function(t){var e=0-this.get("leftTickOffset");t.setStyle("left",e)},setCalculatedSize:function(){var t=this,e=t.get("styles").label,i=this._totalTitleSize,a=Math.round(t.get("rightTickOffset")+t._maxLabelSize+i+e.margin.left);this._explicitWidth&&(a=this._explicitWidth),t.set("calculatedWidth",a),t.get("contentBox").setStyle("width",a)}},t.RightAxisLayout=a,(s=function(){}).prototype={_getDefaultMargins:function(){return{top:4,left:0,right:0,bottom:0}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,s=e.display;switch(t.set("leftTickOffset",0),t.set("rightTickOffset",0),s){case"inside":t.set("topTickOffset",i),t.set("bottomTickOffset",0);break;case"outside":t.set("topTickOffset",0),t.set("bottomTickOffset",i);break;case"cross":t.set("topTickOffset",a),t.set("bottomTickOffset",a);break;default:t.set("topTickOffset",0),t.set("bottomTickOffset",0)}
},getLineStart:function(){var t=this.get("styles"),e=t.padding,i=t.majorTicks,a=i.length,s=i.display,n={x:0,y:e.top};return"inside"===s?n.y+=a:"cross"===s&&(n.y+=a/2),n},drawTick:function(t,e,i){var a=this.get("styles").padding,s=i.length,n={x:e.x,y:a.top},l={x:e.x,y:s+a.top};this.drawLine(t,n,l)},getLabelPoint:function(t){return{x:t.x,y:t.y+this.get("bottomTickOffset")}},updateMaxLabelSize:function(t,e){var i,a=this._labelRotationProps,s=a.rot,n=a.absRot,l=a.sinRadians,o=a.cosRadians;i=0===s?e:90===n?t:l*t+o*e,this._maxLabelSize=Math.max(this._maxLabelSize,i)},getExplicitlySized:function(t){if(this._explicitHeight){var e=this._explicitHeight,i=this._totalTitleSize,a=this.get("bottomTickOffset"),s=t.label.margin.right;return this._maxLabelSize=e-(a+s+i),!0}return!1},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,n=i.bottom-i.top,l=t.offsetWidth,o=t.offsetHeight,h=.5*e.get("width")-.5*l,r=e.get("height")-o/2-n/2;s.labelWidth=l,s.labelHeight=o,a&&a.bottom&&(r-=a.bottom),s.x=h,s.y=r,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var s=this,n=parseFloat(i.label.offset),l=s.get("bottomTickOffset"),o=i.label,h=0,r=s._labelRotationProps,f=r.rot,g=r.absRot,c=Math.round(e.x),d=Math.round(e.y),u=s._labelWidths[a],p=s._labelHeights[a];o.margin&&o.margin.top&&(h=o.margin.top),90===f?(d-=p/2*f/90,c=c+p/2-p*n):-90===f?(d-=p/2*g/90,c=c-u+p/2-p*n):f>0?(c=c+p/2-p*n,d-=p/2*f/90):f<0?(c=c-u+p/2-p*n,d-=p/2*g/90):c-=u*n,d+=h,d+=l,r.labelWidth=u,r.labelHeight=p,r.x=c,r.y=d,s._rotate(t,r)},_setRotationCoords:function(t){var e,i,a=t.rot,s=t.absRot,n=t.labelWidth,l=t.labelHeight;a>0?(e=0,i=l/2*a/90):a<0?(e=n,i=l/2*s/90):(e=.5*n,i=0),t.x-=e,t.y-=i},_getTransformOrigin:function(t){return t>0?[0,.5]:t<0?[1,.5]:[0,0]},offsetNodeForTick:function(t){t.setStyle("top",0-this.get("topTickOffset"))},setCalculatedSize:function(){var t=this,e=t.get("styles").label,i=t._totalTitleSize,a=Math.round(t.get("bottomTickOffset")+t._maxLabelSize+e.margin.top+i);t._explicitHeight&&(a=t._explicitHeight),t.set("calculatedHeight",a)}},t.BottomAxisLayout=s,(n=function(){}).prototype={_getDefaultMargins:function(){return{top:0,left:0,right:0,bottom:4}},setTickOffsets:function(){var t=this,e=t.get("styles").majorTicks,i=e.length,a=.5*i,s=e.display;switch(t.set("leftTickOffset",0),t.set("rightTickOffset",0),s){case"inside":t.set("bottomTickOffset",i),t.set("topTickOffset",0);break;case"outside":t.set("bottomTickOffset",0),t.set("topTickOffset",i);break;case"cross":t.set("topTickOffset",a),t.set("bottomTickOffset",a);break;default:t.set("topTickOffset",0),t.set("bottomTickOffset",0)}},getLineStart:function(){var t=this.get("styles"),e=t.padding,i=t.majorTicks,a=i.length,s=i.display,n={x:0,y:e.top};return"outside"===s?n.y+=a:"cross"===s&&(n.y+=a/2),n},drawTick:function(t,e,i){var a=this.get("styles").padding,s=i.length,n={x:e.x,y:a.top},l={x:e.x,y:s+a.top};this.drawLine(t,n,l)},getLabelPoint:function(t){return{x:t.x,y:t.y-this.get("topTickOffset")}},updateMaxLabelSize:function(t,e){var i,a=this._labelRotationProps,s=a.rot,n=a.absRot,l=a.sinRadians,o=a.cosRadians;i=0===s?e:90===n?t:l*t+o*e,this._maxLabelSize=Math.max(this._maxLabelSize,i)},getExplicitlySized:function(t){if(this._explicitHeight){var e=this._explicitHeight,i=this._totalTitleSize,a=this.get("topTickOffset"),s=t.label.margin.right;return this._maxLabelSize=e-(a+s+i),!0}return!1},positionTitle:function(t){var e=this,i=e._titleBounds,a=e.get("styles").title.margin,s=e._titleRotationProps,n=t.offsetWidth,l=t.offsetHeight,o=i.bottom-i.top,h=.5*e.get("width")-.5*n,r=o/2-l/2;s.labelWidth=n,s.labelHeight=l,a&&a.top&&(r+=a.top),s.x=h,s.y=r,s.transformOrigin=[.5,.5],e._rotate(t,s)},positionLabel:function(t,e,i,a){var s=parseFloat(i.label.offset),n=this._totalTitleSize,l=this._maxLabelSize,o=e.x,h=e.y+n+l,r=this._labelRotationProps,f=r.rot,g=r.absRot,c=this._labelWidths[a],d=this._labelHeights[a];0===f?(o-=c*s,h-=d):90===f?(o=o-c+d/2-d*s,h-=.5*d):-90===f?(o=o+d/2-d*s,h-=.5*d):f>0?(o=o-c+d/2-d*s,h-=d-d*f/180):(o=o+d/2-d*s,h-=d-d*g/180),r.x=Math.round(o),r.y=Math.round(h),r.labelWidth=c,r.labelHeight=d,this._rotate(t,r)},_setRotationCoords:function(t){var e,i,a=t.rot,s=t.absRot,n=t.labelWidth,l=t.labelHeight;0===a?(e=.5*n,i=l):90===a?(e=n,i=.5*l):-90===a?i=.5*l:a>0?(e=n,i=l-l*a/180):i=l-l*s/180,t.x-=e,t.y-=i},_getTransformOrigin:function(t){return 0===t?[0,0]:90===t?[1,.5]:-90===t?[0,.5]:t>0?[1,.5]:[0,.5]},offsetNodeForTick:function(){},setCalculatedSize:function(){var t=this,e=t.get("graphic"),i=t.get("styles").label.margin.bottom+t._maxLabelSize,a=t._totalTitleSize,s=this.get("topTickOffset"),n=Math.round(s+i+a);this._explicitHeight&&(n=this._explicitHeight),t.set("calculatedHeight",n),e.set("y",n-s)}},t.TopAxisLayout=n,t.Axis=t.Base.create("axis",t.Widget,[t.AxisBase],{getLabelByIndex:function(t,e){var i=this.get("position"),a="left"===i||"right"===i?"vertical":"horizontal";return this._getLabelByIndex(t,e,a)},bindUI:function(){this.after("dataReady",t.bind(this._dataChangeHandler,this)),this.after("dataUpdate",t.bind(this._dataChangeHandler,this)),this.after("stylesChange",this._updateHandler),this.after("overlapGraphChange",this._updateHandler),this.after("positionChange",this._positionChangeHandler),this.after("widthChange",this._handleSizeChange),this.after("heightChange",this._handleSizeChange),this.after("calculatedWidthChange",this._handleSizeChange),this.after("calculatedHeightChange",this._handleSizeChange)},_calculatedWidth:0,_calculatedHeight:0,_dataChangeHandler:function(){this.get("rendered")&&this._drawAxis()},_positionChangeHandler:function(t){this._updateGraphic(t.newVal),this._updateHandler()},_updateGraphic:function(t){var e=this.get("graphic");"none"===t?e&&e.destroy():e||this._setCanvas()},_updateHandler:function(){this.get("rendered")&&this._drawAxis()},renderUI:function(){this._updateGraphic(this.get("position"))},syncUI:function(){var t,e,i,a,s,n=this._layout
;if(n)for(s in t=n._getDefaultMargins(),i=(e=this.get("styles")).label.margin,a=e.title.margin,t)t.hasOwnProperty(s)&&(i[s]=i[s]===undefined?t[s]:i[s],a[s]=a[s]===undefined?t[s]:a[s]);this._drawAxis()},_setCanvas:function(){var e=this.get("contentBox"),i=this.get("boundingBox"),a=this.get("position"),s=this._parentNode,n=this.get("width"),l=this.get("height");i.setStyle("position","absolute"),i.setStyle("zIndex",2),n=n?n+"px":s.getStyle("width"),l=l?l+"px":s.getStyle("height"),"top"===a||"bottom"===a?e.setStyle("width",n):e.setStyle("height",l),e.setStyle("position","relative"),e.setStyle("left","0px"),e.setStyle("top","0px"),this.set("graphic",new t.Graphic),this.get("graphic").render(e)},_getDefaultStyles:function(){var e={majorTicks:{display:"inside",length:4,color:"#dad8c9",weight:1,alpha:1},minorTicks:{display:"none",length:2,color:"#dad8c9",weight:1},line:{weight:1,color:"#dad8c9",alpha:1},majorUnit:{determinant:"count",count:11,distance:75},top:"0px",left:"0px",width:"100px",height:"100px",label:{color:"#808080",alpha:1,fontSize:"85%",rotation:0,offset:.5,margin:{top:undefined,right:undefined,bottom:undefined,left:undefined}},title:{color:"#808080",alpha:1,fontSize:"85%",rotation:undefined,margin:{top:undefined,right:undefined,bottom:undefined,left:undefined}},hideOverlappingLabelTicks:!1};return t.merge(t.Renderer.prototype._getDefaultStyles(),e)},_handleSizeChange:function(t){var e=t.attrName,i=this.get("position"),a="left"===i||"right"===i,s=this.get("contentBox"),n="bottom"===i||"top"===i;s.setStyle("width",this.get("width")),s.setStyle("height",this.get("height")),(n&&"width"===e||a&&"height"===e)&&this._drawAxis()},_layoutClasses:{top:n,bottom:s,left:i,right:a},drawLine:function(t,e,i){t.moveTo(e.x,e.y),t.lineTo(i.x,i.y)},_getTextRotationProps:function(t){if(t.rotation===undefined)switch(this.get("position")){case"left":t.rotation=-90;break;case"right":t.rotation=90;break;default:t.rotation=0}var e=Math.min(90,Math.max(-90,t.rotation)),i=Math.abs(e),a=Math.PI/180;return{rot:e,absRot:i,radCon:a,sinRadians:parseFloat(parseFloat(Math.sin(i*a)).toFixed(8)),cosRadians:parseFloat(parseFloat(Math.cos(i*a)).toFixed(8)),textAlpha:t.alpha}},_drawAxis:function(){if(this._drawing)this._callLater=!0;else{if(this._drawing=!0,this._callLater=!1,this._layout){var t,e,i,a,s,n,l,o,h,r,f,g,c,d,u,p,b,_,y=this.get("styles"),x=y.line,m=y.label,T=y.majorTicks,k="none"!==T.display,O=0,v=this._layout,S=this.get("labelFunction"),L=this.get("labelFunctionScope"),w=this.get("labelFormat"),z=this.get("graphic"),C=this.get("path"),R=this.get("position"),H=this._labelValuesExplicitlySet?this.get("labelValues"):null,M="left"===R||"right"===R?"vertical":"horizontal";if(this._labelWidths=[],this._labelHeights=[],z.set("autoDraw",!1),C.clear(),C.set("stroke",{weight:x.weight,color:x.color,opacity:x.alpha}),this._labelRotationProps=this._getTextRotationProps(m),this._labelRotationProps.transformOrigin=v._getTransformOrigin(this._labelRotationProps.rot),v.setTickOffsets.apply(this),e=this.getLength(),t=this.getTotalMajorUnits(),_=this.getEdgeOffset(t,e),this.set("edgeOffset",_),i=v.getLineStart.apply(this),"vertical"===M?(p="x",b="y"):(p="y",b="x"),f=(h=this._getLabelData(i[p],p,b,this.get("minimum"),this.get("maximum"),_,e-_-_,t,H)).points,r=h.values,t=f.length,this._labelValuesExplicitlySet||this.set("labelValues",r,{src:"internal"}),this.get("hideFirstMajorUnit")&&(g=f.shift(),d=r.shift(),t-=1),this.get("hideLastMajorUnit")&&(c=f.pop(),u=r.pop(),t-=1),t<1)this._clearLabelCache();else{if(this.drawLine(C,i,this.getLineEnd(i)),k)for((l=this.get("tickPath")).clear(),l.set("stroke",{weight:T.weight,color:T.color,opacity:T.alpha}),O=0;O<t;O+=1)f[O]&&v.drawTick.apply(this,[l,f[O],T]);for(this._createLabelCache(),this._maxLabelSize=0,this._totalTitleSize=0,this._titleSize=0,this._setTitle(),o=v.getExplicitlySized.apply(this,[y]),O=0;O<t;O+=1)f[O]&&(a=this.getLabel(m),this._labels.push(a),this.get("appendLabelFunction")(a,S.apply(L,[r[O],w])),s=Math.round(a.offsetWidth),n=Math.round(a.offsetHeight),o||this._layout.updateMaxLabelSize.apply(this,[s,n]),this._labelWidths.push(s),this._labelHeights.push(n));for(this._clearLabelCache(),this.get("overlapGraph")&&v.offsetNodeForTick.apply(this,[this.get("contentBox")]),v.setCalculatedSize.apply(this),this._titleTextField&&this._layout.positionTitle.apply(this,[this._titleTextField]),t=this._labels.length,O=0;O<t;++O)v.positionLabel.apply(this,[this.get("labels")[O],f[O],y,O]);g&&f.unshift(g),c&&f.push(c),d&&r.unshift(d),u&&r.push(u),this._tickPoints=f}}this._drawing=!1,this._callLater?this._drawAxis():(this._updatePathElement(),this.fire("axisRendered"))}},_setTotalTitleSize:function(e){var i,a,s=this._titleTextField,n=s.offsetWidth,l=s.offsetHeight,o=this._titleRotationProps.rot,h=e.margin,r=this.get("position"),f=new t.Matrix;f.rotate(o),i=f.getContentRect(n,l),"left"===r||"right"===r?(a=i.right-i.left,h&&(a+=h.left+h.right)):(a=i.bottom-i.top,h&&(a+=h.top+h.bottom)),this._titleBounds=i,this._totalTitleSize=a},_updatePathElement:function(){var t=this._path,e=this._tickPath,i=!1,a=this.get("graphic");t&&(i=!0,t.end()),e&&(i=!0,e.end()),i&&a._redraw()},_setTitle:function(){var t,e,i,a,s=this.get("title"),n=this._titleTextField;if(null!==s&&s!==undefined){for(t in i={rotation:"rotation",margin:"margin",alpha:"alpha"},e=this.get("styles").title,n?l.createElementNS||n.style.filter&&(n.style.filter=null):((n=l.createElement("span")).style.display="block",n.style.whiteSpace="nowrap",n.setAttribute("class","axisTitle"),this.get("contentBox").append(n)),n.style.position="absolute",e)e.hasOwnProperty(t)&&!i.hasOwnProperty(t)&&(n.style[t]=e[t]);this.get("appendTitleFunction")(n,s),this._titleTextField=n,this._titleRotationProps=this._getTextRotationProps(e),this._setTotalTitleSize(e)}else n&&((a=n.parentNode)&&a.removeChild(n),this._titleTextField=null,this._totalTitleSize=0)},getLabel:function(e){var i,a,s=this._labelCache,n={rotation:"rotation",margin:"margin",alpha:"alpha"}
;for(i in s&&s.length>0?a=s.shift():((a=l.createElement("span")).className=t.Lang.trim([a.className,"axisLabel"].join(" ")),this.get("contentBox").append(a)),l.createElementNS||a.style.filter&&(a.style.filter=null),a.style.display="block",a.style.whiteSpace="nowrap",a.style.position="absolute",e)e.hasOwnProperty(i)&&!n.hasOwnProperty(i)&&(a.style[i]=e[i]);return a},_createLabelCache:function(){if(this._labels)for(;this._labels.length>0;)this._labelCache.push(this._labels.shift());else this._clearLabelCache();this._labels=[]},_clearLabelCache:function(){if(this._labelCache)for(var e,i=this._labelCache.length,a=0;a<i;++a)e=this._labelCache[a],this._removeChildren(e),t.Event.purgeElement(e,!0),e.parentNode.removeChild(e);this._labelCache=[]},getLineEnd:function(t){var e=this.get("width"),i=this.get("height"),a=this.get("position");return"top"===a||"bottom"===a?{x:e,y:t.y}:{x:t.x,y:i}},getLength:function(){var t=this.get("styles").padding,e=this.get("width"),i=this.get("height"),a=this.get("position");return"top"===a||"bottom"===a?e-(t.left+t.right):i-(t.top+t.bottom)},getFirstPoint:function(t){var e=this.get("styles"),i=this.get("position"),a=e.padding,s={x:t.x,y:t.y};return"top"===i||"bottom"===i?s.x+=a.left+this.get("edgeOffset"):s.y+=this.get("height")-(a.top+this.get("edgeOffset")),s},_rotate:function(e,i){var a,s,n,h=i.rot,f=i.x,g=i.y,c=new t.Matrix,d=i.transformOrigin||[0,0];l.createElementNS?(c.translate(f,g),c.rotate(h),r.setStyle(e,"transformOrigin",100*d[0]+"% "+100*d[1]+"%"),r.setStyle(e,"transform",c.toCSSText())):(s=i.textAlpha,o.isNumber(s)&&s<1&&s>-1&&!isNaN(s)&&(a="progid:DXImageTransform.Microsoft.Alpha(Opacity="+Math.round(100*s)+")"),0!==h?(c.rotate(h),n=c.getContentRect(i.labelWidth,i.labelHeight),c.init(),c.translate(n.left,n.top),c.translate(f,g),this._simulateRotateWithTransformOrigin(c,h,d,i.labelWidth,i.labelHeight),a?a+=" ":a="",a+=c.toFilterText(),e.style.left=c.dx+"px",e.style.top=c.dy+"px"):(e.style.left=f+"px",e.style.top=g+"px"),a&&(e.style.filter=a))},_simulateRotateWithTransformOrigin:function(t,e,i,a,s){var n=i[0]*a,l=i[1]*s;n=isNaN(n)?0:n,l=isNaN(l)?0:l,t.translate(n,l),t.rotate(e),t.translate(-n,-l)},getMaxLabelBounds:function(){return this._getLabelBounds(this.getMaximumValue())},getMinLabelBounds:function(){return this._getLabelBounds(this.getMinimumValue())},_getLabelBounds:function(e){var i,a=this._layout,s=this.get("styles").label,n=new t.Matrix,l=this._getTextRotationProps(s);return l.transformOrigin=a._getTransformOrigin(l.rot),i=this.getLabel(s),this.get("appendLabelFunction")(i,this.get("labelFunction").apply(this,[e,this.get("labelFormat")])),l.labelWidth=i.offsetWidth,l.labelHeight=i.offsetHeight,this._removeChildren(i),t.Event.purgeElement(i,!0),i.parentNode.removeChild(i),l.x=0,l.y=0,a._setRotationCoords(l),n.translate(l.x,l.y),this._simulateRotateWithTransformOrigin(n,l.rot,l.transformOrigin,l.labelWidth,l.labelHeight),n.getContentRect(l.labelWidth,l.labelHeight)},_removeChildren:function(t){if(t.hasChildNodes())for(var e;t.firstChild;)e=t.firstChild,this._removeChildren(e),t.removeChild(e)},destructor:function(){var t,e=this.get("contentBox").getDOMNode(),i=this.get("labels"),a=this.get("graphic");if((i?i.length:0)>0)for(;i.length>0;)t=i.shift(),this._removeChildren(t),e.removeChild(t),t=null;a&&a.destroy()},_maxLabelSize:0,_setText:function(t,e){t.innerHTML="",o.isNumber(e)?e+="":e||(e=""),h(e)&&(e=l.createTextNode(e)),t.appendChild(e)},getTotalMajorUnits:function(){var t,e=this.get("styles").majorUnit;return"count"===e.determinant?t=e.count:"distance"===e.determinant&&(t=this.getLength()/e.distance+1),t},getMajorUnitDistance:function(t,e,i){var a;return"count"===i.determinant?(this.get("calculateEdgeOffset")||(t-=1),a=e/t):"distance"===i.determinant&&(a=i.distance),a},_hasDataOverflow:function(){return!(!this.get("setMin")&&!this.get("setMax"))},getMinimumValue:function(){return this.get("minimum")},getMaximumValue:function(){return this.get("maximum")}},{ATTRS:{width:{lazyAdd:!1,getter:function(){return this._explicitWidth?this._explicitWidth:this._calculatedWidth},setter:function(t){return this._explicitWidth=t,t}},height:{lazyAdd:!1,getter:function(){return this._explicitHeight?this._explicitHeight:this._calculatedHeight},setter:function(t){return this._explicitHeight=t,t}},calculatedWidth:{getter:function(){return this._calculatedWidth},setter:function(t){return this._calculatedWidth=t,t}},calculatedHeight:{getter:function(){return this._calculatedHeight},setter:function(t){return this._calculatedHeight=t,t}},edgeOffset:{value:0},graphic:{},path:{readOnly:!0,getter:function(){if(!this._path){var t=this.get("graphic");t&&(this._path=t.addShape({type:"path"}))}return this._path}},tickPath:{readOnly:!0,getter:function(){if(!this._tickPath){var t=this.get("graphic");t&&(this._tickPath=t.addShape({type:"path"}))}return this._tickPath}},node:{},position:{lazyAdd:!1,setter:function(t){var e=this._layoutClasses[t];return t&&"none"!==t&&(this._layout=new e),t}},topTickOffset:{value:0},bottomTickOffset:{value:0},leftTickOffset:{value:0},rightTickOffset:{value:0},labels:{readOnly:!0,getter:function(){return this._labels}},tickPoints:{readOnly:!0,getter:function(){return"none"===this.get("position")?this.get("styles").majorUnit.count:this._tickPoints}},overlapGraph:{value:!0,validator:function(t){return o.isBoolean(t)}},maxLabelSize:{getter:function(){return this._maxLabelSize},setter:function(t){return this._maxLabelSize=t,t}},title:{value:null},appendLabelFunction:{valueFn:function(){return this._setText}},appendTitleFunction:{valueFn:function(){return this._setText}},labelValues:{lazyAdd:!1,setter:function(t){var e=arguments[2];return!t||e&&e.src&&"internal"===e.src?this._labelValuesExplicitlySet=!1:this._labelValuesExplicitlySet=!0,t}},hideFirstMajorUnit:{value:!1},hideLastMajorUnit:{value:!1}}}),t.AxisType=t.Base.create("baseAxis",t.Axis,[],{})},"patched-v3.18.1",{requires:["dom","widget","widget-position","widget-stack","graphics","axis-base"]});