YUI.add("dd-drop",function(t,e){var i="node",r=t.DD.DDM,s="offsetHeight",a="offsetWidth",h="drop:over",o="drop:enter",d="drop:exit",n=function(){this._lazyAddAttrs=!1,n.superclass.constructor.apply(this,arguments),t.on("domready",t.bind(function(){t.later(100,this,this._createShim)},this)),r._regTarget(this)};n.NAME="drop",n.ATTRS={node:{setter:function(e){var i=t.one(e);return i||t.error("DD.Drop: Invalid Node Given: "+e),i}},groups:{value:["default"],getter:function(){return this._groups?t.Object.keys(this._groups):(this._groups={},[])},setter:function(e){return this._groups=t.Array.hash(e),e}},padding:{value:"0",setter:function(t){return r.cssSizestoObject(t)}},lock:{value:!1,setter:function(t){return t?this.get(i).addClass(r.CSS_PREFIX+"-drop-locked"):this.get(i).removeClass(r.CSS_PREFIX+"-drop-locked"),t}},bubbles:{setter:function(t){return this.addTarget(t),t}},useShim:{value:!0,setter:function(e){return t.DD.DDM._noShim=!e,e}}},t.extend(n,t.Base,{_bubbleTargets:t.DD.DDM,addToGroup:function(t){return this._groups[t]=!0,this},removeFromGroup:function(t){return delete this._groups[t],this},_createEvents:function(){var e=[h,o,d,"drop:hit"];t.Array.each(e,function(t){this.publish(t,{type:t,emitFacade:!0,preventable:!1,bubbles:!0,queuable:!1,prefix:"drop"})},this)},_valid:null,_groups:null,shim:null,region:null,overTarget:null,inGroup:function(e){this._valid=!1;var i=!1;return t.Array.each(e,function(t){this._groups[t]&&(i=!0,this._valid=!0)},this),i},initializer:function(){t.later(100,this,this._createEvents);var e,s=this.get(i);s.get("id")||(e=t.stamp(s),s.set("id",e)),s.addClass(r.CSS_PREFIX+"-drop"),this.set("groups",this.get("groups"))},destructor:function(){r._unregTarget(this),this.shim&&this.shim!==this.get(i)&&(this.shim.detachAll(),this.shim.remove(),this.shim=null),this.get(i).removeClass(r.CSS_PREFIX+"-drop"),this.detachAll()},_deactivateShim:function(){if(!this.shim)return!1;this.get(i).removeClass(r.CSS_PREFIX+"-drop-active-valid"),this.get(i).removeClass(r.CSS_PREFIX+"-drop-active-invalid"),this.get(i).removeClass(r.CSS_PREFIX+"-drop-over"),this.get("useShim")&&this.shim.setStyles({top:"-999px",left:"-999px",zIndex:"1"}),this.overTarget=!1},_activateShim:function(){if(!r.activeDrag)return!1;if(this.get(i)===r.activeDrag.get(i))return!1;if(this.get("lock"))return!1;var t=this.get(i);this.inGroup(r.activeDrag.get("groups"))?(t.removeClass(r.CSS_PREFIX+"-drop-active-invalid"),t.addClass(r.CSS_PREFIX+"-drop-active-valid"),r._addValid(this),this.overTarget=!1,this.get("useShim")||(this.shim=this.get(i)),this.sizeShim()):(r._removeValid(this),t.removeClass(r.CSS_PREFIX+"-drop-active-valid"),t.addClass(r.CSS_PREFIX+"-drop-active-invalid"))},sizeShim:function(){if(!r.activeDrag)return!1;if(this.get(i)===r.activeDrag.get(i))return!1;if(this.get("lock"))return!1;if(!this.shim)return t.later(100,this,this.sizeShim),!1;var e,h,o,d=this.get(i),n=d.get(s),g=d.get(a),v=d.getXY(),l=this.get("padding");g=g+l.left+l.right,n=n+l.top+l.bottom,v[0]=v[0]-l.left,v[1]=v[1]-l.top,r.activeDrag.get("dragMode")===r.INTERSECT&&(n+=h=(e=r.activeDrag).get(i).get(s),g+=o=e.get(i).get(a),v[0]=v[0]-(o-e.deltaXY[0]),v[1]=v[1]-(h-e.deltaXY[1])),this.get("useShim")&&this.shim.setStyles({height:n+"px",width:g+"px",top:v[1]+"px",left:v[0]+"px"}),this.region={0:v[0],1:v[1],area:0,top:v[1],right:v[0]+g,bottom:v[1]+n,left:v[0]}},_createShim:function(){if(r._pg){if(!this.shim){var e=this.get("node");this.get("useShim")&&((e=t.Node.create('<div id="'+this.get(i).get("id")+'_shim"></div>')).setStyles({height:this.get(i).get(s)+"px",width:this.get(i).get(a)+"px",backgroundColor:"yellow",opacity:".5",zIndex:"1",overflow:"hidden",top:"-900px",left:"-900px",position:"absolute"}),r._pg.appendChild(e),e.on("mouseover",t.bind(this._handleOverEvent,this)),e.on("mouseout",t.bind(this._handleOutEvent,this))),this.shim=e}}else t.later(10,this,this._createShim)},_handleTargetOver:function(){r.isOverTarget(this)?(this.get(i).addClass(r.CSS_PREFIX+"-drop-over"),r.activeDrop=this,r.otherDrops[this]=this,this.overTarget?(r.activeDrag.fire("drag:over",{drop:this,drag:r.activeDrag}),this.fire(h,{drop:this,drag:r.activeDrag})):r.activeDrag.get("dragging")&&(this.overTarget=!0,this.fire(o,{drop:this,drag:r.activeDrag}),r.activeDrag.fire("drag:enter",{drop:this,drag:r.activeDrag}),r.activeDrag.get(i).addClass(r.CSS_PREFIX+"-drag-over"))):this._handleOut()},_handleOverEvent:function(){this.shim.setStyle("zIndex","999"),r._addActiveShim(this)},_handleOutEvent:function(){this.shim.setStyle("zIndex","1"),r._removeActiveShim(this)},_handleOut:function(t){r.isOverTarget(this)&&!t||this.overTarget&&(this.overTarget=!1,t||r._removeActiveShim(this),r.activeDrag&&(this.get(i).removeClass(r.CSS_PREFIX+"-drop-over"),r.activeDrag.get(i).removeClass(r.CSS_PREFIX+"-drag-over"),this.fire(d,{drop:this,drag:r.activeDrag}),r.activeDrag.fire("drag:exit",{drop:this,drag:r.activeDrag}),delete r.otherDrops[this]))}}),t.DD.Drop=n},"patched-v3.18.1",{requires:["dd-drag","dd-ddm-drop"]});