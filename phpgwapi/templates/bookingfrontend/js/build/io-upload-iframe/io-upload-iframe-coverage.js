if (typeof __coverage__ === 'undefined') { __coverage__ = {}; }
if (!__coverage__['build/io-upload-iframe/io-upload-iframe.js']) {
   __coverage__['build/io-upload-iframe/io-upload-iframe.js'] = {"path":"build/io-upload-iframe/io-upload-iframe.js","s":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":0,"39":0,"40":0,"41":0,"42":0,"43":0,"44":0,"45":0,"46":0,"47":0,"48":0,"49":0,"50":0,"51":0,"52":0,"53":0,"54":0,"55":0,"56":0,"57":0,"58":0,"59":0,"60":0,"61":0,"62":0,"63":0,"64":0,"65":0,"66":0,"67":0,"68":0,"69":0,"70":0,"71":0,"72":0,"73":0,"74":0,"75":0,"76":0,"77":0,"78":0,"79":0,"80":0,"81":0,"82":0,"83":0,"84":0,"85":0,"86":0,"87":0,"88":0,"89":0,"90":0,"91":0,"92":0,"93":0},"b":{"1":[0,0],"2":[0,0],"3":[0,0],"4":[0,0],"5":[0,0],"6":[0,0],"7":[0,0],"8":[0,0],"9":[0,0],"10":[0,0],"11":[0,0],"12":[0,0],"13":[0,0],"14":[0,0],"15":[0,0],"16":[0,0],"17":[0,0],"18":[0,0],"19":[0,0],"20":[0,0],"21":[0,0]},"f":{"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},"fnMap":{"1":{"name":"(anonymous_1)","line":1,"loc":{"start":{"line":1,"column":28},"end":{"line":1,"column":47}}},"2":{"name":"_cFrame","line":27,"loc":{"start":{"line":27,"column":0},"end":{"line":27,"column":27}}},"3":{"name":"(anonymous_3)","line":34,"loc":{"start":{"line":34,"column":17},"end":{"line":34,"column":28}}},"4":{"name":"_dFrame","line":45,"loc":{"start":{"line":45,"column":0},"end":{"line":45,"column":21}}},"5":{"name":"(anonymous_5)","line":61,"loc":{"start":{"line":61,"column":14},"end":{"line":61,"column":29}}},"6":{"name":"(anonymous_6)","line":97,"loc":{"start":{"line":97,"column":17},"end":{"line":97,"column":32}}},"7":{"name":"(anonymous_7)","line":115,"loc":{"start":{"line":115,"column":15},"end":{"line":115,"column":36}}},"8":{"name":"(anonymous_8)","line":136,"loc":{"start":{"line":136,"column":17},"end":{"line":136,"column":32}}},"9":{"name":"(anonymous_9)","line":137,"loc":{"start":{"line":137,"column":25},"end":{"line":137,"column":40}}},"10":{"name":"(anonymous_10)","line":157,"loc":{"start":{"line":157,"column":25},"end":{"line":157,"column":40}}},"11":{"name":"(anonymous_11)","line":161,"loc":{"start":{"line":161,"column":12},"end":{"line":161,"column":23}}},"12":{"name":"(anonymous_12)","line":176,"loc":{"start":{"line":176,"column":25},"end":{"line":176,"column":38}}},"13":{"name":"(anonymous_13)","line":192,"loc":{"start":{"line":192,"column":21},"end":{"line":192,"column":36}}},"14":{"name":"(anonymous_14)","line":222,"loc":{"start":{"line":222,"column":22},"end":{"line":222,"column":33}}},"15":{"name":"(anonymous_15)","line":235,"loc":{"start":{"line":235,"column":13},"end":{"line":235,"column":33}}},"16":{"name":"(anonymous_16)","line":257,"loc":{"start":{"line":257,"column":50},"end":{"line":257,"column":67}}},"17":{"name":"(anonymous_17)","line":265,"loc":{"start":{"line":265,"column":19},"end":{"line":265,"column":30}}},"18":{"name":"(anonymous_18)","line":277,"loc":{"start":{"line":277,"column":26},"end":{"line":277,"column":37}}},"19":{"name":"(anonymous_19)","line":284,"loc":{"start":{"line":284,"column":12},"end":{"line":284,"column":32}}},"20":{"name":"(anonymous_20)","line":289,"loc":{"start":{"line":289,"column":9},"end":{"line":289,"column":39}}}},"statementMap":{"1":{"start":{"line":1,"column":0},"end":{"line":313,"column":56}},"2":{"start":{"line":11,"column":0},"end":{"line":15,"column":30}},"3":{"start":{"line":27,"column":0},"end":{"line":35,"column":1}},"4":{"start":{"line":28,"column":4},"end":{"line":28,"column":96}},"5":{"start":{"line":29,"column":8},"end":{"line":29,"column":44}},"6":{"start":{"line":30,"column":8},"end":{"line":30,"column":38}},"7":{"start":{"line":31,"column":8},"end":{"line":31,"column":39}},"8":{"start":{"line":32,"column":8},"end":{"line":32,"column":37}},"9":{"start":{"line":34,"column":4},"end":{"line":34,"column":80}},"10":{"start":{"line":34,"column":30},"end":{"line":34,"column":55}},"11":{"start":{"line":45,"column":0},"end":{"line":48,"column":1}},"12":{"start":{"line":46,"column":1},"end":{"line":46,"column":48}},"13":{"start":{"line":47,"column":1},"end":{"line":47,"column":53}},"14":{"start":{"line":50,"column":0},"end":{"line":310,"column":9}},"15":{"start":{"line":64,"column":8},"end":{"line":66,"column":9}},"16":{"start":{"line":65,"column":12},"end":{"line":65,"column":43}},"17":{"start":{"line":68,"column":8},"end":{"line":70,"column":17}},"18":{"start":{"line":72,"column":8},"end":{"line":83,"column":9}},"19":{"start":{"line":73,"column":12},"end":{"line":73,"column":69}},"20":{"start":{"line":74,"column":12},"end":{"line":74,"column":41}},"21":{"start":{"line":76,"column":12},"end":{"line":82,"column":13}},"22":{"start":{"line":77,"column":16},"end":{"line":77,"column":48}},"23":{"start":{"line":78,"column":16},"end":{"line":78,"column":37}},"24":{"start":{"line":79,"column":16},"end":{"line":79,"column":33}},"25":{"start":{"line":80,"column":16},"end":{"line":80,"column":115}},"26":{"start":{"line":81,"column":16},"end":{"line":81,"column":36}},"27":{"start":{"line":85,"column":8},"end":{"line":85,"column":17}},"28":{"start":{"line":98,"column":8},"end":{"line":98,"column":17}},"29":{"start":{"line":100,"column":8},"end":{"line":102,"column":9}},"30":{"start":{"line":101,"column":12},"end":{"line":101,"column":32}},"31":{"start":{"line":117,"column":8},"end":{"line":120,"column":10}},"32":{"start":{"line":122,"column":8},"end":{"line":122,"column":38}},"33":{"start":{"line":123,"column":8},"end":{"line":123,"column":41}},"34":{"start":{"line":124,"column":8},"end":{"line":124,"column":52}},"35":{"start":{"line":125,"column":8},"end":{"line":125,"column":89}},"36":{"start":{"line":137,"column":8},"end":{"line":144,"column":11}},"37":{"start":{"line":138,"column":12},"end":{"line":143,"column":13}},"38":{"start":{"line":139,"column":16},"end":{"line":139,"column":37}},"39":{"start":{"line":142,"column":16},"end":{"line":142,"column":37}},"40":{"start":{"line":158,"column":8},"end":{"line":158,"column":22}},"41":{"start":{"line":160,"column":8},"end":{"line":166,"column":26}},"42":{"start":{"line":162,"column":16},"end":{"line":162,"column":29}},"43":{"start":{"line":163,"column":16},"end":{"line":163,"column":41}},"44":{"start":{"line":164,"column":16},"end":{"line":164,"column":34}},"45":{"start":{"line":165,"column":16},"end":{"line":165,"column":29}},"46":{"start":{"line":177,"column":8},"end":{"line":177,"column":22}},"47":{"start":{"line":179,"column":8},"end":{"line":179,"column":40}},"48":{"start":{"line":180,"column":8},"end":{"line":180,"column":31}},"49":{"start":{"line":193,"column":8},"end":{"line":196,"column":14}},"50":{"start":{"line":198,"column":8},"end":{"line":200,"column":9}},"51":{"start":{"line":199,"column":12},"end":{"line":199,"column":41}},"52":{"start":{"line":202,"column":2},"end":{"line":215,"column":3}},"53":{"start":{"line":203,"column":3},"end":{"line":211,"column":4}},"54":{"start":{"line":206,"column":4},"end":{"line":206,"column":33}},"55":{"start":{"line":207,"column":4},"end":{"line":207,"column":57}},"56":{"start":{"line":210,"column":4},"end":{"line":210,"column":30}},"57":{"start":{"line":214,"column":3},"end":{"line":214,"column":26}},"58":{"start":{"line":217,"column":8},"end":{"line":217,"column":26}},"59":{"start":{"line":218,"column":8},"end":{"line":218,"column":21}},"60":{"start":{"line":222,"column":8},"end":{"line":222,"column":56}},"61":{"start":{"line":222,"column":35},"end":{"line":222,"column":49}},"62":{"start":{"line":236,"column":8},"end":{"line":238,"column":19}},"63":{"start":{"line":242,"column":8},"end":{"line":242,"column":35}},"64":{"start":{"line":243,"column":8},"end":{"line":245,"column":9}},"65":{"start":{"line":244,"column":12},"end":{"line":244,"column":44}},"66":{"start":{"line":249,"column":8},"end":{"line":251,"column":9}},"67":{"start":{"line":250,"column":12},"end":{"line":250,"column":41}},"68":{"start":{"line":254,"column":8},"end":{"line":254,"column":19}},"69":{"start":{"line":255,"column":8},"end":{"line":255,"column":23}},"70":{"start":{"line":256,"column":8},"end":{"line":261,"column":9}},"71":{"start":{"line":257,"column":12},"end":{"line":260,"column":15}},"72":{"start":{"line":258,"column":16},"end":{"line":258,"column":41}},"73":{"start":{"line":259,"column":16},"end":{"line":259,"column":42}},"74":{"start":{"line":263,"column":8},"end":{"line":281,"column":10}},"75":{"start":{"line":266,"column":16},"end":{"line":266,"column":29}},"76":{"start":{"line":267,"column":16},"end":{"line":267,"column":39}},"77":{"start":{"line":268,"column":16},"end":{"line":275,"column":17}},"78":{"start":{"line":269,"column":20},"end":{"line":269,"column":34}},"79":{"start":{"line":270,"column":20},"end":{"line":270,"column":38}},"80":{"start":{"line":271,"column":20},"end":{"line":271,"column":33}},"81":{"start":{"line":274,"column":20},"end":{"line":274,"column":33}},"82":{"start":{"line":278,"column":16},"end":{"line":278,"column":65}},"83":{"start":{"line":285,"column":8},"end":{"line":285,"column":28}},"84":{"start":{"line":286,"column":8},"end":{"line":286,"column":39}},"85":{"start":{"line":290,"column":8},"end":{"line":290,"column":21}},"86":{"start":{"line":292,"column":8},"end":{"line":306,"column":9}},"87":{"start":{"line":293,"column":12},"end":{"line":293,"column":31}},"88":{"start":{"line":295,"column":12},"end":{"line":305,"column":13}},"89":{"start":{"line":296,"column":16},"end":{"line":296,"column":26}},"90":{"start":{"line":299,"column":16},"end":{"line":299,"column":91}},"91":{"start":{"line":302,"column":16},"end":{"line":304,"column":17}},"92":{"start":{"line":303,"column":20},"end":{"line":303,"column":66}},"93":{"start":{"line":308,"column":8},"end":{"line":308,"column":52}}},"branchMap":{"1":{"line":13,"type":"binary-expr","locations":[{"start":{"line":13,"column":12},"end":{"line":13,"column":26}},{"start":{"line":13,"column":30},"end":{"line":13,"column":49}}]},"2":{"line":64,"type":"if","locations":[{"start":{"line":64,"column":8},"end":{"line":64,"column":8}},{"start":{"line":64,"column":8},"end":{"line":64,"column":8}}]},"3":{"line":76,"type":"if","locations":[{"start":{"line":76,"column":12},"end":{"line":76,"column":12}},{"start":{"line":76,"column":12},"end":{"line":76,"column":12}}]},"4":{"line":80,"type":"cond-expr","locations":[{"start":{"line":80,"column":45},"end":{"line":80,"column":57}},{"start":{"line":80,"column":60},"end":{"line":80,"column":114}}]},"5":{"line":125,"type":"cond-expr","locations":[{"start":{"line":125,"column":42},"end":{"line":125,"column":52}},{"start":{"line":125,"column":55},"end":{"line":125,"column":64}}]},"6":{"line":125,"type":"binary-expr","locations":[{"start":{"line":125,"column":23},"end":{"line":125,"column":30}},{"start":{"line":125,"column":34},"end":{"line":125,"column":39}}]},"7":{"line":138,"type":"if","locations":[{"start":{"line":138,"column":12},"end":{"line":138,"column":12}},{"start":{"line":138,"column":12},"end":{"line":138,"column":12}}]},"8":{"line":198,"type":"if","locations":[{"start":{"line":198,"column":8},"end":{"line":198,"column":8}},{"start":{"line":198,"column":8},"end":{"line":198,"column":8}}]},"9":{"line":203,"type":"if","locations":[{"start":{"line":203,"column":3},"end":{"line":203,"column":3}},{"start":{"line":203,"column":3},"end":{"line":203,"column":3}}]},"10":{"line":207,"type":"cond-expr","locations":[{"start":{"line":207,"column":27},"end":{"line":207,"column":40}},{"start":{"line":207,"column":43},"end":{"line":207,"column":56}}]},"11":{"line":237,"type":"cond-expr","locations":[{"start":{"line":237,"column":50},"end":{"line":237,"column":77}},{"start":{"line":237,"column":80},"end":{"line":237,"column":108}}]},"12":{"line":243,"type":"if","locations":[{"start":{"line":243,"column":8},"end":{"line":243,"column":8}},{"start":{"line":243,"column":8},"end":{"line":243,"column":8}}]},"13":{"line":249,"type":"if","locations":[{"start":{"line":249,"column":8},"end":{"line":249,"column":8}},{"start":{"line":249,"column":8},"end":{"line":249,"column":8}}]},"14":{"line":256,"type":"if","locations":[{"start":{"line":256,"column":8},"end":{"line":256,"column":8}},{"start":{"line":256,"column":8},"end":{"line":256,"column":8}}]},"15":{"line":268,"type":"if","locations":[{"start":{"line":268,"column":16},"end":{"line":268,"column":16}},{"start":{"line":268,"column":16},"end":{"line":268,"column":16}}]},"16":{"line":278,"type":"cond-expr","locations":[{"start":{"line":278,"column":52},"end":{"line":278,"column":56}},{"start":{"line":278,"column":59},"end":{"line":278,"column":64}}]},"17":{"line":292,"type":"if","locations":[{"start":{"line":292,"column":8},"end":{"line":292,"column":8}},{"start":{"line":292,"column":8},"end":{"line":292,"column":8}}]},"18":{"line":295,"type":"if","locations":[{"start":{"line":295,"column":12},"end":{"line":295,"column":12}},{"start":{"line":295,"column":12},"end":{"line":295,"column":12}}]},"19":{"line":295,"type":"binary-expr","locations":[{"start":{"line":295,"column":16},"end":{"line":295,"column":20}},{"start":{"line":295,"column":24},"end":{"line":295,"column":35}}]},"20":{"line":299,"type":"cond-expr","locations":[{"start":{"line":299,"column":55},"end":{"line":299,"column":80}},{"start":{"line":299,"column":83},"end":{"line":299,"column":90}}]},"21":{"line":302,"type":"if","locations":[{"start":{"line":302,"column":16},"end":{"line":302,"column":16}},{"start":{"line":302,"column":16},"end":{"line":302,"column":16}}]}},"code":["(function () { YUI.add('io-upload-iframe', function (Y, NAME) {","","/**","Extends the IO  to enable file uploads, with HTML forms","using an iframe as the transport medium.","@module io","@submodule io-upload-iframe","@for IO","**/","","var w = Y.config.win,","    d = Y.config.doc,","    _std = (d.documentMode && d.documentMode >= 8),","    _d = decodeURIComponent,","    _end = Y.IO.prototype.end;","","/**"," * Creates the iframe transported used in file upload"," * transactions, and binds the response event handler."," *"," * @method _cFrame"," * @private"," * @param {Object} o Transaction object generated by _create()."," * @param {Object} c Configuration object passed to YUI.io()."," * @param {Object} io"," */","function _cFrame(o, c, io) {","    var i = Y.Node.create('<iframe id=\"io_iframe' + o.id + '\" name=\"io_iframe' + o.id + '\" />');","        i._node.style.position = 'absolute';","        i._node.style.top = '-1000px';","        i._node.style.left = '-1000px';","        Y.one('body').appendChild(i);","    // Bind the onload handler to the iframe to detect the file upload response.","    Y.on(\"load\", function() { io._uploadComplete(o, c); }, '#io_iframe' + o.id);","}","","/**"," * Removes the iframe transport used in the file upload"," * transaction."," *"," * @method _dFrame"," * @private"," * @param {Number} id The transaction ID used in the iframe's creation."," */","function _dFrame(id) {","\tY.Event.purgeElement('#io_iframe' + id, false);","\tY.one('body').removeChild(Y.one('#io_iframe' + id));","}","","Y.mix(Y.IO.prototype, {","   /**","    * Parses the POST data object and creates hidden form elements","    * for each key-value, and appends them to the HTML form object.","    * @method _addData","    * @private","    * @static","    * @param {Object} f HTML form object.","    * @param {String} s The key-value POST data.","    * @return {Array} o Array of created fields.","    */","    _addData: function(f, s) {","        // Serialize an object into a key-value string using","        // querystring-stringify-simple.","        if (Y.Lang.isObject(s)) {","            s = Y.QueryString.stringify(s);","        }","","        var o = [],","            m = s.split('='),","            i, l;","","        for (i = 0, l = m.length - 1; i < l; i++) {","            var name = _d(m[i].substring(m[i].lastIndexOf('&') + 1));","            var input = f.elements[name];","","            if (!input) {","                o[i] = d.createElement('input');","                o[i].type = 'hidden';","                o[i].name = name;","                o[i].value = (i + 1 === l) ? _d(m[i + 1]) : _d(m[i + 1].substring(0, (m[i + 1].lastIndexOf('&'))));","                f.appendChild(o[i]);","            }","        }","","        return o;","    },","","   /**","    * Removes the custom fields created to pass additional POST","    * data, along with the HTML form fields.","    * @method _removeData","    * @private","    * @static","    * @param {Object} f HTML form object.","    * @param {Object} o HTML form fields created from configuration.data.","    */","    _removeData: function(f, o) {","        var i, l;","","        for (i = 0, l = o.length; i < l; i++) {","            f.removeChild(o[i]);","        }","    },","","   /**","    * Sets the appropriate attributes and values to the HTML","    * form, in preparation of a file upload transaction.","    * @method _setAttrs","    * @private","    * @static","    * @param {Object} f HTML form object.","    * @param {Object} id The Transaction ID.","    * @param {Object} uri Qualified path to transaction resource.","    */","    _setAttrs: function(f, id, uri) {","        // Track original HTML form attribute values.","        this._originalFormAttrs = {","            action: f.getAttribute('action'),","            target: f.getAttribute('target')","        };","","        f.setAttribute('action', uri);","        f.setAttribute('method', 'POST');","        f.setAttribute('target', 'io_iframe' + id );","        f.setAttribute(Y.UA.ie && !_std ? 'encoding' : 'enctype', 'multipart/form-data');","    },","","   /**","    * Reset the HTML form attributes to their original values.","    * @method _resetAttrs","    * @private","    * @static","    * @param {Object} f HTML form object.","    * @param {Object} a Object of original attributes.","    */","    _resetAttrs: function(f, a) {","        Y.Object.each(a, function(v, p) {","            if (v) {","                f.setAttribute(p, v);","            }","            else {","                f.removeAttribute(p);","            }","        });","    },","","   /**","    * Starts timeout count if the configuration object","    * has a defined timeout property.","    *","    * @method _startUploadTimeout","    * @private","    * @static","    * @param {Object} o Transaction object generated by _create().","    * @param {Object} c Configuration object passed to YUI.io().","    */","    _startUploadTimeout: function(o, c) {","        var io = this;","","        io._timeout[o.id] = w.setTimeout(","            function() {","                o.status = 0;","                o.statusText = 'timeout';","                io.complete(o, c);","                io.end(o, c);","            }, c.timeout);","    },","","   /**","    * Clears the timeout interval started by _startUploadTimeout().","    * @method _clearUploadTimeout","    * @private","    * @static","    * @param {Number} id - Transaction ID.","    */","    _clearUploadTimeout: function(id) {","        var io = this;","","        w.clearTimeout(io._timeout[id]);","        delete io._timeout[id];","    },","","   /**","    * Bound to the iframe's Load event and processes","    * the response data.","    * @method _uploadComplete","    * @private","    * @static","    * @param {Object} o The transaction object","    * @param {Object} c Configuration object for the transaction.","    */","    _uploadComplete: function(o, c) {","        var io = this,","            d = Y.one('#io_iframe' + o.id).get('contentWindow.document'),","            b = d.one('body'),","            p;","","        if (c.timeout) {","            io._clearUploadTimeout(o.id);","        }","","\t\ttry {","\t\t\tif (b) {","\t\t\t\t// When a response Content-Type of \"text/plain\" is used, Firefox and Safari","\t\t\t\t// will wrap the response string with <pre></pre>.","\t\t\t\tp = b.one('pre:first-child');","\t\t\t\to.c.responseText = p ? p.get('text') : b.get('text');","\t\t\t}","\t\t\telse {","\t\t\t\to.c.responseXML = d._node;","\t\t\t}","\t\t}","\t\tcatch (e) {","\t\t\to.e = \"upload failure\";","\t\t}","","        io.complete(o, c);","        io.end(o, c);","        // The transaction is complete, so call _dFrame to remove","        // the event listener bound to the iframe transport, and then","        // destroy the iframe.","        w.setTimeout( function() { _dFrame(o.id); }, 0);","    },","","   /**","    * Uploads HTML form data, inclusive of files/attachments,","    * using the iframe created in _create to facilitate the transaction.","    * @method _upload","    * @private","    * @static","    * @param {Object} o The transaction object","    * @param {Object} uri Qualified path to transaction resource.","    * @param {Object} c Configuration object for the transaction.","    */","    _upload: function(o, uri, c) {","        var io = this,","            f = (typeof c.form.id === 'string') ? d.getElementById(c.form.id) : Y.Node.getDOMNode(c.form.id),","            fields;","","        // Initialize the HTML form properties in case they are","        // not defined in the HTML form.","        io._setAttrs(f, o.id, uri);","        if (c.data) {","            fields = io._addData(f, c.data);","        }","","        // Start polling if a callback is present and the timeout","        // property has been defined.","        if (c.timeout) {","            io._startUploadTimeout(o, c);","        }","","        // Start file upload.","        f.submit();","        io.start(o, c);","        if (c.data) {","            var _onIoEndHandler = io.on('io:end', function (event) {","                _onIoEndHandler.detach();","                io._removeData(f, fields);","            });","        }","","        return {","            id: o.id,","            abort: function() {","                o.status = 0;","                o.statusText = 'abort';","                if (Y.one('#io_iframe' + o.id)) {","                    _dFrame(o.id);","                    io.complete(o, c);","                    io.end(o, c);","                }","                else {","                    return false;","                }","            },","            isInProgress: function() {","                return Y.one('#io_iframe' + o.id) ? true : false;","            },","            io: io","        };","    },","","    upload: function(o, uri, c) {","        _cFrame(o, c, this);","        return this._upload(o, uri, c);","    },","","    end: function(transaction, config) {","        var form, io;","","        if (config) {","            form = config.form;","","            if (form && form.upload) {","                io = this;","","                // Restore HTML form attributes to their original values.","                form = (typeof form.id === 'string') ? d.getElementById(form.id) : form.id;","","                // Check whether the form still exists before resetting it.","                if (form) {","                    io._resetAttrs(form, this._originalFormAttrs);","                }","            }","        }","","        return _end.call(this, transaction, config);","    }","}, true);","","","}, 'patched-v3.18.1', {\"requires\": [\"io-base\", \"node-base\"]});","","}());"]};
}
var __cov_qyKMyH$gi2n6_r8dBYGRlg = __coverage__['build/io-upload-iframe/io-upload-iframe.js'];
__cov_qyKMyH$gi2n6_r8dBYGRlg.s['1']++;YUI.add('io-upload-iframe',function(Y,NAME){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['1']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['2']++;var w=Y.config.win,d=Y.config.doc,_std=(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['1'][0]++,d.documentMode)&&(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['1'][1]++,d.documentMode>=8),_d=decodeURIComponent,_end=Y.IO.prototype.end;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['3']++;function _cFrame(o,c,io){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['2']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['4']++;var i=Y.Node.create('<iframe id="io_iframe'+o.id+'" name="io_iframe'+o.id+'" />');__cov_qyKMyH$gi2n6_r8dBYGRlg.s['5']++;i._node.style.position='absolute';__cov_qyKMyH$gi2n6_r8dBYGRlg.s['6']++;i._node.style.top='-1000px';__cov_qyKMyH$gi2n6_r8dBYGRlg.s['7']++;i._node.style.left='-1000px';__cov_qyKMyH$gi2n6_r8dBYGRlg.s['8']++;Y.one('body').appendChild(i);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['9']++;Y.on('load',function(){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['3']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['10']++;io._uploadComplete(o,c);},'#io_iframe'+o.id);}__cov_qyKMyH$gi2n6_r8dBYGRlg.s['11']++;function _dFrame(id){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['4']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['12']++;Y.Event.purgeElement('#io_iframe'+id,false);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['13']++;Y.one('body').removeChild(Y.one('#io_iframe'+id));}__cov_qyKMyH$gi2n6_r8dBYGRlg.s['14']++;Y.mix(Y.IO.prototype,{_addData:function(f,s){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['5']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['15']++;if(Y.Lang.isObject(s)){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['2'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['16']++;s=Y.QueryString.stringify(s);}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['2'][1]++;}__cov_qyKMyH$gi2n6_r8dBYGRlg.s['17']++;var o=[],m=s.split('='),i,l;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['18']++;for(i=0,l=m.length-1;i<l;i++){__cov_qyKMyH$gi2n6_r8dBYGRlg.s['19']++;var name=_d(m[i].substring(m[i].lastIndexOf('&')+1));__cov_qyKMyH$gi2n6_r8dBYGRlg.s['20']++;var input=f.elements[name];__cov_qyKMyH$gi2n6_r8dBYGRlg.s['21']++;if(!input){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['3'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['22']++;o[i]=d.createElement('input');__cov_qyKMyH$gi2n6_r8dBYGRlg.s['23']++;o[i].type='hidden';__cov_qyKMyH$gi2n6_r8dBYGRlg.s['24']++;o[i].name=name;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['25']++;o[i].value=i+1===l?(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['4'][0]++,_d(m[i+1])):(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['4'][1]++,_d(m[i+1].substring(0,m[i+1].lastIndexOf('&'))));__cov_qyKMyH$gi2n6_r8dBYGRlg.s['26']++;f.appendChild(o[i]);}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['3'][1]++;}}__cov_qyKMyH$gi2n6_r8dBYGRlg.s['27']++;return o;},_removeData:function(f,o){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['6']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['28']++;var i,l;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['29']++;for(i=0,l=o.length;i<l;i++){__cov_qyKMyH$gi2n6_r8dBYGRlg.s['30']++;f.removeChild(o[i]);}},_setAttrs:function(f,id,uri){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['7']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['31']++;this._originalFormAttrs={action:f.getAttribute('action'),target:f.getAttribute('target')};__cov_qyKMyH$gi2n6_r8dBYGRlg.s['32']++;f.setAttribute('action',uri);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['33']++;f.setAttribute('method','POST');__cov_qyKMyH$gi2n6_r8dBYGRlg.s['34']++;f.setAttribute('target','io_iframe'+id);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['35']++;f.setAttribute((__cov_qyKMyH$gi2n6_r8dBYGRlg.b['6'][0]++,Y.UA.ie)&&(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['6'][1]++,!_std)?(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['5'][0]++,'encoding'):(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['5'][1]++,'enctype'),'multipart/form-data');},_resetAttrs:function(f,a){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['8']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['36']++;Y.Object.each(a,function(v,p){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['9']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['37']++;if(v){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['7'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['38']++;f.setAttribute(p,v);}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['7'][1]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['39']++;f.removeAttribute(p);}});},_startUploadTimeout:function(o,c){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['10']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['40']++;var io=this;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['41']++;io._timeout[o.id]=w.setTimeout(function(){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['11']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['42']++;o.status=0;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['43']++;o.statusText='timeout';__cov_qyKMyH$gi2n6_r8dBYGRlg.s['44']++;io.complete(o,c);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['45']++;io.end(o,c);},c.timeout);},_clearUploadTimeout:function(id){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['12']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['46']++;var io=this;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['47']++;w.clearTimeout(io._timeout[id]);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['48']++;delete io._timeout[id];},_uploadComplete:function(o,c){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['13']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['49']++;var io=this,d=Y.one('#io_iframe'+o.id).get('contentWindow.document'),b=d.one('body'),p;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['50']++;if(c.timeout){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['8'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['51']++;io._clearUploadTimeout(o.id);}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['8'][1]++;}__cov_qyKMyH$gi2n6_r8dBYGRlg.s['52']++;try{__cov_qyKMyH$gi2n6_r8dBYGRlg.s['53']++;if(b){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['9'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['54']++;p=b.one('pre:first-child');__cov_qyKMyH$gi2n6_r8dBYGRlg.s['55']++;o.c.responseText=p?(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['10'][0]++,p.get('text')):(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['10'][1]++,b.get('text'));}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['9'][1]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['56']++;o.c.responseXML=d._node;}}catch(e){__cov_qyKMyH$gi2n6_r8dBYGRlg.s['57']++;o.e='upload failure';}__cov_qyKMyH$gi2n6_r8dBYGRlg.s['58']++;io.complete(o,c);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['59']++;io.end(o,c);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['60']++;w.setTimeout(function(){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['14']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['61']++;_dFrame(o.id);},0);},_upload:function(o,uri,c){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['15']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['62']++;var io=this,f=typeof c.form.id==='string'?(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['11'][0]++,d.getElementById(c.form.id)):(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['11'][1]++,Y.Node.getDOMNode(c.form.id)),fields;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['63']++;io._setAttrs(f,o.id,uri);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['64']++;if(c.data){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['12'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['65']++;fields=io._addData(f,c.data);}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['12'][1]++;}__cov_qyKMyH$gi2n6_r8dBYGRlg.s['66']++;if(c.timeout){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['13'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['67']++;io._startUploadTimeout(o,c);}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['13'][1]++;}__cov_qyKMyH$gi2n6_r8dBYGRlg.s['68']++;f.submit();__cov_qyKMyH$gi2n6_r8dBYGRlg.s['69']++;io.start(o,c);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['70']++;if(c.data){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['14'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['71']++;var _onIoEndHandler=io.on('io:end',function(event){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['16']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['72']++;_onIoEndHandler.detach();__cov_qyKMyH$gi2n6_r8dBYGRlg.s['73']++;io._removeData(f,fields);});}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['14'][1]++;}__cov_qyKMyH$gi2n6_r8dBYGRlg.s['74']++;return{id:o.id,abort:function(){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['17']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['75']++;o.status=0;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['76']++;o.statusText='abort';__cov_qyKMyH$gi2n6_r8dBYGRlg.s['77']++;if(Y.one('#io_iframe'+o.id)){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['15'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['78']++;_dFrame(o.id);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['79']++;io.complete(o,c);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['80']++;io.end(o,c);}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['15'][1]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['81']++;return false;}},isInProgress:function(){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['18']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['82']++;return Y.one('#io_iframe'+o.id)?(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['16'][0]++,true):(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['16'][1]++,false);},io:io};},upload:function(o,uri,c){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['19']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['83']++;_cFrame(o,c,this);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['84']++;return this._upload(o,uri,c);},end:function(transaction,config){__cov_qyKMyH$gi2n6_r8dBYGRlg.f['20']++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['85']++;var form,io;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['86']++;if(config){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['17'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['87']++;form=config.form;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['88']++;if((__cov_qyKMyH$gi2n6_r8dBYGRlg.b['19'][0]++,form)&&(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['19'][1]++,form.upload)){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['18'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['89']++;io=this;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['90']++;form=typeof form.id==='string'?(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['20'][0]++,d.getElementById(form.id)):(__cov_qyKMyH$gi2n6_r8dBYGRlg.b['20'][1]++,form.id);__cov_qyKMyH$gi2n6_r8dBYGRlg.s['91']++;if(form){__cov_qyKMyH$gi2n6_r8dBYGRlg.b['21'][0]++;__cov_qyKMyH$gi2n6_r8dBYGRlg.s['92']++;io._resetAttrs(form,this._originalFormAttrs);}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['21'][1]++;}}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['18'][1]++;}}else{__cov_qyKMyH$gi2n6_r8dBYGRlg.b['17'][1]++;}__cov_qyKMyH$gi2n6_r8dBYGRlg.s['93']++;return _end.call(this,transaction,config);}},true);},'patched-v3.18.1',{'requires':['io-base','node-base']});
