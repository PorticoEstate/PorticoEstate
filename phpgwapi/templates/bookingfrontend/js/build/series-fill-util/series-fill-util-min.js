YUI.add("series-fill-util",function(t,e){var i=t.Lang;function s(){}s.ATTRS={area:{getter:function(){return this._defaults||this._getAreaDefaults()},setter:function(e){var i=this._defaults||this._getAreaDefaults();this._defaults=t.merge(i,e)}}},s.prototype={_getPath:function(){var t=this._path;return t||(t=this.get("graphic").addShape({type:"path"}),this._path=t),t},_toggleVisible:function(t){this._path&&this._path.set("visible",t)},drawFill:function(t,e){if(!(t.length<1)){var s,r,o=i.isNumber,n=t.length,h=t[0],l=e[0],a=!0,d=0,g=this.get("styles").area,c=this._getPath(),u=g.color||this._getDefaultColor(this.get("graphOrder"),"slice");for(c.clear(),c.set("fill",{color:u,opacity:g.alpha}),c.set("stroke",{weight:0});d<n;d=++d)s=t[d],r=e[d],o(s)&&o(r)&&(a?(this._firstValidX=s,this._firstValidY=r,a=!1,c.moveTo(s,r)):c.lineTo(s,r),h=s,l=r);this._lastValidX=h,this._lastValidY=l,c.end()}},drawAreaSpline:function(){if(!(this.get("xcoords").length<1)){var t,e,i,s,r,o,n=this.get("xcoords"),h=this.get("ycoords"),l=this.getCurveControlPoints(n,h),a=l.length,d=0,g=n[0],c=h[0],u=this.get("styles").area,_=this._getPath(),f=u.color||this._getDefaultColor(this.get("graphOrder"),"slice");for(_.set("fill",{color:f,opacity:u.alpha}),_.set("stroke",{weight:0}),_.moveTo(g,c);d<a;d=++d)r=l[d].endx,o=l[d].endy,t=l[d].ctrlx1,e=l[d].ctrlx2,i=l[d].ctrly1,s=l[d].ctrly2,_.curveTo(t,i,e,s,r,o);"vertical"===this.get("direction")?(_.lineTo(this._leftOrigin,o),_.lineTo(this._leftOrigin,c)):(_.lineTo(r,this._bottomOrigin),_.lineTo(g,this._bottomOrigin)),_.lineTo(g,c),_.end()}},drawStackedAreaSpline:function(){if(!(this.get("xcoords").length<1)){var t,e,i,s,r,o,n,h,l,a,d,g,c=this.get("xcoords"),u=this.get("ycoords"),_=this.get("order"),f=this.get("seriesTypeCollection"),p=0,x=this.get("styles").area,v=this._getPath(),C=x.color||this._getDefaultColor(this.get("graphOrder"),"slice");for(d=c[0],g=u[0],s=(t=this.getCurveControlPoints(c,u)).length,v.set("fill",{color:C,opacity:x.alpha}),v.set("stroke",{weight:0}),v.moveTo(d,g);p<s;p=++p)l=t[p].endx,a=t[p].endy,r=t[p].ctrlx1,o=t[p].ctrlx2,n=t[p].ctrly1,h=t[p].ctrly2,v.curveTo(r,n,o,h,l,a);if(_>0)for(e=f[_-1].get("xcoords").concat().reverse(),i=f[_-1].get("ycoords").concat().reverse(),p=0,s=(t=this.getCurveControlPoints(e,i)).length,v.lineTo(e[0],i[0]);p<s;p=++p)l=t[p].endx,a=t[p].endy,r=t[p].ctrlx1,o=t[p].ctrlx2,n=t[p].ctrly1,h=t[p].ctrly2,v.curveTo(r,n,o,h,l,a);else"vertical"===this.get("direction")?(v.lineTo(this._leftOrigin,u[u.length-1]),v.lineTo(this._leftOrigin,g)):(v.lineTo(c[c.length-1],this._bottomOrigin),v.lineTo(d,this._bottomOrigin));v.lineTo(d,g),v.end()}},_defaults:null,_getClosingPoints:function(){var t,e,i=this.get("xcoords").concat(),s=this.get("ycoords").concat();return"vertical"===this.get("direction")?(e=this._getLastValidIndex(i),t=this._getFirstValidIndex(i),s.push(s[e]),s.push(s[t]),i.push(this._leftOrigin),i.push(this._leftOrigin)):(e=this._getLastValidIndex(s),t=this._getFirstValidIndex(s),i.push(i[e]),i.push(i[t]),s.push(this._bottomOrigin),s.push(this._bottomOrigin)),i.push(i[0]),s.push(s[0]),[i,s]},_getHighestValidOrder:function(t,e,i,s){for(var r,o="vertical"===s?"stackedXCoords":"stackedYCoords";isNaN(r)&&i>-1;)(i-=1)>-1&&(r=t[i].get(o)[e]);return i},_getCoordsByOrderAndIndex:function(t,e,i,s){var r,o;return"vertical"===s?(r=i<0?this._leftOrigin:t[i].get("stackedXCoords")[e],o=this.get("stackedYCoords")[e]):(r=this.get("stackedXCoords")[e],o=i<0?this._bottomOrigin:t[i].get("stackedYCoords")[e]),[r,o]},_getStackedClosingPoints:function(){var t,e,i,s,r,o,n,h,l,a,d,g,c,u,_=this.get("order"),f=this.get("direction"),p=this.get("seriesTypeCollection"),x=this.get("stackedXCoords"),v=this.get("stackedYCoords");if(_<1)return this._getClosingPoints();for(n=(s=p[_-1]).get("stackedXCoords").concat(),h=s.get("stackedYCoords").concat(),"vertical"===f?(t=this._getFirstValidIndex(x),e=this._getLastValidIndex(x),r=s._getFirstValidIndex(n),o=s._getLastValidIndex(n)):(t=this._getFirstValidIndex(v),e=this._getLastValidIndex(v),r=s._getFirstValidIndex(h),o=s._getLastValidIndex(h)),o>=t&&r<=e?(r=Math.max(t,r),o=Math.min(e,o),n=n.slice(r,o+1),h=h.slice(r,o+1),i=r):i=e,a=[x[t]],d=[v[t]],g=t;(isNaN(c)||c<_-1)&&g<=i;)u=c,c=this._getHighestValidOrder(p,g,_,f),!isNaN(u)&&c>u&&(l=this._getCoordsByOrderAndIndex(p,g,u,f),a.push(l[0]),d.push(l[1])),l=this._getCoordsByOrderAndIndex(p,g,c,f),a.push(l[0]),d.push(l[1]),g+=1;for(n&&n.length>0&&o>t&&r<e&&(a=a.concat(n),d=d.concat(h),c=_-1),g=Math.max(t,o),_-=1,c=NaN;g<=e;)u=c,c=this._getHighestValidOrder(p,g,_,f),isNaN(u)||(c>u?(l=this._getCoordsByOrderAndIndex(p,g,u,f),a.push(l[0]),d.push(l[1])):c<u&&(l=this._getCoordsByOrderAndIndex(p,g-1,c,f),a.push(l[0]),d.push(l[1]))),l=this._getCoordsByOrderAndIndex(p,g,c,f),a.push(l[0]),d.push(l[1]),g+=1;return a.reverse(),d.reverse(),[x.concat(a),v.concat(d)]},_getAreaDefaults:function(){return{}}},t.augment(s,t.Attribute),t.Fills=s},"patched-v3.18.1");