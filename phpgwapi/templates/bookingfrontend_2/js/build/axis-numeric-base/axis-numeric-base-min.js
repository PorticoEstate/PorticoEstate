YUI.add("axis-numeric-base",function(t,e){var i=t.Lang;function a(){}a.NAME="numericImpl",a.ATTRS={alwaysShowZero:{value:!0},labelFormat:{value:{prefix:"",thousandsSeparator:"",decimalSeparator:"",decimalPlaces:"0",suffix:""}},roundingMethod:{value:"niceNumber"},scaleType:{value:"linear"}},a.prototype={initializer:function(){this.after("alwaysShowZeroChange",this._keyChangeHandler),this.after("roundingMethodChange",this._keyChangeHandler),this.after("scaleTypeChange",this._keyChangeHandler)},formatLabel:function(e,i){return i?t.DataType.Number.format(e,i):e},getTotalByKey:function(t){for(var e,i=0,a=this.getDataByKey(t),n=0,r=a?a.length:0;n<r;++n)e=parseFloat(a[n]),isNaN(e)||(i+=e);return i},getOrigin:function(){var t=0,e=this.get("minimum"),i=this.get("maximum");return t=Math.max(t,e),t=Math.min(t,i)},_type:"numeric",_getMinimumUnit:function(t,e,i){return this._getNiceNumber(Math.ceil((t-e)/i))},_getNiceNumber:function(t){var e=t,i=Math.ceil(.4342944819032518*Math.log(e)),a=Math.pow(10,i);return e=a/2>=e?a/2-Math.floor((a/2-e)/(Math.pow(10,i-1)/2))*Math.pow(10,i-1)/2:a,isNaN(e)?t:e},_updateMinAndMax:function(){var t,e,i,a,n=this.get("data"),r=0,o=this.get("setMax"),h=this.get("setMin");if(!o||!h){if(n&&n.length&&n.length>0)for(i=n.length;r<i;r++)a=n[r],isNaN(a)?(t=o?this._setMaximum:t,e=h?this._setMinimum:e):(e=h?this._setMinimum:e===undefined?a:Math.min(a,e),t=o?this._setMaximum:t===undefined?a:Math.max(a,t),this._actualMaximum=t,this._actualMinimum=e);"logarithmic"!==this.get("scaleType")?this._roundMinAndMax(e,t,h,o):(this._dataMaximum=t,this._dataMinimum=e)}},_roundMinAndMax:function(t,e,i,a){var n,r,o,h,s,u,M,m,l=t>=0,c=e>0,d=this.getTotalMajorUnits()-1,_=this.get("alwaysShowZero"),f=this.get("roundingMethod"),g=(e-t)/d>=1;if(f)if("niceNumber"===f)if(n=this._getMinimumUnit(e,t,d),l&&c)(_||t<n)&&!i?(t=0,n=this._getMinimumUnit(e,t,d)):t=this._roundDownToNearest(t,n),a?_||(t=e-n*d):e=i?t+n*d:this._roundUpToNearest(e,n);else if(c&&!l)if(_)if(s=Math.round(d/(-1*t/e+1)),u=d-(s=Math.max(Math.min(s,d-1),1)),M=Math.ceil(e/s),m=-1*Math.floor(t/u),i){for(;m<M&&u>=0;)u--,s++,M=Math.ceil(e/s),m=-1*Math.floor(t/u);e=u>0?m*s:t+n*d}else if(a){for(;M<m&&s>=0;)u++,s--,m=-1*Math.floor(t/u),M=Math.ceil(e/s);t=s>0?M*u*-1:e-n*d}else n=Math.max(M,m),e=(n=this._getNiceNumber(n))*s,t=n*u*-1;else a?t=e-n*d:i?e=t+n*d:(t=this._roundDownToNearest(t,n),e=this._roundUpToNearest(e,n));else i?e=_?0:t+n*d:a?t=e-n*d:_||0===e||e+n>0?t=(e=0)-(n=this._getMinimumUnit(e,t,d))*d:(t=this._roundDownToNearest(t,n),e=this._roundUpToNearest(e,n));else"auto"===f?l&&c?((_||t<(e-t)/d)&&!i&&(t=0),n=(e-t)/d,e=g?t+(n=Math.ceil(n))*d:t+Math.ceil(n*d*1e5)/1e5):c&&!l?_?(s=Math.round(d/(-1*t/e+1)),u=d-(s=Math.max(Math.min(s,d-1),1)),g?(M=Math.ceil(e/s),m=-1*Math.floor(t/u),e=(n=Math.max(M,m))*s,t=n*u*-1):(M=e/s,m=t/u*-1,n=Math.max(M,m),e=Math.ceil(n*s*1e5)/1e5,t=Math.ceil(n*u*1e5)/1e5*-1)):(n=(e-t)/d,g&&(n=Math.ceil(n)),t=Math.round(1e5*this._roundDownToNearest(t,n))/1e5,e=Math.round(1e5*this._roundUpToNearest(e,n))/1e5):(n=(e-t)/d,g&&(n=Math.ceil(n)),_||0===e||e+n>0?(n=((e=0)-t)/d,g?(Math.ceil(n),t=e-n*d):t=e-Math.ceil(n*d*1e5)/1e5):(t=this._roundDownToNearest(t,n),e=this._roundUpToNearest(e,n))):!isNaN(f)&&isFinite(f)&&(e-t>(r=(n=f)*d),h=this._roundDownToNearest(t,n),o=this._roundUpToNearest(e,n),a?t=e-r:i?e=t+r:l&&c?e=(t=_||h<=0?0:h)+r:c&&!l?(t=h,e=o):t=(e=_||o>=0?0:o)-r);this._dataMaximum=e,this._dataMinimum=t},_roundToNearest:function(t,e){e=e||1;var i=Math.round(this._roundToPrecision(t/e,10))*e;return this._roundToPrecision(i,10)},_roundUpToNearest:function(t,e){return e=e||1,Math.ceil(this._roundToPrecision(t/e,10))*e},_roundDownToNearest:function(t,e){return e=e||1,Math.floor(this._roundToPrecision(t/e,10))*e},_getCoordFromValue:function(t,e,a,n,r,o){var h;return(0,i.isNumber)(n=parseFloat(n))?("logarithmic"===this.get("scaleType")&&t>0&&(t=Math.log(t),e=Math.log(e),n=Math.log(n)),h=(n-t)*(a/(e-t)),h=o?r-h:r+h):h=NaN,h},_roundToPrecision:function(t,e){e=e||0;var i=Math.pow(10,e);return Math.round(i*t)/i}},t.NumericImpl=a,t.NumericAxisBase=t.Base.create("numericAxisBase",t.AxisBase,[t.NumericImpl])},"patched-v3.18.1",{requires:["axis-base"]});