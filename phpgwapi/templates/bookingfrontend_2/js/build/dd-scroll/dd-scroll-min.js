YUI.add("dd-scroll",function(t,i){var e,l,n=function(){n.superclass.constructor.apply(this,arguments)},o="host",r="buffer",s="parentScroll",c="windowScroll",a="scrollTop",h="scrollLeft",g="offsetWidth",u="offsetHeight";n.ATTRS={parentScroll:{value:!1,setter:function(t){return t||!1}},buffer:{value:30,validator:t.Lang.isNumber},scrollDelay:{value:235,validator:t.Lang.isNumber},host:{value:null},windowScroll:{value:!1,validator:t.Lang.isBoolean},vertical:{value:!0,validator:t.Lang.isBoolean},horizontal:{value:!0,validator:t.Lang.isBoolean}},t.extend(n,t.Base,{_scrolling:null,_vpRegionCache:null,_dimCache:null,_scrollTimer:null,_getVPRegion:function(){var t,i=this.get(s),e=this.get(r),l=this.get(c),n=l?[]:i.getXY(),o=l?"winWidth":g,d=l?"winHeight":u,f=l?i.get(a):n[1],_=l?i.get(h):n[0];return t={top:f+e,right:i.get(o)+_-e,bottom:i.get(d)+f-e,left:_+e},this._vpRegionCache=t,t},initializer:function(){var i=this.get(o);i.after("drag:start",t.bind(this.start,this)),i.after("drag:end",t.bind(this.end,this)),i.on("drag:align",t.bind(this.align,this)),t.one("win").on("scroll",t.bind(function(){this._vpRegionCache=null},this))},_checkWinScroll:function(t){var i=this._getVPRegion(),e=this.get(o),l=this.get(c),n=e.lastXY,g=!1,u=this.get(r),d=this.get(s),f=d.get(a),_=d.get(h),S=this._dimCache.w,v=this._dimCache.h,m=n[1]+v,p=n[1],w=n[0]+S,T=n[0],D=p,N=T,R=f,b=_;this.get("horizontal")&&(T<=i.left&&(g=!0,N=n[0]-(l?u:0),b=_-u),w>=i.right&&(g=!0,N=n[0]+(l?u:0),b=_+u)),this.get("vertical")&&(m>=i.bottom&&(g=!0,D=n[1]+(l?u:0),R=f+u),p<=i.top&&(g=!0,D=n[1]-(l?u:0),R=f-u)),R<0&&(R=0,D=n[1]),b<0&&(b=0,N=n[0]),D<0&&(D=n[1]),N<0&&(N=n[0]),t?(e.actXY=[N,D],e._alignNode([N,D],!0),n=e.actXY,e.actXY=[N,D],e._moveNode({node:d,top:R,left:b}),R||b||this._cancelScroll()):g?this._initScroll():this._cancelScroll()},_initScroll:function(){this._cancelScroll(),this._scrollTimer=t.Lang.later(this.get("scrollDelay"),this,this._checkWinScroll,[!0],!0)},_cancelScroll:function(){this._scrolling=!1,this._scrollTimer&&(this._scrollTimer.cancel(),delete this._scrollTimer)},align:function(t){this._scrolling&&(this._cancelScroll(),t.preventDefault()),this._scrolling||this._checkWinScroll()},_setDimCache:function(){var t=this.get(o).get("dragNode");this._dimCache={h:t.get(u),w:t.get(g)}},start:function(){this._setDimCache()},end:function(){this._dimCache=null,this._cancelScroll()}}),t.namespace("Plugin"),(e=function(){e.superclass.constructor.apply(this,arguments)}).ATTRS=t.merge(n.ATTRS,{windowScroll:{value:!0,setter:function(i){return i&&this.set(s,t.one("win")),i}}}),t.extend(e,n,{initializer:function(){this.set("windowScroll",this.get("windowScroll"))}}),e.NAME=e.NS="winscroll",t.Plugin.DDWinScroll=e,(l=function(){l.superclass.constructor.apply(this,arguments)}).ATTRS=t.merge(n.ATTRS,{node:{value:!1,setter:function(i){var e=t.one(i);return e?this.set(s,e):!1!==i&&t.error("DDNodeScroll: Invalid Node Given: "+i),e}}}),t.extend(l,n,{initializer:function(){this.set("node",this.get("node"))}}),l.NAME=l.NS="nodescroll",t.Plugin.DDNodeScroll=l,t.DD.Scroll=n},"patched-v3.18.1",{requires:["dd-drag"]});