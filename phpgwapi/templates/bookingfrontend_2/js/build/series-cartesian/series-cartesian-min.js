YUI.add("series-cartesian",function(t,e){var a=t.Lang;t.CartesianSeries=t.Base.create("cartesianSeries",t.SeriesBase,[],{_xDisplayName:null,_yDisplayName:null,_leftOrigin:null,_bottomOrigin:null,addListeners:function(){var e=this.get("xAxis"),a=this.get("yAxis");e&&(this._xDataReadyHandle=e.after("dataReady",t.bind(this._xDataChangeHandler,this)),this._xDataUpdateHandle=e.after("dataUpdate",t.bind(this._xDataChangeHandler,this))),a&&(this._yDataReadyHandle=a.after("dataReady",t.bind(this._yDataChangeHandler,this)),this._yDataUpdateHandle=a.after("dataUpdate",t.bind(this._yDataChangeHandler,this))),this._xAxisChangeHandle=this.after("xAxisChange",this._xAxisChangeHandler),this._yAxisChangeHandle=this.after("yAxisChange",this._yAxisChangeHandler),this._stylesChangeHandle=this.after("stylesChange",function(){this._updateAxisBase()&&this.draw()}),this._widthChangeHandle=this.after("widthChange",function(){this._updateAxisBase()&&this.draw()}),this._heightChangeHandle=this.after("heightChange",function(){this._updateAxisBase()&&this.draw()}),this._visibleChangeHandle=this.after("visibleChange",this._handleVisibleChange)},_xAxisChangeHandler:function(){var e=this.get("xAxis");e.after("dataReady",t.bind(this._xDataChangeHandler,this)),e.after("dataUpdate",t.bind(this._xDataChangeHandler,this))},_yAxisChangeHandler:function(){var e=this.get("yAxis");e.after("dataReady",t.bind(this._yDataChangeHandler,this)),e.after("dataUpdate",t.bind(this._yDataChangeHandler,this))},GUID:"yuicartesianseries",_xDataChangeHandler:function(){this._updateAxisBase()&&this.draw()},_yDataChangeHandler:function(){this._updateAxisBase()&&this.draw()},_updateAxisBase:function(){var e,i,s,r,n,h=this.get("xAxis"),d=this.get("yAxis"),g=this.get("xKey"),l=this.get("yKey");return h&&d&&g&&l?(i=h.getDataByKey(g),e=d.getDataByKey(l),s=a.isArray(g)?!!(i&&t.Object.size(i)>0)&&this._checkForDataByKey(i,g):!!i,r=a.isArray(l)?!!(e&&t.Object.size(e)>0)&&this._checkForDataByKey(e,l):!!e,(n=s&&r)&&(this.set("xData",i),this.set("yData",e))):n=!1,n},_checkForDataByKey:function(t,e){var a,i=e.length,s=!1;for(a=0;a<i;a+=1)if(t[e[a]]){s=!0;break}return s},validate:function(){this.get("xData")&&this.get("yData")||this._updateAxisBase()?this.draw():this.fire("drawingComplete")},setAreaData:function(){var t,e,a=this.get("width"),i=this.get("height"),s=this.get("xAxis"),r=this.get("yAxis"),n=this._copyData(this.get("xData")),h=this._copyData(this.get("yData")),d="vertical"===this.get("direction")?h.length:n.length,g=s.getEdgeOffset(s.getTotalMajorUnits(),a),l=r.getEdgeOffset(r.getTotalMajorUnits(),i),o=this.get("styles").padding,y=o.left,_=o.top,f=a-(y+o.right+2*g),u=i-(_+o.bottom+2*l),c=s.get("maximum"),x=s.get("minimum"),D=r.get("maximum"),p=r.get("minimum"),m=this.get("graphic"),A=r.get("type"),C="numeric"===A||"stacked"===A,H=s.getOrigin(),v=r.getOrigin();m.set("width",a),m.set("height",i),g+=y,l=C?l+u+_+o.bottom:_+l,this._leftOrigin=Math.round(s._getCoordFromValue(x,c,f,H,g,!1)),this._bottomOrigin=Math.round(r._getCoordFromValue(p,D,u,v,l,C)),t=this._getCoords(x,c,f,n,s,g,!1),e=this._getCoords(p,D,u,h,r,l,C),this.set("xcoords",t),this.set("ycoords",e),this._dataLength=d,this._setXMarkerPlane(t,d),this._setYMarkerPlane(e,d)},_getCoords:function(t,e,i,s,r,n,h){var d,g;if(a.isArray(s))d=r._getCoordsFromValues(t,e,i,s,n,h);else for(g in d={},s)s.hasOwnProperty(g)&&(d[g]=this._getCoords.apply(this,[t,e,i,s[g],r,n,h]));return d},_copyData:function(t){var e,i;if(a.isArray(t))e=t.concat();else for(i in e={},t)t.hasOwnProperty(i)&&(e[i]=t[i].concat());return e},_setXMarkerPlane:function(t,e){var i,s=0,r=[],n=this.get("xMarkerPlaneOffset");if(a.isArray(t)){for(s=0;s<e;s+=1)i=t[s],r.push({start:i-n,end:i+n});this.set("xMarkerPlane",r)}},_setYMarkerPlane:function(t,e){var i,s=0,r=[],n=this.get("yMarkerPlaneOffset");if(a.isArray(t)){for(s=0;s<e;s+=1)i=t[s],r.push({start:i-n,end:i+n});this.set("yMarkerPlane",r)}},_getFirstValidIndex:function(t){for(var e,i=-1,s=t.length;!a.isNumber(e)&&i<s;)e=t[i+=1];return i},_getLastValidIndex:function(t){for(var e,i=t.length;!a.isNumber(e)&&i>-1;)e=t[i-=1];return i},draw:function(){var t,e,a=this.get("width"),i=this.get("height");if(this.get("rendered")&&isFinite(a)&&isFinite(i)&&a>0&&i>0&&(this.get("xData")&&this.get("yData")||this._updateAxisBase())){if(this._drawing)return void(this._callLater=!0);this._drawing=!0,this._callLater=!1,this.setAreaData(),t=this.get("xcoords"),e=this.get("ycoords"),t&&e&&t.length>0&&this.drawSeries(),this._drawing=!1,this._callLater?this.draw():(this._toggleVisible(this.get("visible")),this.fire("drawingComplete"))}},_defaultPlaneOffset:4,destructor:function(){this.get("rendered")&&(this._xDataReadyHandle&&this._xDataReadyHandle.detach(),this._xDataUpdateHandle&&this._xDataUpdateHandle.detach(),this._yDataReadyHandle&&this._yDataReadyHandle.detach(),this._yDataUpdateHandle&&this._yDataUpdateHandle.detach(),this._xAxisChangeHandle&&this._xAxisChangeHandle.detach(),this._yAxisChangeHandle&&this._yAxisChangeHandle.detach())}},{ATTRS:{seriesTypeCollection:{},xDisplayName:{getter:function(){return this._xDisplayName||this.get("xKey")},setter:function(t){return this._xDisplayName=t.toString(),t}},yDisplayName:{getter:function(){return this._yDisplayName||this.get("yKey")},setter:function(t){return this._yDisplayName=t.toString(),t}},categoryDisplayName:{lazyAdd:!1,getter:function(){return"vertical"===this.get("direction")?this.get("yDisplayName"):this.get("xDisplayName")},setter:function(t){return"vertical"===this.get("direction")?this._yDisplayName=t:this._xDisplayName=t,t}},valueDisplayName:{lazyAdd:!1,getter:function(){return"vertical"===this.get("direction")?this.get("xDisplayName"):this.get("yDisplayName")},setter:function(t){return"vertical"===this.get("direction")?this._xDisplayName=t:this._yDisplayName=t,t}},type:{value:"cartesian"},order:{},graphOrder:{},xcoords:{},ycoords:{},xAxis:{},yAxis:{},xKey:{setter:function(t){return a.isArray(t)?t:t.toString()}},yKey:{setter:function(t){
return a.isArray(t)?t:t.toString()}},xData:{},yData:{},xMarkerPlane:{},yMarkerPlane:{},xMarkerPlaneOffset:{getter:function(){var t=this.get("styles").marker;return t&&t.width&&isFinite(t.width)?.5*t.width:this._defaultPlaneOffset}},yMarkerPlaneOffset:{getter:function(){var t=this.get("styles").marker;return t&&t.height&&isFinite(t.height)?.5*t.height:this._defaultPlaneOffset}},direction:{value:"horizontal"}}})},"patched-v3.18.1",{requires:["series-base"]});