YUI.add("series-column-stacked",function(t,e){var i=t.Lang;t.StackedColumnSeries=t.Base.create("stackedColumnSeries",t.ColumnSeries,[t.StackingUtil],{drawSeries:function(){if(!(this.get("xcoords").length<1)){var t,e,r,s,o,l,h=i.isNumber,a=this._copyObject(this.get("styles").marker),g=a.width,c=a.height,n=this.get("xcoords"),d=this.get("ycoords"),u=0,m=n.length,b=d[0],_=this.get("seriesTypeCollection"),p=this.get("order"),f=this.get("graphOrder"),k=0===p,O=m*g,y={width:[],height:[]},v=[],C=[],w=this.get("groupMarkers");for(i.isArray(a.fill.color)&&(e=a.fill.color.concat()),i.isArray(a.border.color)&&(r=a.border.color.concat()),this._createMarkerCache(),O>this.get("width")&&(g*=this.get("width")/O,g=Math.max(g,1)),k?(o=[],l=[]):(o=(s=_[p-1]).get("negativeBaseValues"),l=s.get("positiveBaseValues"),o&&l||(k=!0,l=[],o=[])),this.set("negativeBaseValues",o),this.set("positiveBaseValues",l),u=0;u<m;++u)t=n[u],h(b=d[u])&&h(t)?(k?(c=Math.abs(this._bottomOrigin-b),b<this._bottomOrigin?(l[u]=b,o[u]=this._bottomOrigin):b>this._bottomOrigin?(l[u]=this._bottomOrigin,o[u]=b,b-=c):(l[u]=b,o[u]=b)):b>this._bottomOrigin?(c=(b+=o[u]-this._bottomOrigin)-o[u],o[u]=b,b-=c):b<=this._bottomOrigin&&(b=l[u]-(this._bottomOrigin-b),c=l[u]-b,l[u]=b),!isNaN(c)&&c>0?(t-=g/2,w?(y.width[u]=g,y.height[u]=c,v.push(t),C.push(b)):(a.width=g,a.height=c,a.x=t,a.y=b,e&&(a.fill.color=e[u%e.length]),r&&(a.border.color=r[u%r.length]),this.getMarker(a,f,u))):w||this._markers.push(null)):(k&&(o[u]=this._bottomOrigin,l[u]=this._bottomOrigin),this._markers.push(null));w?this._createGroupMarker({fill:a.fill,border:a.border,dimensions:y,xvalues:v,yvalues:C,shape:a.shape}):this._clearMarkerCache()}},updateMarkerState:function(t,e){if(this._markers&&this._markers[e]){var r,s,o,l,h,a=this._getState(t),g=this.get("xcoords"),c=this._markers[e];o=.5*(r=this.get("styles").marker).width,(s="off"!==a&&r[a]?this._copyObject(r[a]):this._copyObject(r)).height=c.get("height"),s.x=g[e]-o,s.y=c.get("y"),s.id=c.get("id"),l=s.fill.color,h=s.border.color,i.isArray(l)?s.fill.color=l[e%l.length]:s.fill.color=this._getItemColor(s.fill.color,e),i.isArray(h)?s.border.color=h[e%h.length]:s.border.color=this._getItemColor(s.border.color,e),c.set(s)}},_getPlotDefaults:function(){var t={fill:{type:"solid",alpha:1,colors:null,alphas:null,ratios:null},border:{weight:0,alpha:1},width:24,height:24,shape:"rect",padding:{top:0,left:0,right:0,bottom:0}};return t.fill.color=this._getDefaultColor(this.get("graphOrder"),"fill"),t.border.color=this._getDefaultColor(this.get("graphOrder"),"border"),t}},{ATTRS:{type:{value:"stackedColumn"},negativeBaseValues:{value:null},positiveBaseValues:{value:null}}})},"patched-v3.18.1",{requires:["series-stacked","series-column"]});